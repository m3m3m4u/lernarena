"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/kurs/[courseId]/lektion/[lessonId]/page",{

/***/ "(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx":
/*!*************************************************************!*\
  !*** ./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LessonPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!react */ \"(app-pages-browser)/__barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../components/lessonTypes */ \"(app-pages-browser)/./src/components/lessonTypes/index.ts\");\n/* harmony import */ var _lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../lib/lessonCompletion */ \"(app-pages-browser)/./src/lib/lessonCompletion.ts\");\n/* harmony import */ var _lib_media__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../lib/media */ \"(app-pages-browser)/./src/lib/media.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n// Ausgelagerte Lektionstyp-Komponenten (schrittweises Refactoring)\n\n\n\nfunction LessonPage() {\n    var _lesson_content, _session_user, _lesson_content1, _session_user1, _session_user2, _lesson_questions;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const courseId = params.courseId;\n    const lessonId = params.lessonId;\n    const { data: session } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession)();\n    const [lesson, setLesson] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [loading, setLoading] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [, setCurrentQuestionIndex] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0); // DEPRECATED (für alte Logik)\n    const [questionQueue, setQuestionQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Reihenfolge offener Fragen\n    const [mastered, setMastered] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // korrekt beantwortete Fragen\n    const [marking, setMarking] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false); // Server-Update Status\n    const [selectedAnswer, setSelectedAnswer] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Neu: Auswahl für Multiple-Choice\n    const [selectedAnswers, setSelectedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [showResult, setShowResult] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isCorrect, setIsCorrect] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [score, setScore] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [completed, setCompleted] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [allLessons, setAllLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // für Footer-Navigation\n    const [progressionMode, setProgressionMode] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('free');\n    const [completedLessons, setCompletedLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // erledigte Lektionen\n    // Lückentext States (immer aufrufen, nicht konditional)\n    const [ltAnswersState, setLtAnswersState] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [ltChecked, setLtChecked] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltCorrectAll, setLtCorrectAll] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltUsedAnswers, setLtUsedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [ltFocusGap, setLtFocusGap] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Lückentext derived Daten (immer Hooks gleich halten)\n    const ltMasked = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltMasked]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? String((lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.markdownMasked) || '') : '';\n        }\n    }[\"LessonPage.useMemo[ltMasked]\"], [\n        lesson\n    ]);\n    const ltGaps = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltGaps]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? Array.isArray(lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.gaps) ? (lesson === null || lesson === void 0 ? void 0 : lesson.content).gaps.map({\n                \"LessonPage.useMemo[ltGaps]\": (g)=>({\n                        id: g.id,\n                        answer: String(g.answer)\n                    })\n            }[\"LessonPage.useMemo[ltGaps]\"]) : [] : [];\n        }\n    }[\"LessonPage.useMemo[ltGaps]\"], [\n        lesson\n    ]);\n    const ltMode = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' && (lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.mode) === 'drag' ? 'drag' : 'input';\n    const ltParts = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltParts]\": ()=>ltMasked ? ltMasked.split(/(___\\d+___)/g).filter(Boolean) : []\n    }[\"LessonPage.useMemo[ltParts]\"], [\n        ltMasked\n    ]);\n    const ltBank = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltBank]\": ()=>{\n            if (ltMode !== 'drag') return [];\n            const shuffle = {\n                \"LessonPage.useMemo[ltBank].shuffle\": (arr)=>arr.map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (v)=>[\n                                Math.random(),\n                                v\n                            ]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).sort({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (a, b)=>a[0] - b[0]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (param)=>{\n                            let [, v] = param;\n                            return v;\n                        }\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"])\n            }[\"LessonPage.useMemo[ltBank].shuffle\"];\n            return shuffle(ltGaps.map({\n                \"LessonPage.useMemo[ltBank]\": (g)=>g.answer\n            }[\"LessonPage.useMemo[ltBank]\"]));\n        }\n    }[\"LessonPage.useMemo[ltBank]\"], [\n        ltMode,\n        ltGaps\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // Reset bei Lektionstyp-Wechsel\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext') {\n                setLtAnswersState({});\n                setLtChecked(false);\n                setLtCorrectAll(false);\n                setLtUsedAnswers([]);\n                setLtFocusGap(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type\n    ]);\n    const loadLesson = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[loadLesson]\": async ()=>{\n            try {\n                const response = await fetch(\"/api/kurs/\".concat(courseId, \"/lektionen\"));\n                if (response.ok) {\n                    const payload = await response.json();\n                    const lessonArray = Array.isArray(payload) ? payload : payload.lessons || [];\n                    setAllLessons(lessonArray);\n                    // progressionMode vom Kurs laden (jetzt meist in der Antwort enthalten)\n                    if (payload.course && payload.course.progressionMode) {\n                        setProgressionMode(payload.course.progressionMode === 'linear' ? 'linear' : 'free');\n                    } else {\n                        setProgressionMode('free');\n                    }\n                    let foundLesson = lessonArray.find({\n                        \"LessonPage.useCallback[loadLesson].foundLesson\": (l)=>l._id === lessonId || l.id === lessonId\n                    }[\"LessonPage.useCallback[loadLesson].foundLesson\"]);\n                    if (!foundLesson) {\n                        // Fallback: Direkt über globalen Endpoint laden (für exercise-pool oder abweichende Organisation)\n                        try {\n                            const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                            if (lr.ok) {\n                                const ld = await lr.json();\n                                if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                                    foundLesson = ld.lesson;\n                                    setAllLessons([\n                                        ld.lesson\n                                    ]);\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                    if (foundLesson) setLesson(foundLesson);\n                    if (foundLesson) {\n                        var _foundLesson_questions;\n                        // Initial Queue setzen\n                        const total = ((_foundLesson_questions = foundLesson.questions) === null || _foundLesson_questions === void 0 ? void 0 : _foundLesson_questions.length) || 0;\n                        setQuestionQueue(Array.from({\n                            length: total\n                        }, {\n                            \"LessonPage.useCallback[loadLesson]\": (_, i)=>i\n                        }[\"LessonPage.useCallback[loadLesson]\"]));\n                        setMastered(new Set());\n                        setScore(0);\n                        setCompleted(false);\n                        setCurrentQuestionIndex(0); // legacy\n                        // In-Progress markieren falls noch nicht abgeschlossen\n                        try {\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            const completedStored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                            const foundId = foundLesson._id || foundLesson.id;\n                            if (foundId && !completedStored.includes(foundId)) {\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (!inProg.includes(foundId)) {\n                                    const updated = [\n                                        ...inProg,\n                                        foundId\n                                    ];\n                                    localStorage.setItem(inProgressKey, JSON.stringify(updated));\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                } else {\n                    // Harte Fallback-Strategie: direkt per ID laden (z. B. exercise-pool oder Kurs-Fetch-Problem)\n                    try {\n                        const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                        if (lr.ok) {\n                            const ld = await lr.json();\n                            if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                                setLesson(ld.lesson);\n                                setAllLessons([\n                                    ld.lesson\n                                ]);\n                                setProgressionMode('free');\n                            }\n                        }\n                    } catch (e) {}\n                }\n                setLoading(false);\n            } catch (error) {\n                console.error('Fehler beim Laden der Lektion:', error);\n                // Letzter Versuch: Direkt per ID\n                try {\n                    const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                    if (lr.ok) {\n                        const ld = await lr.json();\n                        if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                            setLesson(ld.lesson);\n                            setAllLessons([\n                                ld.lesson\n                            ]);\n                            setProgressionMode('free');\n                        }\n                    }\n                } catch (e) {}\n                setLoading(false);\n            }\n        }\n    }[\"LessonPage.useCallback[loadLesson]\"], [\n        courseId,\n        lessonId\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            loadLesson();\n        }\n    }[\"LessonPage.useEffect\"], [\n        loadLesson\n    ]);\n    // Zuletzt weitergemacht (für Dashboard): beim Öffnen merken\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            try {\n                if (courseId) localStorage.setItem('last:courseId', String(courseId));\n                if (lessonId) localStorage.setItem('last:lessonId', String(lessonId));\n                if (courseId) localStorage.setItem(\"course:\".concat(courseId, \":lastTouched\"), String(Date.now()));\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId,\n        lessonId\n    ]);\n    // Helper zum Normalisieren von Antworten (früher vorhanden, wiederhergestellt)\n    const norm = (s)=>typeof s === 'string' ? s.trim() : String(s !== null && s !== void 0 ? s : '');\n    const handleAnswerSelect = (answer)=>{\n        if (showResult) return;\n        if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'multiple-choice') {\n            setSelectedAnswers((prev)=>prev.includes(answer) ? prev.filter((a)=>a !== answer) : [\n                    ...prev,\n                    answer\n                ]);\n            return;\n        }\n        setSelectedAnswer(answer);\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correct = norm(answer) === norm(currentQuestion.correctAnswer);\n        setIsCorrect(correct);\n        setShowResult(true);\n        if (correct && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    const handleCheckMultiple = ()=>{\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correctList = (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : currentQuestion.correctAnswer ? [\n            currentQuestion.correctAnswer\n        ] : []).map(norm);\n        const selNorm = selectedAnswers.map(norm);\n        const isSetEqual = selNorm.length === correctList.length && correctList.every((a)=>selNorm.includes(a));\n        setIsCorrect(isSetEqual);\n        setShowResult(true);\n        if (isSetEqual && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    // Multi Text-Antwort States\n    const [textAnswerInput, setTextAnswerInput] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [textAnswerFeedback, setTextAnswerFeedback] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [textAnswerQueue, setTextAnswerQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Index-Reihenfolge der noch offenen Blöcke\n    const [textAnswerSolved, setTextAnswerSolved] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n    const [textAnswerRevealed, setTextAnswerRevealed] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // Gesamt-Flag (Analytics)\n    const [textAnswerRevealRound, setTextAnswerRevealRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({}); // index -> Runde\n    const [textAnswerRound, setTextAnswerRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    const [textAnswerJustRevealedIdx, setTextAnswerJustRevealedIdx] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const textAnswerBlocks = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[textAnswerBlocks]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return [];\n            const c = lesson.content || {};\n            if (Array.isArray(c.blocks)) {\n                return c.blocks.filter({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>b && typeof b.question === 'string' && Array.isArray(b.answers) && b.answers.length > 0\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]).map({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>({\n                            question: String(b.question),\n                            answers: b.answers.map({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>String(a)\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]).filter({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>a.length > 0\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]),\n                            media: b.media && String(b.media)\n                        })\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]);\n            }\n            if (c.question && c.answer) return [\n                {\n                    question: String(c.question),\n                    answers: [\n                        String(c.answer)\n                    ]\n                }\n            ];\n            return [];\n        }\n    }[\"LessonPage.useMemo[textAnswerBlocks]\"], [\n        lesson\n    ]);\n    // Initial Queue setzen wenn Blocks geladen\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer') {\n                setTextAnswerQueue(textAnswerBlocks.map({\n                    \"LessonPage.useEffect\": (_, i)=>i\n                }[\"LessonPage.useEffect\"]));\n                setTextAnswerSolved(new Set());\n                setTextAnswerRevealed(new Set());\n                setTextAnswerRound(1);\n                setTextAnswerRevealRound({});\n                setTextAnswerInput('');\n                setTextAnswerFeedback(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type,\n        textAnswerBlocks.length\n    ]);\n    const submitTextAnswer = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            if (!textAnswerBlocks.length || !textAnswerQueue.length) return;\n            const c = lesson.content || {};\n            const caseSensitive = !!c.caseSensitive;\n            const normalize = {\n                \"LessonPage.useCallback[submitTextAnswer].normalize\": (s)=>caseSensitive ? s.trim() : s.trim().toLowerCase()\n            }[\"LessonPage.useCallback[submitTextAnswer].normalize\"];\n            const currentIndex = textAnswerQueue[0];\n            const current = textAnswerBlocks[currentIndex];\n            const userNorm = normalize(textAnswerInput);\n            if (!userNorm) {\n                setTextAnswerFeedback('Bitte etwas eingeben.');\n                return;\n            }\n            const correctNorms = current.answers.map({\n                \"LessonPage.useCallback[submitTextAnswer].correctNorms\": (a)=>normalize(a)\n            }[\"LessonPage.useCallback[submitTextAnswer].correctNorms\"]);\n            if (correctNorms.includes(userNorm)) {\n                setTextAnswerFeedback('✅ Korrekt!');\n                setTimeout({\n                    \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n                        setTextAnswerSolved({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>new Set(prev).add(currentIndex)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                        setTextAnswerInput('');\n                        setTextAnswerFeedback(null);\n                        // Nächste Frage\n                        setTextAnswerQueue({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>prev.slice(1)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                    }\n                }[\"LessonPage.useCallback[submitTextAnswer]\"], 400);\n                return;\n            }\n            setTextAnswerFeedback('❌ Nicht korrekt.');\n        }\n    }[\"LessonPage.useCallback[submitTextAnswer]\"], [\n        lesson,\n        textAnswerBlocks,\n        textAnswerQueue,\n        textAnswerInput\n    ]);\n    const revealCurrentTextAnswer = ()=>{\n        if (!lesson || lesson.type !== 'text-answer') return;\n        if (!textAnswerQueue.length) return;\n        const idx = textAnswerQueue[0];\n        setTextAnswerRevealed((prev)=>new Set(prev).add(idx));\n        setTextAnswerRevealRound((prev)=>({\n                ...prev,\n                [idx]: textAnswerRound\n            }));\n        setTextAnswerFeedback('🛈 Antwort eingeblendet. Später erneut beantworten.');\n        setTextAnswerJustRevealedIdx(idx);\n        setTextAnswerInput('');\n    };\n    const advanceAfterReveal = ()=>{\n        if (textAnswerJustRevealedIdx == null) return;\n        setTextAnswerQueue((prev)=>prev[0] === textAnswerJustRevealedIdx ? prev.slice(1) : prev);\n        setTextAnswerJustRevealedIdx(null);\n        setTextAnswerFeedback(null);\n    };\n    // Wenn Queue leer aber noch nicht alle solved -> neue Runde mit nur ungelösten (reveal Fragen)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer' && textAnswerQueue.length === 0 && textAnswerBlocks.length) {\n                const total = textAnswerBlocks.length;\n                if (textAnswerSolved.size === total) {\n                    setCompleted(true);\n                } else {\n                    const remaining = textAnswerBlocks.map({\n                        \"LessonPage.useEffect.remaining\": (_, i)=>i\n                    }[\"LessonPage.useEffect.remaining\"]).filter({\n                        \"LessonPage.useEffect.remaining\": (i)=>!textAnswerSolved.has(i)\n                    }[\"LessonPage.useEffect.remaining\"]);\n                    setTextAnswerQueue(remaining);\n                    setTextAnswerRound({\n                        \"LessonPage.useEffect\": (r)=>r + 1\n                    }[\"LessonPage.useEffect\"]);\n                    setTextAnswerFeedback(null);\n                }\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        textAnswerQueue.length,\n        textAnswerSolved,\n        textAnswerBlocks,\n        lesson\n    ]);\n    // NEU: Abschluss + Stern für Text-Antwort Lektionen (bisher fehlte API-Aufruf)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                if (!username) return;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await fetch('/api/lesson/complete', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id,\n                                    courseId: lesson.courseId,\n                                    type: lesson.type,\n                                    earnedStar: true\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            await fetch('/api/progress', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            try {\n                                const stored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                                if (!stored.includes(lesson._id)) {\n                                    const updated = [\n                                        ...stored,\n                                        lesson._id\n                                    ];\n                                    localStorage.setItem(completedKey, JSON.stringify(updated));\n                                    setCompletedLessons(updated);\n                                }\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (Array.isArray(inProg) && inProg.includes(lesson._id)) {\n                                    localStorage.setItem(inProgressKey, JSON.stringify(inProg.filter({\n                                        \"LessonPage.useEffect\": (id)=>id !== lesson._id\n                                    }[\"LessonPage.useEffect\"])));\n                                }\n                            } catch (e) {}\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username,\n        courseId\n    ]);\n    // Wiederhergestellt: Fortschrittslogik nach Bewertung\n    const handleNextQuestion = ()=>{\n        if (!lesson || questionQueue.length === 0) return;\n        const currentIdx = questionQueue[0];\n        let newQueue = [\n            ...questionQueue\n        ];\n        if (isCorrect) {\n            if (!mastered.has(currentIdx)) {\n                const newMastered = new Set(mastered);\n                newMastered.add(currentIdx);\n                setMastered(newMastered);\n            }\n            newQueue.shift();\n        } else {\n            newQueue = [\n                ...newQueue.slice(1),\n                currentIdx\n            ];\n        }\n        setQuestionQueue(newQueue);\n        setSelectedAnswer(\"\");\n        setSelectedAnswers([]);\n        setShowResult(false);\n        if (newQueue.length === 0) {\n            setCompleted(true);\n            (async ()=>{\n                try {\n                    var _session_user;\n                    const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                    setMarking(true);\n                    await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                        username,\n                        lessonId: lesson._id,\n                        courseId: lesson.courseId,\n                        type: lesson.type,\n                        earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                    });\n                    setCompletedLessons((prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]);\n                } catch (e) {\n                    console.error('Abschließen fehlgeschlagen', e);\n                } finally{\n                    setMarking(false);\n                }\n            })();\n        } else {\n            setCurrentQuestionIndex(newQueue[0]);\n        }\n    };\n    const handleRetry = ()=>{\n        setCurrentQuestionIndex(0);\n        setSelectedAnswer(\"\");\n        setShowResult(false);\n        setScore(0);\n        setCompleted(false);\n        setSelectedAnswers([]);\n    };\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // erledigte Lektionen aus localStorage laden\n            const key = \"course:\".concat(courseId, \":completedLessons\");\n            try {\n                const stored = JSON.parse(localStorage.getItem(key) || '[]');\n                if (Array.isArray(stored)) setCompletedLessons(stored);\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId\n    ]);\n    // (Entfernt) früherer Effekt für generisches Speichern bei completed -> Logik jetzt in finalizeLesson Stellen zentralisiert\n    // Neu: Typen-Flags und Abschluss-Funktion für YouTube\n    const isMarkdown = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'markdown' && ((_lesson_content1 = lesson.content) === null || _lesson_content1 === void 0 ? void 0 : _lesson_content1.markdown);\n    const isVideo = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'video';\n    const isLueckentext = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext';\n    const isOrdering = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'ordering';\n    const isSnake = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'snake' || (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'minigame';\n    const markVideoCompleted = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[markVideoCompleted]\": async ()=>{\n            var _session_user;\n            const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n            if (!lesson) return;\n            if (completedLessons.includes(lesson._id)) return;\n            setMarking(true);\n            try {\n                await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                    username,\n                    lessonId: lesson._id,\n                    courseId: lesson.courseId,\n                    type: lesson.type,\n                    earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                });\n                setCompletedLessons({\n                    \"LessonPage.useCallback[markVideoCompleted]\": (prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]\n                }[\"LessonPage.useCallback[markVideoCompleted]\"]);\n            } catch (e) {\n                console.error('Video Abschluss fehlgeschlagen', e);\n            } finally{\n                setMarking(false);\n            }\n        }\n    }[\"LessonPage.useCallback[markVideoCompleted]\"], [\n        session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.username,\n        lesson,\n        completedLessons,\n        courseId\n    ]);\n    // Abschluss Text-Antwort Lektion (centralized)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                                username,\n                                lessonId: lesson._id,\n                                courseId: lesson.courseId,\n                                type: lesson.type,\n                                earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                            });\n                            setCompletedLessons({\n                                \"LessonPage.useEffect\": (prev)=>prev.includes(lesson._id) ? prev : [\n                                        ...prev,\n                                        lesson._id\n                                    ]\n                            }[\"LessonPage.useEffect\"]);\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user2 = session.user) === null || _session_user2 === void 0 ? void 0 : _session_user2.username,\n        courseId\n    ]);\n    // Early Returns jetzt NACH allen Hooks\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent text-blue-600 rounded-full\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 447,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-gray-600\",\n                        children: \"Lektion wird geladen...\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 448,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 446,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 445,\n            columnNumber: 7\n        }, this);\n    }\n    if (!lesson) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6 bg-white rounded shadow\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-xl font-bold text-red-600\",\n                    children: \"Lektion nicht gefunden\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 457,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-600 mt-2\",\n                    children: \"Die angeforderte Lektion konnte nicht geladen werden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 458,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"mt-4 text-blue-600 hover:underline\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 459,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 456,\n            columnNumber: 7\n        }, this);\n    }\n    const totalQuestions = ((_lesson_questions = lesson.questions) === null || _lesson_questions === void 0 ? void 0 : _lesson_questions.length) || 0;\n    const progress = totalQuestions > 0 ? mastered.size / totalQuestions * 100 : 0;\n    const currentQuestion = lesson.questions && questionQueue.length > 0 ? lesson.questions[questionQueue[0]] : undefined;\n    const currentMedia = (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.mediaLink) ? (0,_lib_media__WEBPACK_IMPORTED_MODULE_6__.resolveMediaPath)(String(currentQuestion.mediaLink)) : '';\n    // Vorberechnete korrekte Antworten (normalisiert) für Anzeige/Checks\n    const correctListNormalized = currentQuestion && (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.correctAnswer) ? [\n        currentQuestion.correctAnswer\n    ] : []).map(norm) || [];\n    // Snake frühe Rückgabe\n    // Lock-Redirect bei linearer Progression: wenn vorherige Lektion nicht abgeschlossen\n    if (lesson && progressionMode === 'linear') {\n        const index = allLessons.findIndex((l)=>l._id === lesson._id || l.id === lesson._id);\n        if (index > 0) {\n            const prev = allLessons[index - 1];\n            const prevId = prev._id || prev.id;\n            if (prevId && !completedLessons.includes(prevId)) {\n                // redirect zurück auf Kursseite\n                if (true) {\n                    router.replace(\"/kurs/\".concat(courseId));\n                }\n            }\n        }\n    }\n    if (lesson && isSnake) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 492,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 493,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.SnakeGame, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 494,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 495,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 491,\n            columnNumber: 7\n        }, this);\n    }\n    // Render für Markdown-Lektion\n    if (isMarkdown) {\n        var _session_user3;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 504,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 505,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MarkdownLesson, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons,\n                    sessionUsername: session === null || session === void 0 ? void 0 : (_session_user3 = session.user) === null || _session_user3 === void 0 ? void 0 : _session_user3.username\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 506,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 507,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 503,\n            columnNumber: 7\n        }, this);\n    }\n    const isMultiple = lesson.type === 'multiple-choice';\n    const isMatching = lesson.type === 'matching';\n    const hasMemoryPairs = !!(lesson.content && lesson.content.pairs && Array.isArray(lesson.content.pairs));\n    const effectiveType = lesson.type === 'memory' || lesson.type === 'matching' && hasMemoryPairs ? 'memory' : lesson.type;\n    const isMemory = effectiveType === 'memory';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-6xl mx-auto mt-10 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                        className: \"text-blue-600 hover:underline mb-4\",\n                        children: \"← Zur\\xfcck zum Kurs\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 521,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-2\",\n                        children: lesson.title\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 522,\n                        columnNumber: 9\n                    }, this),\n                    !isVideo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full bg-gray-200 rounded-full h-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n                                    style: {\n                                        width: \"\".concat(progress, \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 526,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 525,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600 mt-1\",\n                                children: [\n                                    \"Fortschritt: \",\n                                    mastered.size,\n                                    \" / \",\n                                    totalQuestions,\n                                    \" gemeistert\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 528,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 520,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-lg shadow-lg p-8\",\n                children: isVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.YouTubeLesson, {\n                    lesson: lesson,\n                    onCompleted: markVideoCompleted\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 534,\n                    columnNumber: 11\n                }, this) : effectiveType === 'memory' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MemoryGame, {\n                    lesson: {\n                        ...lesson,\n                        type: 'memory'\n                    },\n                    onCompleted: ()=>{\n                        setIsCorrect(true);\n                        setShowResult(true);\n                        setCompleted(true);\n                    },\n                    completedLessons: completedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 536,\n                    columnNumber: 11\n                }, this) : currentQuestion ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-6\",\n                            children: currentQuestion.question\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 539,\n                            columnNumber: 13\n                        }, this),\n                        !isMatching && currentMedia && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n                            children: (0,_lib_media__WEBPACK_IMPORTED_MODULE_6__.isImagePath)(currentMedia) ? // eslint-disable-next-line @next/next/no-img-element\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: currentMedia,\n                                alt: \"Frage Bild\",\n                                className: \"max-w-full max-h-64 object-contain mx-auto border rounded\",\n                                onError: (e)=>{\n                                    const el = e.currentTarget;\n                                    const name = currentMedia.split('/').pop() || '';\n                                    if (!el.dataset.fallback1 && name) {\n                                        el.dataset.fallback1 = '1';\n                                        el.src = \"/media/bilder/\".concat(name);\n                                    } else if (!el.dataset.fallback2 && name) {\n                                        el.dataset.fallback2 = '1';\n                                        el.src = \"/media/\".concat(name);\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 545,\n                                columnNumber: 19\n                            }, this) : (0,_lib_media__WEBPACK_IMPORTED_MODULE_6__.isAudioPath)(currentMedia) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                                controls: true,\n                                className: \"w-full max-w-md mx-auto\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentMedia\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 553,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentMedia.replace('/uploads/', '/media/audio/')\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 554,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentMedia.replace('/uploads/', '/media/')\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 555,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-red-600 text-sm\",\n                                        children: \"Audio wird vom Browser nicht unterst\\xfctzt\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 556,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 552,\n                                columnNumber: 19\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: currentMedia,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                className: \"text-blue-600 hover:underline break-all\",\n                                children: [\n                                    \"\\uD83D\\uDCCE \",\n                                    currentMedia\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 559,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 542,\n                            columnNumber: 15\n                        }, this),\n                        isMatching ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MatchingUI, {\n                                    question: currentQuestion,\n                                    onSolved: ()=>{\n                                        setIsCorrect(true);\n                                        setShowResult(true);\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 574,\n                                    columnNumber: 17\n                                }, this),\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleNextQuestion,\n                                            className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                            children: \"Weiter\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 583,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium text-green-700\",\n                                            children: \"Alle Paare korrekt verbunden!\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 584,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 582,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3 mb-6\",\n                            children: isMultiple ? currentQuestion.allAnswers.map((answer, index)=>{\n                                const isSelected = selectedAnswers.includes(answer);\n                                const isCorrectAns = correctListNormalized.includes(norm(answer));\n                                let buttonClass = \"w-full p-4 text-left border-2 rounded-lg transition-all \";\n                                if (showResult) {\n                                    if (isCorrectAns) {\n                                        buttonClass += \"border-green-500 bg-green-50 text-green-800\";\n                                    } else if (isSelected && !isCorrectAns) {\n                                        buttonClass += \"border-red-500 bg-red-50 text-red-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 bg-gray-50 text-gray-600\";\n                                    }\n                                } else {\n                                    if (isSelected) {\n                                        buttonClass += \"border-blue-500 bg-blue-50 text-blue-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 hover:border-gray-300 hover:bg-gray-50\";\n                                    }\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: buttonClass,\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 611,\n                                    columnNumber: 23\n                                }, this);\n                            }) : currentQuestion.allAnswers.map((answer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: \"w-full p-4 text-left border-2 rounded-lg transition-all \".concat(selectedAnswer === answer ? 'border-blue-500 bg-blue-50 text-blue-800' : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'),\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 623,\n                                    columnNumber: 21\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 589,\n                            columnNumber: 15\n                        }, this),\n                        !isMatching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 mt-4\",\n                            children: [\n                                isMultiple && !showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCheckMultiple,\n                                    className: \"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700\",\n                                    children: \"Antwort pr\\xfcfen\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 642,\n                                    columnNumber: 19\n                                }, this) : showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleNextQuestion,\n                                    className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                    children: \"Weiter\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 645,\n                                    columnNumber: 21\n                                }, this) : null,\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium \".concat(isCorrect ? 'text-green-700' : 'text-red-700'),\n                                    children: isCorrect ? 'Richtig!' : 'Leider falsch.'\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 649,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 640,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Keine Frage vorhanden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 657,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 532,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                allLessons: allLessons,\n                currentLessonId: lessonId,\n                courseId: courseId,\n                completedLessons: completedLessons,\n                progressionMode: progressionMode\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 662,\n                columnNumber: 3\n            }, this),\n            isMemory && completed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 text-green-700 font-medium\",\n                children: \"✔️ Memory abgeschlossen!\"\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 663,\n                columnNumber: 33\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n        lineNumber: 519,\n        columnNumber: 3\n    }, this);\n} // Client-Komponente für Markdown Rendering\n // MatchingUI jetzt ausgelagert\n // OrderingPlayer und LueckentextPlayer ausgelagert\n_s(LessonPage, \"qrbYrjR5iZF6jJRcXZ0Z8/WkqoU=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter,\n        next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession\n    ];\n});\n_c = LessonPage;\nvar _c;\n$RefreshReg$(_c, \"LessonPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAva3Vycy9bY291cnNlSWRdL2xla3Rpb24vW2xlc3NvbklkXS9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUN1RDtBQUNXO0FBQ3JCO0FBQzdDLG1FQUFtRTtBQUNpSDtBQUMvRztBQUVpQjtBQUd2RSxTQUFTaUI7UUFnQytDQyxpQkF5UkhDLGVBbUVoQkQsa0JBd0I5Q0MsZ0JBd0I4REEsZ0JBd0IzQ0Q7O0lBbmN2QixNQUFNRSxTQUFTcEIsMERBQVNBO0lBQ3hCLE1BQU1xQixTQUFTcEIsMERBQVNBO0lBQ3hCLE1BQU1xQixXQUFXRixPQUFPRSxRQUFRO0lBQ2hDLE1BQU1DLFdBQVdILE9BQU9HLFFBQVE7SUFDaEMsTUFBTSxFQUFFQyxNQUFNTCxPQUFPLEVBQUUsR0FBR2IsMkRBQVVBO0lBRXBDLE1BQU0sQ0FBQ1ksUUFBUU8sVUFBVSxHQUFHdkIsNkdBQVFBLENBQWdCO0lBQ3BELE1BQU0sQ0FBQ3dCLFNBQVNDLFdBQVcsR0FBR3pCLDZHQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sR0FBRzBCLHdCQUF3QixHQUFHMUIsNkdBQVFBLENBQUMsSUFBSSw4QkFBOEI7SUFDL0UsTUFBTSxDQUFDMkIsZUFBZUMsaUJBQWlCLEdBQUc1Qiw2R0FBUUEsQ0FBVyxFQUFFLEdBQUcsNkJBQTZCO0lBQy9GLE1BQU0sQ0FBQzZCLFVBQVVDLFlBQVksR0FBRzlCLDZHQUFRQSxDQUFjLElBQUkrQixRQUFRLDhCQUE4QjtJQUNoRyxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR2pDLDZHQUFRQSxDQUFDLFFBQVEsdUJBQXVCO0lBQ3RFLE1BQU0sQ0FBQ2tDLGdCQUFnQkMsa0JBQWtCLEdBQUduQyw2R0FBUUEsQ0FBUztJQUM3RCxtQ0FBbUM7SUFDbkMsTUFBTSxDQUFDb0MsaUJBQWlCQyxtQkFBbUIsR0FBR3JDLDZHQUFRQSxDQUFXLEVBQUU7SUFDbkUsTUFBTSxDQUFDc0MsWUFBWUMsY0FBYyxHQUFHdkMsNkdB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QkFBaUJBOzs7Ozs7WUFDL0l1TCxZQUFZM0wsMkJBQWEsOERBQUNpSztnQkFBSUMsV0FBVTswQkFBa0M7Ozs7Ozs7Ozs7OztBQUdqRixFQUVBLDJDQUEyQztDQUMzQywrQkFBK0I7Q0FFL0IsbURBQW1EO0dBbnBCM0IvTDs7UUFDUGpCLHNEQUFTQTtRQUNUQyxzREFBU0E7UUFHRUssdURBQVVBOzs7S0FMZFciLCJzb3VyY2VzIjpbIkQ6XFxsZXJuYXJlbmFcXHNyY1xcYXBwXFxrdXJzXFxbY291cnNlSWRdXFxsZWt0aW9uXFxbbGVzc29uSWRdXFxwYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcbmltcG9ydCB7IHVzZVBhcmFtcywgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgvcmVhY3QnO1xuLy8gQXVzZ2VsYWdlcnRlIExla3Rpb25zdHlwLUtvbXBvbmVudGVuIChzY2hyaXR0d2Vpc2VzIFJlZmFjdG9yaW5nKVxuaW1wb3J0IHsgTWFya2Rvd25MZXNzb24sIFlvdVR1YmVMZXNzb24sIE1lbW9yeUdhbWUsIEx1ZWNrZW50ZXh0UGxheWVyLCBPcmRlcmluZ1BsYXllciwgTWF0Y2hpbmdVSSwgTGVzc29uRm9vdGVyTmF2aWdhdGlvbiwgU25ha2VHYW1lIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sZXNzb25UeXBlcyc7XG5pbXBvcnQgeyBmaW5hbGl6ZUxlc3NvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2xpYi9sZXNzb25Db21wbGV0aW9uJztcbmltcG9ydCB0eXBlIHsgTGVzc29uLCBRdWVzdGlvbiB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGVzc29uVHlwZXMvdHlwZXMnO1xuaW1wb3J0IHsgcmVzb2x2ZU1lZGlhUGF0aCwgaXNJbWFnZVBhdGgsIGlzQXVkaW9QYXRoIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL21lZGlhJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMZXNzb25QYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IGNvdXJzZUlkID0gcGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZztcbiAgY29uc3QgbGVzc29uSWQgPSBwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nO1xuICBjb25zdCB7IGRhdGE6IHNlc3Npb24gfSA9IHVzZVNlc3Npb24oKTtcbiAgXG4gIGNvbnN0IFtsZXNzb24sIHNldExlc3Nvbl0gPSB1c2VTdGF0ZTxMZXNzb24gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFssIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4XSA9IHVzZVN0YXRlKDApOyAvLyBERVBSRUNBVEVEIChmw7xyIGFsdGUgTG9naWspXG4gIGNvbnN0IFtxdWVzdGlvblF1ZXVlLCBzZXRRdWVzdGlvblF1ZXVlXSA9IHVzZVN0YXRlPG51bWJlcltdPihbXSk7IC8vIFJlaWhlbmZvbGdlIG9mZmVuZXIgRnJhZ2VuXG4gIGNvbnN0IFttYXN0ZXJlZCwgc2V0TWFzdGVyZWRdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7IC8vIGtvcnJla3QgYmVhbnR3b3J0ZXRlIEZyYWdlblxuICBjb25zdCBbbWFya2luZywgc2V0TWFya2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIFNlcnZlci1VcGRhdGUgU3RhdHVzXG4gIGNvbnN0IFtzZWxlY3RlZEFuc3dlciwgc2V0U2VsZWN0ZWRBbnN3ZXJdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgLy8gTmV1OiBBdXN3YWhsIGbDvHIgTXVsdGlwbGUtQ2hvaWNlXG4gIGNvbnN0IFtzZWxlY3RlZEFuc3dlcnMsIHNldFNlbGVjdGVkQW5zd2Vyc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbc2hvd1Jlc3VsdCwgc2V0U2hvd1Jlc3VsdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0NvcnJlY3QsIHNldElzQ29ycmVjdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzY29yZSwgc2V0U2NvcmVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtjb21wbGV0ZWQsIHNldENvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthbGxMZXNzb25zLCBzZXRBbGxMZXNzb25zXSA9IHVzZVN0YXRlPExlc3NvbltdPihbXSk7IC8vIGbDvHIgRm9vdGVyLU5hdmlnYXRpb25cbiAgY29uc3QgW3Byb2dyZXNzaW9uTW9kZSwgc2V0UHJvZ3Jlc3Npb25Nb2RlXSA9IHVzZVN0YXRlPCdsaW5lYXInfCdmcmVlJz4oJ2ZyZWUnKTtcbiAgY29uc3QgW2NvbXBsZXRlZExlc3NvbnMsIHNldENvbXBsZXRlZExlc3NvbnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTsgLy8gZXJsZWRpZ3RlIExla3Rpb25lblxuICAvLyBMw7xja2VudGV4dCBTdGF0ZXMgKGltbWVyIGF1ZnJ1ZmVuLCBuaWNodCBrb25kaXRpb25hbClcbiAgY29uc3QgW2x0QW5zd2Vyc1N0YXRlLCBzZXRMdEFuc3dlcnNTdGF0ZV0gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+Pih7fSk7XG4gIGNvbnN0IFtsdENoZWNrZWQsIHNldEx0Q2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsdENvcnJlY3RBbGwsIHNldEx0Q29ycmVjdEFsbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsdFVzZWRBbnN3ZXJzLCBzZXRMdFVzZWRBbnN3ZXJzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtsdEZvY3VzR2FwLCBzZXRMdEZvY3VzR2FwXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICAvLyBMw7xja2VudGV4dCBkZXJpdmVkIERhdGVuIChpbW1lciBIb29rcyBnbGVpY2ggaGFsdGVuKVxuICBjb25zdCBsdE1hc2tlZCA9IHVzZU1lbW8oKCkgPT4gKGxlc3Nvbj8udHlwZSA9PT0gJ2x1ZWNrZW50ZXh0JykgPyBTdHJpbmcoKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5tYXJrZG93bk1hc2tlZCB8fCAnJykgOiAnJywgW2xlc3Nvbl0pO1xuICBjb25zdCBsdEdhcHMgPSB1c2VNZW1vKCgpID0+IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpID8gKEFycmF5LmlzQXJyYXkoKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5nYXBzKSA/IChsZXNzb24/LmNvbnRlbnQgYXMgYW55KS5nYXBzLm1hcCgoZzogYW55KSA9PiAoeyBpZDogZy5pZCwgYW5zd2VyOiBTdHJpbmcoZy5hbnN3ZXIpIH0pKSA6IFtdKSA6IFtdLCBbbGVzc29uXSk7XG4gIGNvbnN0IGx0TW9kZTogJ2lucHV0JyB8ICdkcmFnJyA9IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcgJiYgKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5tb2RlID09PSAnZHJhZycpID8gJ2RyYWcnIDogJ2lucHV0JztcbiAgY29uc3QgbHRQYXJ0cyA9IHVzZU1lbW8oKCkgPT4gbHRNYXNrZWQgPyBsdE1hc2tlZC5zcGxpdCgvKF9fX1xcZCtfX18pL2cpLmZpbHRlcihCb29sZWFuKSA6IFtdLCBbbHRNYXNrZWRdKTtcbiAgY29uc3QgbHRCYW5rID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGx0TW9kZSAhPT0gJ2RyYWcnKSByZXR1cm4gW10gYXMgc3RyaW5nW107XG4gICAgY29uc3Qgc2h1ZmZsZSA9IDxULD4oYXJyOiBUW10pID0+IGFyci5tYXAodiA9PiBbTWF0aC5yYW5kb20oKSwgdl0gYXMgY29uc3QpLnNvcnQoKGEsYik9PmFbMF0tYlswXSkubWFwKChbLHZdKT0+dik7XG4gICAgcmV0dXJuIHNodWZmbGUobHRHYXBzLm1hcCgoZzogeyBpZDogbnVtYmVyOyBhbnN3ZXI6IHN0cmluZyB9KSA9PiBnLmFuc3dlcikpO1xuICB9LCBbbHRNb2RlLCBsdEdhcHNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBSZXNldCBiZWkgTGVrdGlvbnN0eXAtV2VjaHNlbFxuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpIHtcbiAgICAgIHNldEx0QW5zd2Vyc1N0YXRlKHt9KTtcbiAgICAgIHNldEx0Q2hlY2tlZChmYWxzZSk7XG4gICAgICBzZXRMdENvcnJlY3RBbGwoZmFsc2UpO1xuICAgICAgc2V0THRVc2VkQW5zd2VycyhbXSk7XG4gICAgICBzZXRMdEZvY3VzR2FwKG51bGwpO1xuICAgIH1cbiAgfSwgW2xlc3Nvbj8uX2lkLCBsZXNzb24/LnR5cGVdKTtcblxuICBjb25zdCBsb2FkTGVzc29uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkva3Vycy8ke2NvdXJzZUlkfS9sZWt0aW9uZW5gKTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGxlc3NvbkFycmF5ID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiAocGF5bG9hZC5sZXNzb25zIHx8IFtdKTtcbiAgICAgICAgc2V0QWxsTGVzc29ucyhsZXNzb25BcnJheSk7XG4gICAgICAgIC8vIHByb2dyZXNzaW9uTW9kZSB2b20gS3VycyBsYWRlbiAoamV0enQgbWVpc3QgaW4gZGVyIEFudHdvcnQgZW50aGFsdGVuKVxuICAgICAgICBpZiAocGF5bG9hZC5jb3Vyc2UgJiYgcGF5bG9hZC5jb3Vyc2UucHJvZ3Jlc3Npb25Nb2RlKSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKHBheWxvYWQuY291cnNlLnByb2dyZXNzaW9uTW9kZSA9PT0gJ2xpbmVhcicgPyAnbGluZWFyJyA6ICdmcmVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKCdmcmVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZvdW5kTGVzc29uID0gKGxlc3NvbkFycmF5IGFzIEFycmF5PHsgX2lkPzogc3RyaW5nOyBpZD86IHN0cmluZyB9PikuZmluZCgobCkgPT4gbC5faWQgPT09IGxlc3NvbklkIHx8IGwuaWQgPT09IGxlc3NvbklkKSBhcyBhbnk7XG4gICAgICAgIGlmICghZm91bmRMZXNzb24pIHtcbiAgICAgICAgICAvLyBGYWxsYmFjazogRGlyZWt0IMO8YmVyIGdsb2JhbGVuIEVuZHBvaW50IGxhZGVuIChmw7xyIGV4ZXJjaXNlLXBvb2wgb2RlciBhYndlaWNoZW5kZSBPcmdhbmlzYXRpb24pXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGxyID0gYXdhaXQgZmV0Y2goYC9hcGkvbGVzc29ucy8ke2xlc3NvbklkfWApO1xuICAgICAgICAgICAgaWYgKGxyLm9rKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGxkID0gYXdhaXQgbHIuanNvbigpO1xuICAgICAgICAgICAgICBpZiAobGQ/Lmxlc3Nvbikge1xuICAgICAgICAgICAgICAgIGZvdW5kTGVzc29uID0gbGQubGVzc29uO1xuICAgICAgICAgICAgICAgIHNldEFsbExlc3NvbnMoW2xkLmxlc3Nvbl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb3VuZExlc3Nvbikgc2V0TGVzc29uKGZvdW5kTGVzc29uIGFzIHVua25vd24gYXMgTGVzc29uKTtcbiAgICAgICAgaWYgKGZvdW5kTGVzc29uKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbCBRdWV1ZSBzZXR6ZW5cbiAgICAgICAgICBjb25zdCB0b3RhbCA9IChmb3VuZExlc3NvbiBhcyB1bmtub3duIGFzIHsgcXVlc3Rpb25zPzogdW5rbm93bltdIH0pLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgc2V0UXVlc3Rpb25RdWV1ZShBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbCB9LCAoXywgaSkgPT4gaSkpO1xuICAgICAgICAgIHNldE1hc3RlcmVkKG5ldyBTZXQoKSk7XG4gICAgICAgICAgc2V0U2NvcmUoMCk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgICBzZXRDdXJyZW50UXVlc3Rpb25JbmRleCgwKTsgLy8gbGVnYWN5XG4gICAgICAgICAgLy8gSW4tUHJvZ3Jlc3MgbWFya2llcmVuIGZhbGxzIG5vY2ggbmljaHQgYWJnZXNjaGxvc3NlblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRLZXkgPSBgY291cnNlOiR7Y291cnNlSWR9OmNvbXBsZXRlZExlc3NvbnNgO1xuICAgICAgICAgICAgY29uc3QgaW5Qcm9ncmVzc0tleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06aW5Qcm9ncmVzc0xlc3NvbnNgO1xuICAgICAgICAgICAgY29uc3QgY29tcGxldGVkU3RvcmVkOiBzdHJpbmdbXSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oY29tcGxldGVkS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kSWQgPSAoZm91bmRMZXNzb24gYXMgeyBfaWQ/OiBzdHJpbmc7IGlkPzogc3RyaW5nIH0pLl9pZCB8fCAoZm91bmRMZXNzb24gYXMgeyBfaWQ/OiBzdHJpbmc7IGlkPzogc3RyaW5nIH0pLmlkO1xuICAgICAgICAgICAgaWYgKGZvdW5kSWQgJiYgIWNvbXBsZXRlZFN0b3JlZC5pbmNsdWRlcyhmb3VuZElkKSkge1xuICAgICAgICAgICAgICBjb25zdCBpblByb2c6IHN0cmluZ1tdID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpblByb2dyZXNzS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgICAgaWYgKCFpblByb2cuaW5jbHVkZXMoZm91bmRJZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLmluUHJvZywgZm91bmRJZF07XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaW5Qcm9ncmVzc0tleSwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIYXJ0ZSBGYWxsYmFjay1TdHJhdGVnaWU6IGRpcmVrdCBwZXIgSUQgbGFkZW4gKHouIEIuIGV4ZXJjaXNlLXBvb2wgb2RlciBLdXJzLUZldGNoLVByb2JsZW0pXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbHIgPSBhd2FpdCBmZXRjaChgL2FwaS9sZXNzb25zLyR7bGVzc29uSWR9YCk7XG4gICAgICAgICAgaWYgKGxyLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBsZCA9IGF3YWl0IGxyLmpzb24oKTtcbiAgICAgICAgICAgIGlmIChsZD8ubGVzc29uKSB7XG4gICAgICAgICAgICAgIHNldExlc3NvbihsZC5sZXNzb24gYXMgYW55KTtcbiAgICAgICAgICAgICAgc2V0QWxsTGVzc29ucyhbbGQubGVzc29uXSk7XG4gICAgICAgICAgICAgIHNldFByb2dyZXNzaW9uTW9kZSgnZnJlZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgfVxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZlaGxlciBiZWltIExhZGVuIGRlciBMZWt0aW9uOicsIGVycm9yKTtcbiAgICAgIC8vIExldHp0ZXIgVmVyc3VjaDogRGlyZWt0IHBlciBJRFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbHIgPSBhd2FpdCBmZXRjaChgL2FwaS9sZXNzb25zLyR7bGVzc29uSWR9YCk7XG4gICAgICAgIGlmIChsci5vaykge1xuICAgICAgICAgIGNvbnN0IGxkID0gYXdhaXQgbHIuanNvbigpO1xuICAgICAgICAgIGlmIChsZD8ubGVzc29uKSB7XG4gICAgICAgICAgICBzZXRMZXNzb24obGQubGVzc29uIGFzIGFueSk7XG4gICAgICAgICAgICBzZXRBbGxMZXNzb25zKFtsZC5sZXNzb25dKTtcbiAgICAgICAgICAgIHNldFByb2dyZXNzaW9uTW9kZSgnZnJlZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY291cnNlSWQsIGxlc3NvbklkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2FkTGVzc29uKCk7XG4gIH0sIFtsb2FkTGVzc29uXSk7XG5cbiAgLy8gWnVsZXR6dCB3ZWl0ZXJnZW1hY2h0IChmw7xyIERhc2hib2FyZCk6IGJlaW0gw5ZmZm5lbiBtZXJrZW5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGNvdXJzZUlkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGFzdDpjb3Vyc2VJZCcsIFN0cmluZyhjb3Vyc2VJZCkpO1xuICAgICAgaWYgKGxlc3NvbklkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGFzdDpsZXNzb25JZCcsIFN0cmluZyhsZXNzb25JZCkpO1xuICAgICAgaWYgKGNvdXJzZUlkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgY291cnNlOiR7Y291cnNlSWR9Omxhc3RUb3VjaGVkYCwgU3RyaW5nKERhdGUubm93KCkpKTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjb3Vyc2VJZCwgbGVzc29uSWRdKTtcblxuICAvLyBIZWxwZXIgenVtIE5vcm1hbGlzaWVyZW4gdm9uIEFudHdvcnRlbiAoZnLDvGhlciB2b3JoYW5kZW4sIHdpZWRlcmhlcmdlc3RlbGx0KVxuICBjb25zdCBub3JtID0gKHM6IHVua25vd24pID0+ICh0eXBlb2YgcyA9PT0gJ3N0cmluZycgPyBzLnRyaW0oKSA6IFN0cmluZyhzID8/ICcnKSk7XG5cbiAgY29uc3QgaGFuZGxlQW5zd2VyU2VsZWN0ID0gKGFuc3dlcjogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHNob3dSZXN1bHQpIHJldHVybjtcbiAgICBpZiAobGVzc29uPy50eXBlID09PSAnbXVsdGlwbGUtY2hvaWNlJykge1xuICAgICAgc2V0U2VsZWN0ZWRBbnN3ZXJzKHByZXYgPT4gcHJldi5pbmNsdWRlcyhhbnN3ZXIpID8gcHJldi5maWx0ZXIoYSA9PiBhICE9PSBhbnN3ZXIpIDogWy4uLnByZXYsIGFuc3dlcl0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZEFuc3dlcihhbnN3ZXIpO1xuICAgIGlmICghbGVzc29uIHx8ICFsZXNzb24ucXVlc3Rpb25zIHx8IHF1ZXN0aW9uUXVldWUubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgY29uc3QgY3VycmVudFF1ZXN0aW9uID0gbGVzc29uLnF1ZXN0aW9uc1txdWVzdGlvblF1ZXVlWzBdXTtcbiAgICBjb25zdCBjb3JyZWN0ID0gbm9ybShhbnN3ZXIpID09PSBub3JtKGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2VyKTtcbiAgICBzZXRJc0NvcnJlY3QoY29ycmVjdCk7XG4gICAgc2V0U2hvd1Jlc3VsdCh0cnVlKTtcbiAgICBpZiAoY29ycmVjdCAmJiAhbWFzdGVyZWQuaGFzKHF1ZXN0aW9uUXVldWVbMF0pKSB7XG4gICAgICBzZXRTY29yZShwcmV2ID0+IHByZXYgKyAxKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2hlY2tNdWx0aXBsZSA9ICgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCAhbGVzc29uLnF1ZXN0aW9ucyB8fCBxdWVzdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IGxlc3Nvbi5xdWVzdGlvbnNbcXVlc3Rpb25RdWV1ZVswXV0gYXMgUXVlc3Rpb247XG4gICAgY29uc3QgY29ycmVjdExpc3QgPSAoQXJyYXkuaXNBcnJheShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMpICYmIGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vycy5sZW5ndGhcbiAgICAgID8gY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJzXG4gICAgICA6IChjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlciA/IFtjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcl0gOiBbXSkpLm1hcChub3JtKTtcbiAgICBjb25zdCBzZWxOb3JtID0gc2VsZWN0ZWRBbnN3ZXJzLm1hcChub3JtKTtcbiAgICBjb25zdCBpc1NldEVxdWFsID0gc2VsTm9ybS5sZW5ndGggPT09IGNvcnJlY3RMaXN0Lmxlbmd0aCAmJiBjb3JyZWN0TGlzdC5ldmVyeShhID0+IHNlbE5vcm0uaW5jbHVkZXMoYSkpO1xuICAgIHNldElzQ29ycmVjdChpc1NldEVxdWFsKTtcbiAgICBzZXRTaG93UmVzdWx0KHRydWUpO1xuICAgIGlmIChpc1NldEVxdWFsICYmICFtYXN0ZXJlZC5oYXMocXVlc3Rpb25RdWV1ZVswXSkpIHtcbiAgICAgIHNldFNjb3JlKHByZXYgPT4gcHJldiArIDEpO1xuICAgIH1cbiAgfTtcblxuICAvLyBNdWx0aSBUZXh0LUFudHdvcnQgU3RhdGVzXG4gIGNvbnN0IFt0ZXh0QW5zd2VySW5wdXQsIHNldFRleHRBbnN3ZXJJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VyRmVlZGJhY2ssIHNldFRleHRBbnN3ZXJGZWVkYmFja10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3RleHRBbnN3ZXJRdWV1ZSwgc2V0VGV4dEFuc3dlclF1ZXVlXSA9IHVzZVN0YXRlPG51bWJlcltdPihbXSk7IC8vIEluZGV4LVJlaWhlbmZvbGdlIGRlciBub2NoIG9mZmVuZW4gQmzDtmNrZVxuICBjb25zdCBbdGV4dEFuc3dlclNvbHZlZCwgc2V0VGV4dEFuc3dlclNvbHZlZF0gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTtcbiAgY29uc3QgW3RleHRBbnN3ZXJSZXZlYWxlZCwgc2V0VGV4dEFuc3dlclJldmVhbGVkXSA9IHVzZVN0YXRlPFNldDxudW1iZXI+PihuZXcgU2V0KCkpOyAvLyBHZXNhbXQtRmxhZyAoQW5hbHl0aWNzKVxuICBjb25zdCBbdGV4dEFuc3dlclJldmVhbFJvdW5kLCBzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmRdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgbnVtYmVyPj4oe30pOyAvLyBpbmRleCAtPiBSdW5kZVxuICBjb25zdCBbdGV4dEFuc3dlclJvdW5kLCBzZXRUZXh0QW5zd2VyUm91bmRdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4LCBzZXRUZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4XSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCB0ZXh0QW5zd2VyQmxvY2tzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybiBbXSBhcyBBcnJheTx7IHF1ZXN0aW9uOiBzdHJpbmc7IGFuc3dlcnM6IHN0cmluZ1tdOyBtZWRpYT86IHN0cmluZyB9PjtcbiAgICBjb25zdCBjOiBhbnkgPSBsZXNzb24uY29udGVudCB8fCB7fTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjLmJsb2NrcykpIHtcbiAgICAgIHJldHVybiBjLmJsb2Nrcy5maWx0ZXIoKGI6IGFueSkgPT4gYiAmJiB0eXBlb2YgYi5xdWVzdGlvbiA9PT0gJ3N0cmluZycgJiYgQXJyYXkuaXNBcnJheShiLmFuc3dlcnMpICYmIGIuYW5zd2Vycy5sZW5ndGg+MClcbiAgICAgICAgLm1hcCgoYjogYW55KSA9PiAoeyBxdWVzdGlvbjogU3RyaW5nKGIucXVlc3Rpb24pLCBhbnN3ZXJzOiBiLmFuc3dlcnMubWFwKChhOiBhbnkpPT5TdHJpbmcoYSkpLmZpbHRlcigoYTpzdHJpbmcpPT5hLmxlbmd0aD4wKSwgbWVkaWE6IGIubWVkaWEgJiYgU3RyaW5nKGIubWVkaWEpIH0pKTtcbiAgICB9XG4gICAgaWYgKGMucXVlc3Rpb24gJiYgYy5hbnN3ZXIpIHJldHVybiBbeyBxdWVzdGlvbjogU3RyaW5nKGMucXVlc3Rpb24pLCBhbnN3ZXJzOiBbU3RyaW5nKGMuYW5zd2VyKV0gfV07XG4gICAgcmV0dXJuIFtdO1xuICB9LCBbbGVzc29uXSk7XG4gIC8vIEluaXRpYWwgUXVldWUgc2V0emVuIHdlbm4gQmxvY2tzIGdlbGFkZW5cbiAgdXNlRWZmZWN0KCgpPT57XG4gICAgaWYgKGxlc3Nvbj8udHlwZSA9PT0gJ3RleHQtYW5zd2VyJykge1xuICBzZXRUZXh0QW5zd2VyUXVldWUodGV4dEFuc3dlckJsb2Nrcy5tYXAoKF86IHVua25vd24sIGk6IG51bWJlcik9PmkpKTtcbiAgICAgIHNldFRleHRBbnN3ZXJTb2x2ZWQobmV3IFNldCgpKTtcbiAgICAgIHNldFRleHRBbnN3ZXJSZXZlYWxlZChuZXcgU2V0KCkpO1xuICBzZXRUZXh0QW5zd2VyUm91bmQoMSk7XG4gIHNldFRleHRBbnN3ZXJSZXZlYWxSb3VuZCh7fSk7XG4gICAgICBzZXRUZXh0QW5zd2VySW5wdXQoJycpO1xuICAgICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICAgIH1cbiAgfSwgW2xlc3Nvbj8uX2lkLCBsZXNzb24/LnR5cGUsIHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoXSk7XG4gIGNvbnN0IHN1Ym1pdFRleHRBbnN3ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybjtcbiAgICBpZiAoIXRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoIHx8ICF0ZXh0QW5zd2VyUXVldWUubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgYzogYW55ID0gbGVzc29uLmNvbnRlbnQgfHwge307XG4gICAgY29uc3QgY2FzZVNlbnNpdGl2ZTogYm9vbGVhbiA9ICEhYy5jYXNlU2Vuc2l0aXZlO1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChzOiBzdHJpbmcpID0+IGNhc2VTZW5zaXRpdmUgPyBzLnRyaW0oKSA6IHMudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gdGV4dEFuc3dlclF1ZXVlWzBdO1xuICAgIGNvbnN0IGN1cnJlbnQgPSB0ZXh0QW5zd2VyQmxvY2tzW2N1cnJlbnRJbmRleF07XG4gICAgY29uc3QgdXNlck5vcm0gPSBub3JtYWxpemUodGV4dEFuc3dlcklucHV0KTtcbiAgICBpZiAoIXVzZXJOb3JtKSB7IHNldFRleHRBbnN3ZXJGZWVkYmFjaygnQml0dGUgZXR3YXMgZWluZ2ViZW4uJyk7IHJldHVybjsgfVxuICAgIGNvbnN0IGNvcnJlY3ROb3JtcyA9IGN1cnJlbnQuYW5zd2Vycy5tYXAoKGE6IHN0cmluZyk9Pm5vcm1hbGl6ZShhKSk7XG4gICAgaWYgKGNvcnJlY3ROb3Jtcy5pbmNsdWRlcyh1c2VyTm9ybSkpIHtcbiAgICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjaygn4pyFIEtvcnJla3QhJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgIHNldFRleHRBbnN3ZXJTb2x2ZWQocHJldiA9PiBuZXcgU2V0KHByZXYpLmFkZChjdXJyZW50SW5kZXgpKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlcklucHV0KCcnKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICAgICAgICAvLyBOw6RjaHN0ZSBGcmFnZVxuICAgICAgICBzZXRUZXh0QW5zd2VyUXVldWUocHJldiA9PiBwcmV2LnNsaWNlKDEpKTtcbiAgICAgIH0sIDQwMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjaygn4p2MIE5pY2h0IGtvcnJla3QuJyk7XG4gIH0sIFtsZXNzb24sIHRleHRBbnN3ZXJCbG9ja3MsIHRleHRBbnN3ZXJRdWV1ZSwgdGV4dEFuc3dlcklucHV0XSk7XG4gIGNvbnN0IHJldmVhbEN1cnJlbnRUZXh0QW5zd2VyID0gKCkgPT4ge1xuICAgIGlmICghbGVzc29uIHx8IGxlc3Nvbi50eXBlICE9PSAndGV4dC1hbnN3ZXInKSByZXR1cm47XG4gICAgaWYgKCF0ZXh0QW5zd2VyUXVldWUubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgaWR4ID0gdGV4dEFuc3dlclF1ZXVlWzBdO1xuICAgIHNldFRleHRBbnN3ZXJSZXZlYWxlZChwcmV2ID0+IG5ldyBTZXQocHJldikuYWRkKGlkeCkpO1xuICAgIHNldFRleHRBbnN3ZXJSZXZlYWxSb3VuZChwcmV2ID0+ICh7IC4uLnByZXYsIFtpZHhdOiB0ZXh0QW5zd2VyUm91bmQgfSkpO1xuICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjaygn8J+biCBBbnR3b3J0IGVpbmdlYmxlbmRldC4gU3DDpHRlciBlcm5ldXQgYmVhbnR3b3J0ZW4uJyk7XG4gICAgc2V0VGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeChpZHgpO1xuICAgIHNldFRleHRBbnN3ZXJJbnB1dCgnJyk7XG4gIH07XG4gIGNvbnN0IGFkdmFuY2VBZnRlclJldmVhbCA9ICgpID0+IHtcbiAgICBpZiAodGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCA9PSBudWxsKSByZXR1cm47XG4gICAgc2V0VGV4dEFuc3dlclF1ZXVlKHByZXYgPT4gKHByZXZbMF0gPT09IHRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHggPyBwcmV2LnNsaWNlKDEpIDogcHJldikpO1xuICAgIHNldFRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHgobnVsbCk7XG4gICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICB9O1xuICAvLyBXZW5uIFF1ZXVlIGxlZXIgYWJlciBub2NoIG5pY2h0IGFsbGUgc29sdmVkIC0+IG5ldWUgUnVuZGUgbWl0IG51ciB1bmdlbMO2c3RlbiAocmV2ZWFsIEZyYWdlbilcbiAgdXNlRWZmZWN0KCgpPT57XG4gICAgaWYgKGxlc3Nvbj8udHlwZSA9PT0gJ3RleHQtYW5zd2VyJyAmJiB0ZXh0QW5zd2VyUXVldWUubGVuZ3RoID09PSAwICYmIHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCB0b3RhbCA9IHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoO1xuICAgICAgaWYgKHRleHRBbnN3ZXJTb2x2ZWQuc2l6ZSA9PT0gdG90YWwpIHtcbiAgICAgICAgc2V0Q29tcGxldGVkKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgY29uc3QgcmVtYWluaW5nID0gdGV4dEFuc3dlckJsb2Nrcy5tYXAoKF86IHVua25vd24sIGk6IG51bWJlcik9PmkpLmZpbHRlcigoaTogbnVtYmVyKT0+IXRleHRBbnN3ZXJTb2x2ZWQuaGFzKGkpKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlclF1ZXVlKHJlbWFpbmluZyk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJSb3VuZChyPT5yKzEpO1xuICAgICAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2sobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCwgdGV4dEFuc3dlclNvbHZlZCwgdGV4dEFuc3dlckJsb2NrcywgbGVzc29uXSk7XG5cbiAgLy8gTkVVOiBBYnNjaGx1c3MgKyBTdGVybiBmw7xyIFRleHQtQW50d29ydCBMZWt0aW9uZW4gKGJpc2hlciBmZWhsdGUgQVBJLUF1ZnJ1ZilcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBsZXNzb24udHlwZSAhPT0gJ3RleHQtYW5zd2VyJykgcmV0dXJuO1xuICAgIGNvbnN0IHRvdGFsID0gdGV4dEFuc3dlckJsb2Nrcy5sZW5ndGg7XG4gICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm47XG4gICAgaWYgKHRleHRBbnN3ZXJTb2x2ZWQuc2l6ZSA9PT0gdG90YWwgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZCkpIHtcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gc2Vzc2lvbj8udXNlcj8udXNlcm5hbWU7XG4gICAgICBpZiAoIXVzZXJuYW1lKSByZXR1cm47XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL2xlc3Nvbi9jb21wbGV0ZScsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICAgICAgICBsZXNzb25JZDogbGVzc29uLl9pZCxcbiAgICAgICAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgICAgICAgdHlwZTogbGVzc29uLnR5cGUsXG4gICAgICAgICAgICAgIGVhcm5lZFN0YXI6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSkuY2F0Y2goKCk9Pnt9KTtcbiAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9wcm9ncmVzcycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lLCBsZXNzb25JZDogbGVzc29uLl9pZCB9KVxuICAgICAgICAgIH0pLmNhdGNoKCgpPT57fSk7XG4gICAgICAgICAgY29uc3QgY29tcGxldGVkS2V5ID0gYGNvdXJzZToke2NvdXJzZUlkfTpjb21wbGV0ZWRMZXNzb25zYDtcbiAgICAgICAgICBjb25zdCBpblByb2dyZXNzS2V5ID0gYGNvdXJzZToke2NvdXJzZUlkfTppblByb2dyZXNzTGVzc29uc2A7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oY29tcGxldGVkS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGlmICghc3RvcmVkLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4uc3RvcmVkLCBsZXNzb24uX2lkXTtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oY29tcGxldGVkS2V5LCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkKSk7XG4gICAgICAgICAgICAgIHNldENvbXBsZXRlZExlc3NvbnModXBkYXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpblByb2cgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGluUHJvZ3Jlc3NLZXkpIHx8ICdbXScpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5Qcm9nKSAmJiBpblByb2cuaW5jbHVkZXMobGVzc29uLl9pZCkpIHtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaW5Qcm9ncmVzc0tleSwgSlNPTi5zdHJpbmdpZnkoaW5Qcm9nLmZpbHRlcigoaWQ6IHN0cmluZykgPT4gaWQgIT09IGxlc3Nvbi5faWQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVGV4dC1BbnR3b3J0IEFic2NobHVzcyBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgfSwgW2xlc3NvbiwgdGV4dEFuc3dlclNvbHZlZCwgdGV4dEFuc3dlckJsb2NrcywgY29tcGxldGVkTGVzc29ucywgc2Vzc2lvbj8udXNlcj8udXNlcm5hbWUsIGNvdXJzZUlkXSk7XG5cbiAgLy8gV2llZGVyaGVyZ2VzdGVsbHQ6IEZvcnRzY2hyaXR0c2xvZ2lrIG5hY2ggQmV3ZXJ0dW5nXG4gIGNvbnN0IGhhbmRsZU5leHRRdWVzdGlvbiA9ICgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBxdWVzdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRJZHggPSBxdWVzdGlvblF1ZXVlWzBdO1xuICAgIGxldCBuZXdRdWV1ZSA9IFsuLi5xdWVzdGlvblF1ZXVlXTtcbiAgICBpZiAoaXNDb3JyZWN0KSB7XG4gICAgICBpZiAoIW1hc3RlcmVkLmhhcyhjdXJyZW50SWR4KSkge1xuICAgICAgICBjb25zdCBuZXdNYXN0ZXJlZCA9IG5ldyBTZXQobWFzdGVyZWQpO1xuICAgICAgICBuZXdNYXN0ZXJlZC5hZGQoY3VycmVudElkeCk7XG4gICAgICAgIHNldE1hc3RlcmVkKG5ld01hc3RlcmVkKTtcbiAgICAgIH1cbiAgICAgIG5ld1F1ZXVlLnNoaWZ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1F1ZXVlID0gWy4uLm5ld1F1ZXVlLnNsaWNlKDEpLCBjdXJyZW50SWR4XTtcbiAgICB9XG4gICAgc2V0UXVlc3Rpb25RdWV1ZShuZXdRdWV1ZSk7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXIoXCJcIik7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXJzKFtdKTtcbiAgICBzZXRTaG93UmVzdWx0KGZhbHNlKTtcbiAgICBpZiAobmV3UXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gc2Vzc2lvbj8udXNlcj8udXNlcm5hbWU7XG4gICAgICAgICAgc2V0TWFya2luZyh0cnVlKTtcbiAgICAgICAgICBhd2FpdCBmaW5hbGl6ZUxlc3Nvbih7XG4gICAgICAgICAgICB1c2VybmFtZSwgLy8gb3B0aW9uYWwgZsO8ciBHw6RzdGVcbiAgICAgICAgICAgIGxlc3NvbklkOiBsZXNzb24uX2lkLFxuICAgICAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICAgICAgZWFybmVkU3RhcjogbGVzc29uLnR5cGUgIT09ICdtYXJrZG93bicgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZClcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHByZXYgPT4gcHJldi5pbmNsdWRlcyhsZXNzb24uX2lkKSA/IHByZXYgOiBbLi4ucHJldiwgbGVzc29uLl9pZF0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQWJzY2hsaWXDn2VuIGZlaGxnZXNjaGxhZ2VuJywgZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0TWFya2luZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4KG5ld1F1ZXVlWzBdKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmV0cnkgPSAoKSA9PiB7XG4gICAgc2V0Q3VycmVudFF1ZXN0aW9uSW5kZXgoMCk7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXIoXCJcIik7XG4gICAgc2V0U2hvd1Jlc3VsdChmYWxzZSk7XG4gICAgc2V0U2NvcmUoMCk7XG4gICAgc2V0Q29tcGxldGVkKGZhbHNlKTtcbiAgICBzZXRTZWxlY3RlZEFuc3dlcnMoW10pO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gZXJsZWRpZ3RlIExla3Rpb25lbiBhdXMgbG9jYWxTdG9yYWdlIGxhZGVuXG4gICAgY29uc3Qga2V5ID0gYGNvdXJzZToke2NvdXJzZUlkfTpjb21wbGV0ZWRMZXNzb25zYDtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICdbXScpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RvcmVkKSkgc2V0Q29tcGxldGVkTGVzc29ucyhzdG9yZWQpO1xuICAgIH0gY2F0Y2gge31cbiAgfSwgW2NvdXJzZUlkXSk7XG5cbiAgLy8gKEVudGZlcm50KSBmcsO8aGVyZXIgRWZmZWt0IGbDvHIgZ2VuZXJpc2NoZXMgU3BlaWNoZXJuIGJlaSBjb21wbGV0ZWQgLT4gTG9naWsgamV0enQgaW4gZmluYWxpemVMZXNzb24gU3RlbGxlbiB6ZW50cmFsaXNpZXJ0XG5cbiAgLy8gTmV1OiBUeXBlbi1GbGFncyB1bmQgQWJzY2hsdXNzLUZ1bmt0aW9uIGbDvHIgWW91VHViZVxuICBjb25zdCBpc01hcmtkb3duID0gbGVzc29uPy50eXBlID09PSAnbWFya2Rvd24nICYmIGxlc3Nvbi5jb250ZW50Py5tYXJrZG93bjtcbiAgY29uc3QgaXNWaWRlbyA9IGxlc3Nvbj8udHlwZSA9PT0gJ3ZpZGVvJztcbiAgY29uc3QgaXNMdWVja2VudGV4dCA9IGxlc3Nvbj8udHlwZSA9PT0gJ2x1ZWNrZW50ZXh0JztcbiAgY29uc3QgaXNPcmRlcmluZyA9IGxlc3Nvbj8udHlwZSA9PT0gJ29yZGVyaW5nJztcbiAgY29uc3QgaXNTbmFrZSA9IGxlc3Nvbj8udHlwZSA9PT0gJ3NuYWtlJyB8fCBsZXNzb24/LnR5cGUgPT09ICdtaW5pZ2FtZSc7XG4gIGNvbnN0IG1hcmtWaWRlb0NvbXBsZXRlZCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgIGlmICghbGVzc29uKSByZXR1cm47XG4gICAgaWYgKGNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZCkpIHJldHVybjtcbiAgICBzZXRNYXJraW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmaW5hbGl6ZUxlc3Nvbih7XG4gICAgICAgIHVzZXJuYW1lLCAvLyBvcHRpb25hbCBmw7xyIEfDpHN0ZVxuICAgICAgICBsZXNzb25JZDogbGVzc29uLl9pZCxcbiAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgdHlwZTogbGVzc29uLnR5cGUsXG4gICAgICAgIGVhcm5lZFN0YXI6IGxlc3Nvbi50eXBlICE9PSAnbWFya2Rvd24nICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpXG4gICAgICB9KTtcbiAgICAgIHNldENvbXBsZXRlZExlc3NvbnMocHJldiA9PiBwcmV2LmluY2x1ZGVzKGxlc3Nvbi5faWQpID8gcHJldiA6IFsuLi5wcmV2LCBsZXNzb24uX2lkXSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignVmlkZW8gQWJzY2hsdXNzIGZlaGxnZXNjaGxhZ2VuJywgZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldE1hcmtpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3Nlc3Npb24/LnVzZXI/LnVzZXJuYW1lLCBsZXNzb24sIGNvbXBsZXRlZExlc3NvbnMsIGNvdXJzZUlkXSk7XG5cbiAgLy8gQWJzY2hsdXNzIFRleHQtQW50d29ydCBMZWt0aW9uIChjZW50cmFsaXplZClcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBsZXNzb24udHlwZSAhPT0gJ3RleHQtYW5zd2VyJykgcmV0dXJuO1xuICAgIGNvbnN0IHRvdGFsID0gdGV4dEFuc3dlckJsb2Nrcy5sZW5ndGg7XG4gICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm47XG4gICAgaWYgKHRleHRBbnN3ZXJTb2x2ZWQuc2l6ZSA9PT0gdG90YWwgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZCkpIHtcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gc2Vzc2lvbj8udXNlcj8udXNlcm5hbWU7XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGZpbmFsaXplTGVzc29uKHtcbiAgICAgICAgICAgIHVzZXJuYW1lLCAvLyBvcHRpb25hbCBmw7xyIEfDpHN0ZVxuICAgICAgICAgICAgbGVzc29uSWQ6IGxlc3Nvbi5faWQsXG4gICAgICAgICAgICBjb3Vyc2VJZDogbGVzc29uLmNvdXJzZUlkLFxuICAgICAgICAgICAgdHlwZTogbGVzc29uLnR5cGUsXG4gICAgICAgICAgICBlYXJuZWRTdGFyOiBsZXNzb24udHlwZSAhPT0gJ21hcmtkb3duJyAmJiAhY29tcGxldGVkTGVzc29ucy5pbmNsdWRlcyhsZXNzb24uX2lkKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldENvbXBsZXRlZExlc3NvbnMocHJldiA9PiBwcmV2LmluY2x1ZGVzKGxlc3Nvbi5faWQpID8gcHJldiA6IFsuLi5wcmV2LCBsZXNzb24uX2lkXSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdUZXh0LUFudHdvcnQgQWJzY2hsdXNzIGZlaGxnZXNjaGxhZ2VuJywgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfVxuICB9LCBbbGVzc29uLCB0ZXh0QW5zd2VyU29sdmVkLCB0ZXh0QW5zd2VyQmxvY2tzLCBjb21wbGV0ZWRMZXNzb25zLCBzZXNzaW9uPy51c2VyPy51c2VybmFtZSwgY291cnNlSWRdKTtcblxuICAvLyBFYXJseSBSZXR1cm5zIGpldHp0IE5BQ0ggYWxsZW4gSG9va3NcbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBtdC0xMCBwLTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGlubGluZS1ibG9jayB3LTggaC04IGJvcmRlci00IGJvcmRlci1jdXJyZW50IGJvcmRlci10LXRyYW5zcGFyZW50IHRleHQtYmx1ZS02MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWdyYXktNjAwXCI+TGVrdGlvbiB3aXJkIGdlbGFkZW4uLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmICghbGVzc29uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gbXQtMTAgcC02IGJnLXdoaXRlIHJvdW5kZWQgc2hhZG93XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDBcIj5MZWt0aW9uIG5pY2h0IGdlZnVuZGVuPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtdC0yXCI+RGllIGFuZ2Vmb3JkZXJ0ZSBMZWt0aW9uIGtvbm50ZSBuaWNodCBnZWxhZGVuIHdlcmRlbi48L3A+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9rdXJzLyR7Y291cnNlSWR9YCl9IGNsYXNzTmFtZT1cIm10LTQgdGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIj7ihpAgWnVyw7xjayB6dW0gS3VyczwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHRvdGFsUXVlc3Rpb25zID0gbGVzc29uLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDA7XG4gIGNvbnN0IHByb2dyZXNzID0gdG90YWxRdWVzdGlvbnMgPiAwID8gKG1hc3RlcmVkLnNpemUgLyB0b3RhbFF1ZXN0aW9ucykgKiAxMDAgOiAwO1xuICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBsZXNzb24ucXVlc3Rpb25zICYmIHF1ZXN0aW9uUXVldWUubGVuZ3RoID4gMCA/IGxlc3Nvbi5xdWVzdGlvbnNbcXVlc3Rpb25RdWV1ZVswXV0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGN1cnJlbnRNZWRpYSA9IGN1cnJlbnRRdWVzdGlvbj8ubWVkaWFMaW5rID8gcmVzb2x2ZU1lZGlhUGF0aChTdHJpbmcoY3VycmVudFF1ZXN0aW9uLm1lZGlhTGluaykpIDogJyc7XG4gIC8vIFZvcmJlcmVjaG5ldGUga29ycmVrdGUgQW50d29ydGVuIChub3JtYWxpc2llcnQpIGbDvHIgQW56ZWlnZS9DaGVja3NcbiAgY29uc3QgY29ycmVjdExpc3ROb3JtYWxpemVkID0gKGN1cnJlbnRRdWVzdGlvbiAmJiAoQXJyYXkuaXNBcnJheShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMpICYmIGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vycy5sZW5ndGhcbiAgICA/IGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vyc1xuICAgIDogKGN1cnJlbnRRdWVzdGlvbj8uY29ycmVjdEFuc3dlciA/IFtjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcl0gOiBbXSkpLm1hcChub3JtKSkgfHwgW107XG5cbiAgLy8gU25ha2UgZnLDvGhlIFLDvGNrZ2FiZVxuICAvLyBMb2NrLVJlZGlyZWN0IGJlaSBsaW5lYXJlciBQcm9ncmVzc2lvbjogd2VubiB2b3JoZXJpZ2UgTGVrdGlvbiBuaWNodCBhYmdlc2NobG9zc2VuXG4gIGlmIChsZXNzb24gJiYgcHJvZ3Jlc3Npb25Nb2RlID09PSAnbGluZWFyJykge1xuICAgIGNvbnN0IGluZGV4ID0gYWxsTGVzc29ucy5maW5kSW5kZXgobCA9PiAobCBhcyBhbnkpLl9pZCA9PT0gbGVzc29uLl9pZCB8fCAobCBhcyBhbnkpLmlkID09PSBsZXNzb24uX2lkKTtcbiAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBwcmV2ID0gYWxsTGVzc29uc1tpbmRleCAtIDFdO1xuICAgICAgY29uc3QgcHJldklkID0gKHByZXYgYXMgYW55KS5faWQgfHwgKHByZXYgYXMgYW55KS5pZDtcbiAgICAgIGlmIChwcmV2SWQgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMocHJldklkKSkge1xuICAgICAgICAvLyByZWRpcmVjdCB6dXLDvGNrIGF1ZiBLdXJzc2VpdGVcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcm91dGVyLnJlcGxhY2UoYC9rdXJzLyR7Y291cnNlSWR9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobGVzc29uICYmIGlzU25ha2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBtdC0xMCBwLTZcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2t1cnMvJHtjb3Vyc2VJZH1gKX0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUgbWItNFwiPuKGkCBadXLDvGNrIHp1bSBLdXJzPC9idXR0b24+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNlwiPntsZXNzb24udGl0bGV9PC9oMT5cbiAgICAgICAgPFNuYWtlR2FtZSBsZXNzb249e2xlc3Nvbn0gY291cnNlSWQ9e2NvdXJzZUlkfSBjb21wbGV0ZWRMZXNzb25zPXtjb21wbGV0ZWRMZXNzb25zfSBzZXRDb21wbGV0ZWRMZXNzb25zPXtzZXRDb21wbGV0ZWRMZXNzb25zfSAvPlxuICA8TGVzc29uRm9vdGVyTmF2aWdhdGlvbiBhbGxMZXNzb25zPXthbGxMZXNzb25zfSBjdXJyZW50TGVzc29uSWQ9e2xlc3NvbklkfSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHByb2dyZXNzaW9uTW9kZT17cHJvZ3Jlc3Npb25Nb2RlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFJlbmRlciBmw7xyIE1hcmtkb3duLUxla3Rpb25cbiAgaWYgKGlzTWFya2Rvd24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBtdC0xMCBwLTZcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2t1cnMvJHtjb3Vyc2VJZH1gKX0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUgbWItNFwiPuKGkCBadXLDvGNrIHp1bSBLdXJzPC9idXR0b24+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNlwiPntsZXNzb24udGl0bGV9PC9oMT5cbiAgICAgICAgPE1hcmtkb3duTGVzc29uIGxlc3Nvbj17bGVzc29ufSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHNldENvbXBsZXRlZExlc3NvbnM9e3NldENvbXBsZXRlZExlc3NvbnN9IHNlc3Npb25Vc2VybmFtZT17c2Vzc2lvbj8udXNlcj8udXNlcm5hbWV9IC8+XG4gIDxMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIGFsbExlc3NvbnM9e2FsbExlc3NvbnN9IGN1cnJlbnRMZXNzb25JZD17bGVzc29uSWR9IGNvdXJzZUlkPXtjb3Vyc2VJZH0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gcHJvZ3Jlc3Npb25Nb2RlPXtwcm9ncmVzc2lvbk1vZGV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgaXNNdWx0aXBsZSA9IGxlc3Nvbi50eXBlID09PSAnbXVsdGlwbGUtY2hvaWNlJztcbiAgY29uc3QgaXNNYXRjaGluZyA9IGxlc3Nvbi50eXBlID09PSAnbWF0Y2hpbmcnO1xuICBjb25zdCBoYXNNZW1vcnlQYWlycyA9ICEhKGxlc3Nvbi5jb250ZW50ICYmIChsZXNzb24uY29udGVudCBhcyBhbnkpLnBhaXJzICYmIEFycmF5LmlzQXJyYXkoKGxlc3Nvbi5jb250ZW50IGFzIGFueSkucGFpcnMpKTtcbiAgY29uc3QgZWZmZWN0aXZlVHlwZSA9IGxlc3Nvbi50eXBlID09PSAnbWVtb3J5JyB8fCAobGVzc29uLnR5cGUgPT09ICdtYXRjaGluZycgJiYgaGFzTWVtb3J5UGFpcnMpID8gJ21lbW9yeScgOiBsZXNzb24udHlwZTtcbiAgY29uc3QgaXNNZW1vcnkgPSBlZmZlY3RpdmVUeXBlID09PSAnbWVtb3J5JztcblxuICByZXR1cm4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9rdXJzLyR7Y291cnNlSWR9YCl9IGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIG1iLTRcIj7ihpAgWnVyw7xjayB6dW0gS3VyczwvYnV0dG9uPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTJcIj57bGVzc29uLnRpdGxlfTwvaDE+XG4gIHshaXNWaWRlbyAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBoLTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBoLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiIHN0eWxlPXt7IHdpZHRoOiBgJHtwcm9ncmVzc30lYCB9fSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMVwiPkZvcnRzY2hyaXR0OiB7bWFzdGVyZWQuc2l6ZX0gLyB7dG90YWxRdWVzdGlvbnN9IGdlbWVpc3RlcnQ8L3A+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC04XCI+XG4gICAgICAgIHtpc1ZpZGVvID8gKFxuICAgICAgICAgIDxZb3VUdWJlTGVzc29uIGxlc3Nvbj17bGVzc29ufSBvbkNvbXBsZXRlZD17bWFya1ZpZGVvQ29tcGxldGVkfSAvPlxuICAgICAgICApIDogZWZmZWN0aXZlVHlwZSA9PT0gJ21lbW9yeScgPyAoXG4gICAgICAgICAgPE1lbW9yeUdhbWUgbGVzc29uPXt7IC4uLmxlc3NvbiwgdHlwZTogJ21lbW9yeScgfX0gb25Db21wbGV0ZWQ9eygpID0+IHsgc2V0SXNDb3JyZWN0KHRydWUpOyBzZXRTaG93UmVzdWx0KHRydWUpOyBzZXRDb21wbGV0ZWQodHJ1ZSk7IH19IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IC8+XG4gICAgICAgICkgOiBjdXJyZW50UXVlc3Rpb24gPyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNlwiPntjdXJyZW50UXVlc3Rpb24ucXVlc3Rpb259PC9oMj5cbiAgICAgICAgICAgIHsvKiBNZWRpYSAqL31cbiAgICAgICAgICAgIHshaXNNYXRjaGluZyAmJiBjdXJyZW50TWVkaWEgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTYgcC00IGJnLWdyYXktNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgIHtpc0ltYWdlUGF0aChjdXJyZW50TWVkaWEpID8gKFxuICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnRcbiAgICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICAgIHNyYz17Y3VycmVudE1lZGlhfSBcbiAgICAgICAgICAgICAgICAgICAgYWx0PVwiRnJhZ2UgQmlsZFwiIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIG1heC1oLTY0IG9iamVjdC1jb250YWluIG14LWF1dG8gYm9yZGVyIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yPXsoZSk9PnsgY29uc3QgZWw9ZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbWFnZUVsZW1lbnQ7IGNvbnN0IG5hbWU9KGN1cnJlbnRNZWRpYS5zcGxpdCgnLycpLnBvcCgpfHwnJyk7IGlmKCFlbC5kYXRhc2V0LmZhbGxiYWNrMSAmJiBuYW1lKXsgZWwuZGF0YXNldC5mYWxsYmFjazE9JzEnOyBlbC5zcmM9YC9tZWRpYS9iaWxkZXIvJHtuYW1lfWA7IH0gZWxzZSBpZighZWwuZGF0YXNldC5mYWxsYmFjazIgJiYgbmFtZSl7IGVsLmRhdGFzZXQuZmFsbGJhY2syPScxJzsgZWwuc3JjPWAvbWVkaWEvJHtuYW1lfWA7IH0gfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSA6IGlzQXVkaW9QYXRoKGN1cnJlbnRNZWRpYSkgPyAoXG4gICAgICAgICAgICAgICAgICA8YXVkaW8gY29udHJvbHMgY2xhc3NOYW1lPVwidy1mdWxsIG1heC13LW1kIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2N1cnJlbnRNZWRpYX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2N1cnJlbnRNZWRpYS5yZXBsYWNlKCcvdXBsb2Fkcy8nLCcvbWVkaWEvYXVkaW8vJyl9Lz5cbiAgICAgICAgICAgICAgICAgICAgPHNvdXJjZSBzcmM9e2N1cnJlbnRNZWRpYS5yZXBsYWNlKCcvdXBsb2Fkcy8nLCcvbWVkaWEvJyl9Lz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIHRleHQtc21cIj5BdWRpbyB3aXJkIHZvbSBCcm93c2VyIG5pY2h0IHVudGVyc3TDvHR6dDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvYXVkaW8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxhIFxuICAgICAgICAgICAgICAgICAgICBocmVmPXtjdXJyZW50TWVkaWF9IFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIiBcbiAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIGJyZWFrLWFsbFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIPCfk44ge2N1cnJlbnRNZWRpYX1cbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBNYXRjaGluZyBVSSAqL31cbiAgICAgICAgICAgIHtpc01hdGNoaW5nID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIDxNYXRjaGluZ1VJXG4gICAgICAgICAgICAgICAgICBxdWVzdGlvbj17Y3VycmVudFF1ZXN0aW9ufVxuICAgICAgICAgICAgICAgICAgb25Tb2x2ZWQ9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNDb3JyZWN0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRTaG93UmVzdWx0KHRydWUpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtzaG93UmVzdWx0ICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgbXQtNFwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZU5leHRRdWVzdGlvbn0gY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcHgtNSBweS0yIHJvdW5kZWQgaG92ZXI6YmctZ3JlZW4tNzAwXCI+V2VpdGVyPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmVlbi03MDBcIj5BbGxlIFBhYXJlIGtvcnJla3QgdmVyYnVuZGVuITwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgbWItNlwiPlxuICAgICAgICAgICAgICAgIHtpc011bHRpcGxlID8gKFxuICAgICAgICAgICAgICAgICAgY3VycmVudFF1ZXN0aW9uLmFsbEFuc3dlcnMubWFwKChhbnN3ZXIsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RlZEFuc3dlcnMuaW5jbHVkZXMoYW5zd2VyKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNDb3JyZWN0QW5zID0gY29ycmVjdExpc3ROb3JtYWxpemVkLmluY2x1ZGVzKG5vcm0oYW5zd2VyKSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBidXR0b25DbGFzcyA9IFwidy1mdWxsIHAtNCB0ZXh0LWxlZnQgYm9yZGVyLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb3JyZWN0QW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1ncmVlbi01MDAgYmctZ3JlZW4tNTAgdGV4dC1ncmVlbi04MDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzU2VsZWN0ZWQgJiYgIWlzQ29ycmVjdEFucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3MgKz0gXCJib3JkZXItcmVkLTUwMCBiZy1yZWQtNTAgdGV4dC1yZWQtODAwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzICs9IFwiYm9yZGVyLWdyYXktMjAwIGJnLWdyYXktNTAgdGV4dC1ncmF5LTYwMFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3MgKz0gXCJib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCB0ZXh0LWJsdWUtODAwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzICs9IFwiYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTUwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFuc3dlclNlbGVjdChhbnN3ZXIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Nob3dSZXN1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2J1dHRvbkNsYXNzfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgaW5kZXgpfSkge2Fuc3dlcn1cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRRdWVzdGlvbi5hbGxBbnN3ZXJzLm1hcCgoYW5zd2VyLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBbnN3ZXJTZWxlY3QoYW5zd2VyKX1cbiAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2hvd1Jlc3VsdH1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgcC00IHRleHQtbGVmdCBib3JkZXItMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEFuc3dlciA9PT0gYW5zd2VyID8gJ2JvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwIHRleHQtYmx1ZS04MDAnIDogJ2JvcmRlci1ncmF5LTIwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAgaG92ZXI6YmctZ3JheS01MCdcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgaW5kZXgpfSkge2Fuc3dlcn1cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIENvbnRyb2xzICovfVxuICAgICAgICAgICAgeyFpc01hdGNoaW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtdC00XCI+XG4gICAgICAgICAgICAgICAge2lzTXVsdGlwbGUgJiYgIXNob3dSZXN1bHQgPyAoXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZUNoZWNrTXVsdGlwbGV9IGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHgtNSBweS0yIHJvdW5kZWQgaG92ZXI6YmctYmx1ZS03MDBcIj5BbnR3b3J0IHByw7xmZW48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgc2hvd1Jlc3VsdCA/IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVOZXh0UXVlc3Rpb259IGNsYXNzTmFtZT1cImJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHB4LTUgcHktMiByb3VuZGVkIGhvdmVyOmJnLWdyZWVuLTcwMFwiPldlaXRlcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKSA6IG51bGxcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIHtzaG93UmVzdWx0ICYmIChcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17YHRleHQtc20gZm9udC1tZWRpdW0gJHtpc0NvcnJlY3QgPyAndGV4dC1ncmVlbi03MDAnIDogJ3RleHQtcmVkLTcwMCd9YH0+XG4gICAgICAgICAgICAgICAgICAgIHtpc0NvcnJlY3QgPyAnUmljaHRpZyEnIDogJ0xlaWRlciBmYWxzY2guJ31cbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC8+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPHA+S2VpbmUgRnJhZ2Ugdm9yaGFuZGVuLjwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRm9vdGVyIE5hdmlnYXRpb24gKi99XG4gIDxMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIGFsbExlc3NvbnM9e2FsbExlc3NvbnN9IGN1cnJlbnRMZXNzb25JZD17bGVzc29uSWR9IGNvdXJzZUlkPXtjb3Vyc2VJZH0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gcHJvZ3Jlc3Npb25Nb2RlPXtwcm9ncmVzc2lvbk1vZGV9IC8+XG4gICAgICB7aXNNZW1vcnkgJiYgY29tcGxldGVkICYmIDxkaXYgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LWdyZWVuLTcwMCBmb250LW1lZGl1bVwiPuKclO+4jyBNZW1vcnkgYWJnZXNjaGxvc3NlbiE8L2Rpdj59XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIENsaWVudC1Lb21wb25lbnRlIGbDvHIgTWFya2Rvd24gUmVuZGVyaW5nXG4vLyBNYXRjaGluZ1VJIGpldHp0IGF1c2dlbGFnZXJ0XG5cbi8vIE9yZGVyaW5nUGxheWVyIHVuZCBMdWVja2VudGV4dFBsYXllciBhdXNnZWxhZ2VydFxuIl0sIm5hbWVzIjpbInVzZVBhcmFtcyIsInVzZVJvdXRlciIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlU2Vzc2lvbiIsIk1hcmtkb3duTGVzc29uIiwiWW91VHViZUxlc3NvbiIsIk1lbW9yeUdhbWUiLCJNYXRjaGluZ1VJIiwiTGVzc29uRm9vdGVyTmF2aWdhdGlvbiIsIlNuYWtlR2FtZSIsImZpbmFsaXplTGVzc29uIiwicmVzb2x2ZU1lZGlhUGF0aCIsImlzSW1hZ2VQYXRoIiwiaXNBdWRpb1BhdGgiLCJMZXNzb25QYWdlIiwibGVzc29uIiwic2Vzc2lvbiIsInBhcmFtcyIsInJvdXRlciIsImNvdXJzZUlkIiwibGVzc29uSWQiLCJkYXRhIiwic2V0TGVzc29uIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRDdXJyZW50UXVlc3Rpb25JbmRleCIsInF1ZXN0aW9uUXVldWUiLCJzZXRRdWVzdGlvblF1ZXVlIiwibWFzdGVyZWQiLCJzZXRNYXN0ZXJlZCIsIlNldCIsIm1hcmtpbmciLCJzZXRNYXJraW5nIiwic2VsZWN0ZWRBbnN3ZXIiLCJzZXRTZWxlY3RlZEFuc3dlciIsInNlbGVjdGVkQW5zd2VycyIsInNldFNlbGVjdGVkQW5zd2VycyIsInNob3dSZXN1bHQiLCJzZXRTaG93UmVzdWx0IiwiaXNDb3JyZWN0Iiwic2V0SXNDb3JyZWN0Iiwic2NvcmUiLCJzZXRTY29yZSIsImNvbXBsZXRlZCIsInNldENvbXBsZXRlZCIsImFsbExlc3NvbnMiLCJzZXRBbGxMZXNzb25zIiwicHJvZ3Jlc3Npb25Nb2RlIiwic2V0UHJvZ3Jlc3Npb25Nb2RlIiwiY29tcGxldGVkTGVzc29ucyIsInNldENvbXBsZXRlZExlc3NvbnMiLCJsdEFuc3dlcnNTdGF0ZSIsInNldEx0QW5zd2Vyc1N0YXRlIiwibHRDaGVja2VkIiwic2V0THRDaGVja2VkIiwibHRDb3JyZWN0QWxsIiwic2V0THRDb3JyZWN0QWxsIiwibHRVc2VkQW5zd2VycyIsInNldEx0VXNlZEFuc3dlcnMiLCJsdEZvY3VzR2FwIiwic2V0THRGb2N1c0dhcCIsImx0TWFza2VkIiwidHlwZSIsIlN0cmluZyIsImNvbnRlbnQiLCJtYXJrZG93bk1hc2tlZCIsImx0R2FwcyIsIkFycmF5IiwiaXNBcnJheSIsImdhcHMiLCJtYXAiLCJnIiwiaWQiLCJhbnN3ZXIiLCJsdE1vZGUiLCJtb2RlIiwibHRQYXJ0cyIsInNwbGl0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImx0QmFuayIsInNodWZmbGUiLCJhcnIiLCJ2IiwiTWF0aCIsInJhbmRvbSIsInNvcnQiLCJhIiwiYiIsIl9pZCIsImxvYWRMZXNzb24iLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJwYXlsb2FkIiwianNvbiIsImxlc3NvbkFycmF5IiwibGVzc29ucyIsImNvdXJzZSIsImZvdW5kTGVzc29uIiwiZmluZCIsImwiLCJsciIsImxkIiwidG90YWwiLCJxdWVzdGlvbnMiLCJsZW5ndGgiLCJmcm9tIiwiXyIsImkiLCJjb21wbGV0ZWRLZXkiLCJpblByb2dyZXNzS2V5IiwiY29tcGxldGVkU3RvcmVkIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImZvdW5kSWQiLCJpbmNsdWRlcyIsImluUHJvZyIsInVwZGF0ZWQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJjb25zb2xlIiwiRGF0ZSIsIm5vdyIsIm5vcm0iLCJzIiwidHJpbSIsImhhbmRsZUFuc3dlclNlbGVjdCIsInByZXYiLCJjdXJyZW50UXVlc3Rpb24iLCJjb3JyZWN0IiwiY29ycmVjdEFuc3dlciIsImhhcyIsImhhbmRsZUNoZWNrTXVsdGlwbGUiLCJjb3JyZWN0TGlzdCIsImNvcnJlY3RBbnN3ZXJzIiwic2VsTm9ybSIsImlzU2V0RXF1YWwiLCJldmVyeSIsInRleHRBbnN3ZXJJbnB1dCIsInNldFRleHRBbnN3ZXJJbnB1dCIsInRleHRBbnN3ZXJGZWVkYmFjayIsInNldFRleHRBbnN3ZXJGZWVkYmFjayIsInRleHRBbnN3ZXJRdWV1ZSIsInNldFRleHRBbnN3ZXJRdWV1ZSIsInRleHRBbnN3ZXJTb2x2ZWQiLCJzZXRUZXh0QW5zd2VyU29sdmVkIiwidGV4dEFuc3dlclJldmVhbGVkIiwic2V0VGV4dEFuc3dlclJldmVhbGVkIiwidGV4dEFuc3dlclJldmVhbFJvdW5kIiwic2V0VGV4dEFuc3dlclJldmVhbFJvdW5kIiwidGV4dEFuc3dlclJvdW5kIiwic2V0VGV4dEFuc3dlclJvdW5kIiwidGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCIsInNldFRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHgiLCJ0ZXh0QW5zd2VyQmxvY2tzIiwiYyIsImJsb2NrcyIsInF1ZXN0aW9uIiwiYW5zd2VycyIsIm1lZGlhIiwic3VibWl0VGV4dEFuc3dlciIsImNhc2VTZW5zaXRpdmUiLCJub3JtYWxpemUiLCJ0b0xvd2VyQ2FzZSIsImN1cnJlbnRJbmRleCIsImN1cnJlbnQiLCJ1c2VyTm9ybSIsImNvcnJlY3ROb3JtcyIsInNldFRpbWVvdXQiLCJhZGQiLCJzbGljZSIsInJldmVhbEN1cnJlbnRUZXh0QW5zd2VyIiwiaWR4IiwiYWR2YW5jZUFmdGVyUmV2ZWFsIiwic2l6ZSIsInJlbWFpbmluZyIsInIiLCJ1c2VybmFtZSIsInVzZXIiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsImVhcm5lZFN0YXIiLCJjYXRjaCIsInN0b3JlZCIsImUiLCJoYW5kbGVOZXh0UXVlc3Rpb24iLCJjdXJyZW50SWR4IiwibmV3UXVldWUiLCJuZXdNYXN0ZXJlZCIsInNoaWZ0IiwiaGFuZGxlUmV0cnkiLCJrZXkiLCJpc01hcmtkb3duIiwibWFya2Rvd24iLCJpc1ZpZGVvIiwiaXNMdWVja2VudGV4dCIsImlzT3JkZXJpbmciLCJpc1NuYWtlIiwibWFya1ZpZGVvQ29tcGxldGVkIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImgyIiwiYnV0dG9uIiwib25DbGljayIsInB1c2giLCJ0b3RhbFF1ZXN0aW9ucyIsInByb2dyZXNzIiwidW5kZWZpbmVkIiwiY3VycmVudE1lZGlhIiwibWVkaWFMaW5rIiwiY29ycmVjdExpc3ROb3JtYWxpemVkIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJwcmV2SWQiLCJyZXBsYWNlIiwiaDEiLCJ0aXRsZSIsImN1cnJlbnRMZXNzb25JZCIsInNlc3Npb25Vc2VybmFtZSIsImlzTXVsdGlwbGUiLCJpc01hdGNoaW5nIiwiaGFzTWVtb3J5UGFpcnMiLCJwYWlycyIsImVmZmVjdGl2ZVR5cGUiLCJpc01lbW9yeSIsInN0eWxlIiwid2lkdGgiLCJvbkNvbXBsZXRlZCIsImltZyIsInNyYyIsImFsdCIsIm9uRXJyb3IiLCJlbCIsImN1cnJlbnRUYXJnZXQiLCJuYW1lIiwicG9wIiwiZGF0YXNldCIsImZhbGxiYWNrMSIsImZhbGxiYWNrMiIsImF1ZGlvIiwiY29udHJvbHMiLCJzb3VyY2UiLCJocmVmIiwidGFyZ2V0IiwicmVsIiwib25Tb2x2ZWQiLCJzcGFuIiwiYWxsQW5zd2VycyIsImlzU2VsZWN0ZWQiLCJpc0NvcnJlY3RBbnMiLCJidXR0b25DbGFzcyIsImRpc2FibGVkIiwiZnJvbUNoYXJDb2RlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx\n"));

/***/ })

});