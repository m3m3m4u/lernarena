"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/kurs/[courseId]/lektion/[lessonId]/page",{

/***/ "(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx":
/*!*************************************************************!*\
  !*** ./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LessonPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!react */ \"(app-pages-browser)/__barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../components/lessonTypes */ \"(app-pages-browser)/./src/components/lessonTypes/index.ts\");\n/* harmony import */ var _lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../lib/lessonCompletion */ \"(app-pages-browser)/./src/lib/lessonCompletion.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n// Ausgelagerte Lektionstyp-Komponenten (schrittweises Refactoring)\n\n\nfunction LessonPage() {\n    var _lesson_content, _session_user, _lesson_content1, _session_user1, _session_user2, _lesson_questions;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const courseId = params.courseId;\n    const lessonId = params.lessonId;\n    const { data: session } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession)();\n    const [lesson, setLesson] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [loading, setLoading] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [, setCurrentQuestionIndex] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0); // DEPRECATED (für alte Logik)\n    const [questionQueue, setQuestionQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Reihenfolge offener Fragen\n    const [mastered, setMastered] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // korrekt beantwortete Fragen\n    const [marking, setMarking] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false); // Server-Update Status\n    const [selectedAnswer, setSelectedAnswer] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Neu: Auswahl für Multiple-Choice\n    const [selectedAnswers, setSelectedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [showResult, setShowResult] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isCorrect, setIsCorrect] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [score, setScore] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [completed, setCompleted] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [allLessons, setAllLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // für Footer-Navigation\n    const [progressionMode, setProgressionMode] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('free');\n    const [completedLessons, setCompletedLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // erledigte Lektionen\n    // Lückentext States (immer aufrufen, nicht konditional)\n    const [ltAnswersState, setLtAnswersState] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [ltChecked, setLtChecked] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltCorrectAll, setLtCorrectAll] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltUsedAnswers, setLtUsedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [ltFocusGap, setLtFocusGap] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Lückentext derived Daten (immer Hooks gleich halten)\n    const ltMasked = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltMasked]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? String((lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.markdownMasked) || '') : '';\n        }\n    }[\"LessonPage.useMemo[ltMasked]\"], [\n        lesson\n    ]);\n    const ltGaps = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltGaps]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? Array.isArray(lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.gaps) ? (lesson === null || lesson === void 0 ? void 0 : lesson.content).gaps.map({\n                \"LessonPage.useMemo[ltGaps]\": (g)=>({\n                        id: g.id,\n                        answer: String(g.answer)\n                    })\n            }[\"LessonPage.useMemo[ltGaps]\"]) : [] : [];\n        }\n    }[\"LessonPage.useMemo[ltGaps]\"], [\n        lesson\n    ]);\n    const ltMode = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' && (lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.mode) === 'drag' ? 'drag' : 'input';\n    const ltParts = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltParts]\": ()=>ltMasked ? ltMasked.split(/(___\\d+___)/g).filter(Boolean) : []\n    }[\"LessonPage.useMemo[ltParts]\"], [\n        ltMasked\n    ]);\n    const ltBank = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltBank]\": ()=>{\n            if (ltMode !== 'drag') return [];\n            const shuffle = {\n                \"LessonPage.useMemo[ltBank].shuffle\": (arr)=>arr.map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (v)=>[\n                                Math.random(),\n                                v\n                            ]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).sort({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (a, b)=>a[0] - b[0]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (param)=>{\n                            let [, v] = param;\n                            return v;\n                        }\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"])\n            }[\"LessonPage.useMemo[ltBank].shuffle\"];\n            return shuffle(ltGaps.map({\n                \"LessonPage.useMemo[ltBank]\": (g)=>g.answer\n            }[\"LessonPage.useMemo[ltBank]\"]));\n        }\n    }[\"LessonPage.useMemo[ltBank]\"], [\n        ltMode,\n        ltGaps\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // Reset bei Lektionstyp-Wechsel\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext') {\n                setLtAnswersState({});\n                setLtChecked(false);\n                setLtCorrectAll(false);\n                setLtUsedAnswers([]);\n                setLtFocusGap(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type\n    ]);\n    const loadLesson = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[loadLesson]\": async ()=>{\n            try {\n                const response = await fetch(\"/api/kurs/\".concat(courseId, \"/lektionen\"));\n                if (response.ok) {\n                    const payload = await response.json();\n                    const lessonArray = Array.isArray(payload) ? payload : payload.lessons || [];\n                    setAllLessons(lessonArray);\n                    // progressionMode vom Kurs laden (jetzt meist in der Antwort enthalten)\n                    if (payload.course && payload.course.progressionMode) {\n                        setProgressionMode(payload.course.progressionMode === 'linear' ? 'linear' : 'free');\n                    } else {\n                        setProgressionMode('free');\n                    }\n                    let foundLesson = lessonArray.find({\n                        \"LessonPage.useCallback[loadLesson].foundLesson\": (l)=>l._id === lessonId || l.id === lessonId\n                    }[\"LessonPage.useCallback[loadLesson].foundLesson\"]);\n                    if (!foundLesson) {\n                        // Fallback: Direkt über globalen Endpoint laden (für exercise-pool oder abweichende Organisation)\n                        try {\n                            const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                            if (lr.ok) {\n                                const ld = await lr.json();\n                                if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                                    foundLesson = ld.lesson;\n                                    setAllLessons([\n                                        ld.lesson\n                                    ]);\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                    if (foundLesson) setLesson(foundLesson);\n                    if (foundLesson) {\n                        var _foundLesson_questions;\n                        // Initial Queue setzen\n                        const total = ((_foundLesson_questions = foundLesson.questions) === null || _foundLesson_questions === void 0 ? void 0 : _foundLesson_questions.length) || 0;\n                        setQuestionQueue(Array.from({\n                            length: total\n                        }, {\n                            \"LessonPage.useCallback[loadLesson]\": (_, i)=>i\n                        }[\"LessonPage.useCallback[loadLesson]\"]));\n                        setMastered(new Set());\n                        setScore(0);\n                        setCompleted(false);\n                        setCurrentQuestionIndex(0); // legacy\n                        // In-Progress markieren falls noch nicht abgeschlossen\n                        try {\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            const completedStored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                            const foundId = foundLesson._id || foundLesson.id;\n                            if (foundId && !completedStored.includes(foundId)) {\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (!inProg.includes(foundId)) {\n                                    const updated = [\n                                        ...inProg,\n                                        foundId\n                                    ];\n                                    localStorage.setItem(inProgressKey, JSON.stringify(updated));\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                }\n                setLoading(false);\n            } catch (error) {\n                console.error('Fehler beim Laden der Lektion:', error);\n                setLoading(false);\n            }\n        }\n    }[\"LessonPage.useCallback[loadLesson]\"], [\n        courseId,\n        lessonId\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            loadLesson();\n        }\n    }[\"LessonPage.useEffect\"], [\n        loadLesson\n    ]);\n    // Zuletzt weitergemacht (für Dashboard): beim Öffnen merken\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            try {\n                if (courseId) localStorage.setItem('last:courseId', String(courseId));\n                if (lessonId) localStorage.setItem('last:lessonId', String(lessonId));\n                if (courseId) localStorage.setItem(\"course:\".concat(courseId, \":lastTouched\"), String(Date.now()));\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId,\n        lessonId\n    ]);\n    // Helper zum Normalisieren von Antworten (früher vorhanden, wiederhergestellt)\n    const norm = (s)=>typeof s === 'string' ? s.trim() : String(s !== null && s !== void 0 ? s : '');\n    const handleAnswerSelect = (answer)=>{\n        if (showResult) return;\n        if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'multiple-choice') {\n            setSelectedAnswers((prev)=>prev.includes(answer) ? prev.filter((a)=>a !== answer) : [\n                    ...prev,\n                    answer\n                ]);\n            return;\n        }\n        setSelectedAnswer(answer);\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correct = norm(answer) === norm(currentQuestion.correctAnswer);\n        setIsCorrect(correct);\n        setShowResult(true);\n        if (correct && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    const handleCheckMultiple = ()=>{\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correctList = (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : currentQuestion.correctAnswer ? [\n            currentQuestion.correctAnswer\n        ] : []).map(norm);\n        const selNorm = selectedAnswers.map(norm);\n        const isSetEqual = selNorm.length === correctList.length && correctList.every((a)=>selNorm.includes(a));\n        setIsCorrect(isSetEqual);\n        setShowResult(true);\n        if (isSetEqual && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    // Multi Text-Antwort States\n    const [textAnswerInput, setTextAnswerInput] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [textAnswerFeedback, setTextAnswerFeedback] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [textAnswerQueue, setTextAnswerQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Index-Reihenfolge der noch offenen Blöcke\n    const [textAnswerSolved, setTextAnswerSolved] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n    const [textAnswerRevealed, setTextAnswerRevealed] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // Gesamt-Flag (Analytics)\n    const [textAnswerRevealRound, setTextAnswerRevealRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({}); // index -> Runde\n    const [textAnswerRound, setTextAnswerRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    const [textAnswerJustRevealedIdx, setTextAnswerJustRevealedIdx] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const textAnswerBlocks = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[textAnswerBlocks]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return [];\n            const c = lesson.content || {};\n            if (Array.isArray(c.blocks)) {\n                return c.blocks.filter({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>b && typeof b.question === 'string' && Array.isArray(b.answers) && b.answers.length > 0\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]).map({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>({\n                            question: String(b.question),\n                            answers: b.answers.map({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>String(a)\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]).filter({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>a.length > 0\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]),\n                            media: b.media && String(b.media)\n                        })\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]);\n            }\n            if (c.question && c.answer) return [\n                {\n                    question: String(c.question),\n                    answers: [\n                        String(c.answer)\n                    ]\n                }\n            ];\n            return [];\n        }\n    }[\"LessonPage.useMemo[textAnswerBlocks]\"], [\n        lesson\n    ]);\n    // Initial Queue setzen wenn Blocks geladen\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer') {\n                setTextAnswerQueue(textAnswerBlocks.map({\n                    \"LessonPage.useEffect\": (_, i)=>i\n                }[\"LessonPage.useEffect\"]));\n                setTextAnswerSolved(new Set());\n                setTextAnswerRevealed(new Set());\n                setTextAnswerRound(1);\n                setTextAnswerRevealRound({});\n                setTextAnswerInput('');\n                setTextAnswerFeedback(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type,\n        textAnswerBlocks.length\n    ]);\n    const submitTextAnswer = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            if (!textAnswerBlocks.length || !textAnswerQueue.length) return;\n            const c = lesson.content || {};\n            const caseSensitive = !!c.caseSensitive;\n            const normalize = {\n                \"LessonPage.useCallback[submitTextAnswer].normalize\": (s)=>caseSensitive ? s.trim() : s.trim().toLowerCase()\n            }[\"LessonPage.useCallback[submitTextAnswer].normalize\"];\n            const currentIndex = textAnswerQueue[0];\n            const current = textAnswerBlocks[currentIndex];\n            const userNorm = normalize(textAnswerInput);\n            if (!userNorm) {\n                setTextAnswerFeedback('Bitte etwas eingeben.');\n                return;\n            }\n            const correctNorms = current.answers.map({\n                \"LessonPage.useCallback[submitTextAnswer].correctNorms\": (a)=>normalize(a)\n            }[\"LessonPage.useCallback[submitTextAnswer].correctNorms\"]);\n            if (correctNorms.includes(userNorm)) {\n                setTextAnswerFeedback('✅ Korrekt!');\n                setTimeout({\n                    \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n                        setTextAnswerSolved({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>new Set(prev).add(currentIndex)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                        setTextAnswerInput('');\n                        setTextAnswerFeedback(null);\n                        // Nächste Frage\n                        setTextAnswerQueue({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>prev.slice(1)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                    }\n                }[\"LessonPage.useCallback[submitTextAnswer]\"], 400);\n                return;\n            }\n            setTextAnswerFeedback('❌ Nicht korrekt.');\n        }\n    }[\"LessonPage.useCallback[submitTextAnswer]\"], [\n        lesson,\n        textAnswerBlocks,\n        textAnswerQueue,\n        textAnswerInput\n    ]);\n    const revealCurrentTextAnswer = ()=>{\n        if (!lesson || lesson.type !== 'text-answer') return;\n        if (!textAnswerQueue.length) return;\n        const idx = textAnswerQueue[0];\n        setTextAnswerRevealed((prev)=>new Set(prev).add(idx));\n        setTextAnswerRevealRound((prev)=>({\n                ...prev,\n                [idx]: textAnswerRound\n            }));\n        setTextAnswerFeedback('🛈 Antwort eingeblendet. Später erneut beantworten.');\n        setTextAnswerJustRevealedIdx(idx);\n        setTextAnswerInput('');\n    };\n    const advanceAfterReveal = ()=>{\n        if (textAnswerJustRevealedIdx == null) return;\n        setTextAnswerQueue((prev)=>prev[0] === textAnswerJustRevealedIdx ? prev.slice(1) : prev);\n        setTextAnswerJustRevealedIdx(null);\n        setTextAnswerFeedback(null);\n    };\n    // Wenn Queue leer aber noch nicht alle solved -> neue Runde mit nur ungelösten (reveal Fragen)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer' && textAnswerQueue.length === 0 && textAnswerBlocks.length) {\n                const total = textAnswerBlocks.length;\n                if (textAnswerSolved.size === total) {\n                    setCompleted(true);\n                } else {\n                    const remaining = textAnswerBlocks.map({\n                        \"LessonPage.useEffect.remaining\": (_, i)=>i\n                    }[\"LessonPage.useEffect.remaining\"]).filter({\n                        \"LessonPage.useEffect.remaining\": (i)=>!textAnswerSolved.has(i)\n                    }[\"LessonPage.useEffect.remaining\"]);\n                    setTextAnswerQueue(remaining);\n                    setTextAnswerRound({\n                        \"LessonPage.useEffect\": (r)=>r + 1\n                    }[\"LessonPage.useEffect\"]);\n                    setTextAnswerFeedback(null);\n                }\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        textAnswerQueue.length,\n        textAnswerSolved,\n        textAnswerBlocks,\n        lesson\n    ]);\n    // NEU: Abschluss + Stern für Text-Antwort Lektionen (bisher fehlte API-Aufruf)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                if (!username) return;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await fetch('/api/lesson/complete', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id,\n                                    courseId: lesson.courseId,\n                                    type: lesson.type,\n                                    earnedStar: true\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            await fetch('/api/progress', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            try {\n                                const stored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                                if (!stored.includes(lesson._id)) {\n                                    const updated = [\n                                        ...stored,\n                                        lesson._id\n                                    ];\n                                    localStorage.setItem(completedKey, JSON.stringify(updated));\n                                    setCompletedLessons(updated);\n                                }\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (Array.isArray(inProg) && inProg.includes(lesson._id)) {\n                                    localStorage.setItem(inProgressKey, JSON.stringify(inProg.filter({\n                                        \"LessonPage.useEffect\": (id)=>id !== lesson._id\n                                    }[\"LessonPage.useEffect\"])));\n                                }\n                            } catch (e) {}\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username,\n        courseId\n    ]);\n    // Wiederhergestellt: Fortschrittslogik nach Bewertung\n    const handleNextQuestion = ()=>{\n        if (!lesson || questionQueue.length === 0) return;\n        const currentIdx = questionQueue[0];\n        let newQueue = [\n            ...questionQueue\n        ];\n        if (isCorrect) {\n            if (!mastered.has(currentIdx)) {\n                const newMastered = new Set(mastered);\n                newMastered.add(currentIdx);\n                setMastered(newMastered);\n            }\n            newQueue.shift();\n        } else {\n            newQueue = [\n                ...newQueue.slice(1),\n                currentIdx\n            ];\n        }\n        setQuestionQueue(newQueue);\n        setSelectedAnswer(\"\");\n        setSelectedAnswers([]);\n        setShowResult(false);\n        if (newQueue.length === 0) {\n            setCompleted(true);\n            (async ()=>{\n                try {\n                    var _session_user;\n                    const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                    setMarking(true);\n                    await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                        username,\n                        lessonId: lesson._id,\n                        courseId: lesson.courseId,\n                        type: lesson.type,\n                        earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                    });\n                    setCompletedLessons((prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]);\n                } catch (e) {\n                    console.error('Abschließen fehlgeschlagen', e);\n                } finally{\n                    setMarking(false);\n                }\n            })();\n        } else {\n            setCurrentQuestionIndex(newQueue[0]);\n        }\n    };\n    const handleRetry = ()=>{\n        setCurrentQuestionIndex(0);\n        setSelectedAnswer(\"\");\n        setShowResult(false);\n        setScore(0);\n        setCompleted(false);\n        setSelectedAnswers([]);\n    };\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // erledigte Lektionen aus localStorage laden\n            const key = \"course:\".concat(courseId, \":completedLessons\");\n            try {\n                const stored = JSON.parse(localStorage.getItem(key) || '[]');\n                if (Array.isArray(stored)) setCompletedLessons(stored);\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId\n    ]);\n    // (Entfernt) früherer Effekt für generisches Speichern bei completed -> Logik jetzt in finalizeLesson Stellen zentralisiert\n    // Neu: Typen-Flags und Abschluss-Funktion für YouTube\n    const isMarkdown = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'markdown' && ((_lesson_content1 = lesson.content) === null || _lesson_content1 === void 0 ? void 0 : _lesson_content1.markdown);\n    const isVideo = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'video';\n    const isLueckentext = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext';\n    const isOrdering = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'ordering';\n    const isSnake = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'snake' || (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'minigame';\n    const markVideoCompleted = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[markVideoCompleted]\": async ()=>{\n            var _session_user;\n            const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n            if (!lesson) return;\n            if (completedLessons.includes(lesson._id)) return;\n            setMarking(true);\n            try {\n                await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                    username,\n                    lessonId: lesson._id,\n                    courseId: lesson.courseId,\n                    type: lesson.type,\n                    earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                });\n                setCompletedLessons({\n                    \"LessonPage.useCallback[markVideoCompleted]\": (prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]\n                }[\"LessonPage.useCallback[markVideoCompleted]\"]);\n            } catch (e) {\n                console.error('Video Abschluss fehlgeschlagen', e);\n            } finally{\n                setMarking(false);\n            }\n        }\n    }[\"LessonPage.useCallback[markVideoCompleted]\"], [\n        session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.username,\n        lesson,\n        completedLessons,\n        courseId\n    ]);\n    // Abschluss Text-Antwort Lektion (centralized)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                                username,\n                                lessonId: lesson._id,\n                                courseId: lesson.courseId,\n                                type: lesson.type,\n                                earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                            });\n                            setCompletedLessons({\n                                \"LessonPage.useEffect\": (prev)=>prev.includes(lesson._id) ? prev : [\n                                        ...prev,\n                                        lesson._id\n                                    ]\n                            }[\"LessonPage.useEffect\"]);\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user2 = session.user) === null || _session_user2 === void 0 ? void 0 : _session_user2.username,\n        courseId\n    ]);\n    // Early Returns jetzt NACH allen Hooks\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent text-blue-600 rounded-full\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 421,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-gray-600\",\n                        children: \"Lektion wird geladen...\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 422,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 420,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 419,\n            columnNumber: 7\n        }, this);\n    }\n    if (!lesson) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6 bg-white rounded shadow\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-xl font-bold text-red-600\",\n                    children: \"Lektion nicht gefunden\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 431,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-600 mt-2\",\n                    children: \"Die angeforderte Lektion konnte nicht geladen werden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 432,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"mt-4 text-blue-600 hover:underline\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 433,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 430,\n            columnNumber: 7\n        }, this);\n    }\n    const totalQuestions = ((_lesson_questions = lesson.questions) === null || _lesson_questions === void 0 ? void 0 : _lesson_questions.length) || 0;\n    const progress = totalQuestions > 0 ? mastered.size / totalQuestions * 100 : 0;\n    const currentQuestion = lesson.questions && questionQueue.length > 0 ? lesson.questions[questionQueue[0]] : undefined;\n    // Vorberechnete korrekte Antworten (normalisiert) für Anzeige/Checks\n    const correctListNormalized = currentQuestion && (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.correctAnswer) ? [\n        currentQuestion.correctAnswer\n    ] : []).map(norm) || [];\n    // Snake frühe Rückgabe\n    // Lock-Redirect bei linearer Progression: wenn vorherige Lektion nicht abgeschlossen\n    if (lesson && progressionMode === 'linear') {\n        const index = allLessons.findIndex((l)=>l._id === lesson._id || l.id === lesson._id);\n        if (index > 0) {\n            const prev = allLessons[index - 1];\n            const prevId = prev._id || prev.id;\n            if (prevId && !completedLessons.includes(prevId)) {\n                // redirect zurück auf Kursseite\n                if (true) {\n                    router.replace(\"/kurs/\".concat(courseId));\n                }\n            }\n        }\n    }\n    if (lesson && isSnake) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 466,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 467,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.SnakeGame, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 468,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 469,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 465,\n            columnNumber: 7\n        }, this);\n    }\n    // Render für Markdown-Lektion\n    if (isMarkdown) {\n        var _session_user3;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 478,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 479,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MarkdownLesson, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons,\n                    sessionUsername: session === null || session === void 0 ? void 0 : (_session_user3 = session.user) === null || _session_user3 === void 0 ? void 0 : _session_user3.username\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 480,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 481,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 477,\n            columnNumber: 7\n        }, this);\n    }\n    const isMultiple = lesson.type === 'multiple-choice';\n    const isMatching = lesson.type === 'matching';\n    const hasMemoryPairs = !!(lesson.content && lesson.content.pairs && Array.isArray(lesson.content.pairs));\n    const effectiveType = lesson.type === 'memory' || lesson.type === 'matching' && hasMemoryPairs ? 'memory' : lesson.type;\n    const isMemory = effectiveType === 'memory';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-6xl mx-auto mt-10 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                        className: \"text-blue-600 hover:underline mb-4\",\n                        children: \"← Zur\\xfcck zum Kurs\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 495,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-2\",\n                        children: lesson.title\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 496,\n                        columnNumber: 9\n                    }, this),\n                    !isVideo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full bg-gray-200 rounded-full h-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n                                    style: {\n                                        width: \"\".concat(progress, \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 500,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 499,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600 mt-1\",\n                                children: [\n                                    \"Fortschritt: \",\n                                    mastered.size,\n                                    \" / \",\n                                    totalQuestions,\n                                    \" gemeistert\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 502,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 494,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-lg shadow-lg p-8\",\n                children: isVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.YouTubeLesson, {\n                    lesson: lesson,\n                    onCompleted: markVideoCompleted\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 508,\n                    columnNumber: 11\n                }, this) : effectiveType === 'memory' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MemoryGame, {\n                    lesson: {\n                        ...lesson,\n                        type: 'memory'\n                    },\n                    onCompleted: ()=>{\n                        setIsCorrect(true);\n                        setShowResult(true);\n                        setCompleted(true);\n                    },\n                    completedLessons: completedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 510,\n                    columnNumber: 11\n                }, this) : currentQuestion ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-6\",\n                            children: currentQuestion.question\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 513,\n                            columnNumber: 13\n                        }, this),\n                        !isMatching && currentQuestion.mediaLink && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n                            children: currentQuestion.mediaLink.match(/\\.(jpg|jpeg|png|gif|webp)$/i) ? // eslint-disable-next-line @next/next/no-img-element\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: currentQuestion.mediaLink,\n                                alt: \"Frage Bild\",\n                                className: \"max-w-full max-h-64 object-contain mx-auto border rounded\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 519,\n                                columnNumber: 19\n                            }, this) : currentQuestion.mediaLink.match(/\\.(mp3|wav|ogg|m4a)$/i) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                                controls: true,\n                                className: \"w-full max-w-md mx-auto\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentQuestion.mediaLink\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 526,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-red-600 text-sm\",\n                                        children: \"Audio wird vom Browser nicht unterst\\xfctzt\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 527,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 525,\n                                columnNumber: 19\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: currentQuestion.mediaLink,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                className: \"text-blue-600 hover:underline break-all\",\n                                children: [\n                                    \"\\uD83D\\uDCCE \",\n                                    currentQuestion.mediaLink\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 530,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 516,\n                            columnNumber: 15\n                        }, this),\n                        isMatching ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MatchingUI, {\n                                    question: currentQuestion,\n                                    onSolved: ()=>{\n                                        setIsCorrect(true);\n                                        setShowResult(true);\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 545,\n                                    columnNumber: 17\n                                }, this),\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleNextQuestion,\n                                            className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                            children: \"Weiter\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 554,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium text-green-700\",\n                                            children: \"Alle Paare korrekt verbunden!\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 555,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 553,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3 mb-6\",\n                            children: isMultiple ? currentQuestion.allAnswers.map((answer, index)=>{\n                                const isSelected = selectedAnswers.includes(answer);\n                                const isCorrectAns = correctListNormalized.includes(norm(answer));\n                                let buttonClass = \"w-full p-4 text-left border-2 rounded-lg transition-all \";\n                                if (showResult) {\n                                    if (isCorrectAns) {\n                                        buttonClass += \"border-green-500 bg-green-50 text-green-800\";\n                                    } else if (isSelected && !isCorrectAns) {\n                                        buttonClass += \"border-red-500 bg-red-50 text-red-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 bg-gray-50 text-gray-600\";\n                                    }\n                                } else {\n                                    if (isSelected) {\n                                        buttonClass += \"border-blue-500 bg-blue-50 text-blue-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 hover:border-gray-300 hover:bg-gray-50\";\n                                    }\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: buttonClass,\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 582,\n                                    columnNumber: 23\n                                }, this);\n                            }) : currentQuestion.allAnswers.map((answer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: \"w-full p-4 text-left border-2 rounded-lg transition-all \".concat(selectedAnswer === answer ? 'border-blue-500 bg-blue-50 text-blue-800' : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'),\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 594,\n                                    columnNumber: 21\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 560,\n                            columnNumber: 15\n                        }, this),\n                        !isMatching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 mt-4\",\n                            children: [\n                                isMultiple && !showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCheckMultiple,\n                                    className: \"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700\",\n                                    children: \"Antwort pr\\xfcfen\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 613,\n                                    columnNumber: 19\n                                }, this) : showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleNextQuestion,\n                                    className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                    children: \"Weiter\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 616,\n                                    columnNumber: 21\n                                }, this) : null,\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium \".concat(isCorrect ? 'text-green-700' : 'text-red-700'),\n                                    children: isCorrect ? 'Richtig!' : 'Leider falsch.'\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 620,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 611,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Keine Frage vorhanden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 628,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 506,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                allLessons: allLessons,\n                currentLessonId: lessonId,\n                courseId: courseId,\n                completedLessons: completedLessons,\n                progressionMode: progressionMode\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 633,\n                columnNumber: 3\n            }, this),\n            isMemory && completed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 text-green-700 font-medium\",\n                children: \"✔️ Memory abgeschlossen!\"\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 634,\n                columnNumber: 33\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n        lineNumber: 493,\n        columnNumber: 3\n    }, this);\n} // Client-Komponente für Markdown Rendering\n // MatchingUI jetzt ausgelagert\n // OrderingPlayer und LueckentextPlayer ausgelagert\n_s(LessonPage, \"qrbYrjR5iZF6jJRcXZ0Z8/WkqoU=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter,\n        next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession\n    ];\n});\n_c = LessonPage;\nvar _c;\n$RefreshReg$(_c, \"LessonPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAva3Vycy9bY291cnNlSWRdL2xla3Rpb24vW2xlc3NvbklkXS9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ3VEO0FBQ1c7QUFDckI7QUFDN0MsbUVBQW1FO0FBQ2lIO0FBQy9HO0FBSXRELFNBQVNjO1FBZ0MrQ0MsaUJBZ1FIQyxlQW1FaEJELGtCQXdCOUNDLGdCQXdCOERBLGdCQXdCM0NEOztJQTFhdkIsTUFBTUUsU0FBU2pCLDBEQUFTQTtJQUN4QixNQUFNa0IsU0FBU2pCLDBEQUFTQTtJQUN4QixNQUFNa0IsV0FBV0YsT0FBT0UsUUFBUTtJQUNoQyxNQUFNQyxXQUFXSCxPQUFPRyxRQUFRO0lBQ2hDLE1BQU0sRUFBRUMsTUFBTUwsT0FBTyxFQUFFLEdBQUdWLDJEQUFVQTtJQUVwQyxNQUFNLENBQUNTLFFBQVFPLFVBQVUsR0FBR3BCLDZHQUFRQSxDQUFnQjtJQUNwRCxNQUFNLENBQUNxQixTQUFTQyxXQUFXLEdBQUd0Qiw2R0FBUUEsQ0FBQztJQUN2QyxNQUFNLEdBQUd1Qix3QkFBd0IsR0FBR3ZCLDZHQUFRQSxDQUFDLElBQUksOEJBQThCO0lBQy9FLE1BQU0sQ0FBQ3dCLGVBQWVDLGlCQUFpQixHQUFHekIsNkdBQVFBLENBQVcsRUFBRSxHQUFHLDZCQUE2QjtJQUMvRixNQUFNLENBQUMwQixVQUFVQyxZQUFZLEdBQUczQiw2R0FBUUEsQ0FBYyxJQUFJNEIsUUFBUSw4QkFBOEI7SUFDaEcsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUc5Qiw2R0FBUUEsQ0FBQyxRQUFRLHVCQUF1QjtJQUN0RSxNQUFNLENBQUMrQixnQkFBZ0JDLGtCQUFrQixHQUFHaEMsNkdBQVFBLENBQVM7SUFDN0QsbUNBQW1DO0lBQ25DLE1BQU0sQ0FBQ2lDLGlCQUFpQkMsbUJBQW1CLEdBQUdsQyw2R0FBUUEsQ0FBVyxFQUFFO0lBQ25FLE1BQU0sQ0FBQ21DLFlBQVlDLGNBQWMsR0FBR3BDLDZHQUFRQSxDQUFD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USIsInNvdXJjZXMiOlsiRDpcXGxlcm5hcmVuYVxcc3JjXFxhcHBcXGt1cnNcXFtjb3Vyc2VJZF1cXGxla3Rpb25cXFtsZXNzb25JZF1cXHBhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9yZWFjdCc7XG4vLyBBdXNnZWxhZ2VydGUgTGVrdGlvbnN0eXAtS29tcG9uZW50ZW4gKHNjaHJpdHR3ZWlzZXMgUmVmYWN0b3JpbmcpXG5pbXBvcnQgeyBNYXJrZG93bkxlc3NvbiwgWW91VHViZUxlc3NvbiwgTWVtb3J5R2FtZSwgTHVlY2tlbnRleHRQbGF5ZXIsIE9yZGVyaW5nUGxheWVyLCBNYXRjaGluZ1VJLCBMZXNzb25Gb290ZXJOYXZpZ2F0aW9uLCBTbmFrZUdhbWUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb21wb25lbnRzL2xlc3NvblR5cGVzJztcbmltcG9ydCB7IGZpbmFsaXplTGVzc29uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL2xlc3NvbkNvbXBsZXRpb24nO1xuaW1wb3J0IHR5cGUgeyBMZXNzb24sIFF1ZXN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sZXNzb25UeXBlcy90eXBlcyc7XG5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGVzc29uUGFnZSgpIHtcbiAgY29uc3QgcGFyYW1zID0gdXNlUGFyYW1zKCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBjb3Vyc2VJZCA9IHBhcmFtcy5jb3Vyc2VJZCBhcyBzdHJpbmc7XG4gIGNvbnN0IGxlc3NvbklkID0gcGFyYW1zLmxlc3NvbklkIGFzIHN0cmluZztcbiAgY29uc3QgeyBkYXRhOiBzZXNzaW9uIH0gPSB1c2VTZXNzaW9uKCk7XG4gIFxuICBjb25zdCBbbGVzc29uLCBzZXRMZXNzb25dID0gdXNlU3RhdGU8TGVzc29uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbLCBzZXRDdXJyZW50UXVlc3Rpb25JbmRleF0gPSB1c2VTdGF0ZSgwKTsgLy8gREVQUkVDQVRFRCAoZsO8ciBhbHRlIExvZ2lrKVxuICBjb25zdCBbcXVlc3Rpb25RdWV1ZSwgc2V0UXVlc3Rpb25RdWV1ZV0gPSB1c2VTdGF0ZTxudW1iZXJbXT4oW10pOyAvLyBSZWloZW5mb2xnZSBvZmZlbmVyIEZyYWdlblxuICBjb25zdCBbbWFzdGVyZWQsIHNldE1hc3RlcmVkXSA9IHVzZVN0YXRlPFNldDxudW1iZXI+PihuZXcgU2V0KCkpOyAvLyBrb3JyZWt0IGJlYW50d29ydGV0ZSBGcmFnZW5cbiAgY29uc3QgW21hcmtpbmcsIHNldE1hcmtpbmddID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBTZXJ2ZXItVXBkYXRlIFN0YXR1c1xuICBjb25zdCBbc2VsZWN0ZWRBbnN3ZXIsIHNldFNlbGVjdGVkQW5zd2VyXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIC8vIE5ldTogQXVzd2FobCBmw7xyIE11bHRpcGxlLUNob2ljZVxuICBjb25zdCBbc2VsZWN0ZWRBbnN3ZXJzLCBzZXRTZWxlY3RlZEFuc3dlcnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW3Nob3dSZXN1bHQsIHNldFNob3dSZXN1bHRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaXNDb3JyZWN0LCBzZXRJc0NvcnJlY3RdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2NvcmUsIHNldFNjb3JlXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbY29tcGxldGVkLCBzZXRDb21wbGV0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWxsTGVzc29ucywgc2V0QWxsTGVzc29uc10gPSB1c2VTdGF0ZTxMZXNzb25bXT4oW10pOyAvLyBmw7xyIEZvb3Rlci1OYXZpZ2F0aW9uXG4gIGNvbnN0IFtwcm9ncmVzc2lvbk1vZGUsIHNldFByb2dyZXNzaW9uTW9kZV0gPSB1c2VTdGF0ZTwnbGluZWFyJ3wnZnJlZSc+KCdmcmVlJyk7XG4gIGNvbnN0IFtjb21wbGV0ZWRMZXNzb25zLCBzZXRDb21wbGV0ZWRMZXNzb25zXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7IC8vIGVybGVkaWd0ZSBMZWt0aW9uZW5cbiAgLy8gTMO8Y2tlbnRleHQgU3RhdGVzIChpbW1lciBhdWZydWZlbiwgbmljaHQga29uZGl0aW9uYWwpXG4gIGNvbnN0IFtsdEFuc3dlcnNTdGF0ZSwgc2V0THRBbnN3ZXJzU3RhdGVdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgc3RyaW5nPj4oe30pO1xuICBjb25zdCBbbHRDaGVja2VkLCBzZXRMdENoZWNrZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbHRDb3JyZWN0QWxsLCBzZXRMdENvcnJlY3RBbGxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbHRVc2VkQW5zd2Vycywgc2V0THRVc2VkQW5zd2Vyc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbbHRGb2N1c0dhcCwgc2V0THRGb2N1c0dhcF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgLy8gTMO8Y2tlbnRleHQgZGVyaXZlZCBEYXRlbiAoaW1tZXIgSG9va3MgZ2xlaWNoIGhhbHRlbilcbiAgY29uc3QgbHRNYXNrZWQgPSB1c2VNZW1vKCgpID0+IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpID8gU3RyaW5nKChsZXNzb24/LmNvbnRlbnQgYXMgYW55KT8ubWFya2Rvd25NYXNrZWQgfHwgJycpIDogJycsIFtsZXNzb25dKTtcbiAgY29uc3QgbHRHYXBzID0gdXNlTWVtbygoKSA9PiAobGVzc29uPy50eXBlID09PSAnbHVlY2tlbnRleHQnKSA/IChBcnJheS5pc0FycmF5KChsZXNzb24/LmNvbnRlbnQgYXMgYW55KT8uZ2FwcykgPyAobGVzc29uPy5jb250ZW50IGFzIGFueSkuZ2Fwcy5tYXAoKGc6IGFueSkgPT4gKHsgaWQ6IGcuaWQsIGFuc3dlcjogU3RyaW5nKGcuYW5zd2VyKSB9KSkgOiBbXSkgOiBbXSwgW2xlc3Nvbl0pO1xuICBjb25zdCBsdE1vZGU6ICdpbnB1dCcgfCAnZHJhZycgPSAobGVzc29uPy50eXBlID09PSAnbHVlY2tlbnRleHQnICYmIChsZXNzb24/LmNvbnRlbnQgYXMgYW55KT8ubW9kZSA9PT0gJ2RyYWcnKSA/ICdkcmFnJyA6ICdpbnB1dCc7XG4gIGNvbnN0IGx0UGFydHMgPSB1c2VNZW1vKCgpID0+IGx0TWFza2VkID8gbHRNYXNrZWQuc3BsaXQoLyhfX19cXGQrX19fKS9nKS5maWx0ZXIoQm9vbGVhbikgOiBbXSwgW2x0TWFza2VkXSk7XG4gIGNvbnN0IGx0QmFuayA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChsdE1vZGUgIT09ICdkcmFnJykgcmV0dXJuIFtdIGFzIHN0cmluZ1tdO1xuICAgIGNvbnN0IHNodWZmbGUgPSA8VCw+KGFycjogVFtdKSA9PiBhcnIubWFwKHYgPT4gW01hdGgucmFuZG9tKCksIHZdIGFzIGNvbnN0KS5zb3J0KChhLGIpPT5hWzBdLWJbMF0pLm1hcCgoWyx2XSk9PnYpO1xuICAgIHJldHVybiBzaHVmZmxlKGx0R2Fwcy5tYXAoKGc6IHsgaWQ6IG51bWJlcjsgYW5zd2VyOiBzdHJpbmcgfSkgPT4gZy5hbnN3ZXIpKTtcbiAgfSwgW2x0TW9kZSwgbHRHYXBzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gUmVzZXQgYmVpIExla3Rpb25zdHlwLVdlY2hzZWxcbiAgICBpZiAobGVzc29uPy50eXBlID09PSAnbHVlY2tlbnRleHQnKSB7XG4gICAgICBzZXRMdEFuc3dlcnNTdGF0ZSh7fSk7XG4gICAgICBzZXRMdENoZWNrZWQoZmFsc2UpO1xuICAgICAgc2V0THRDb3JyZWN0QWxsKGZhbHNlKTtcbiAgICAgIHNldEx0VXNlZEFuc3dlcnMoW10pO1xuICAgICAgc2V0THRGb2N1c0dhcChudWxsKTtcbiAgICB9XG4gIH0sIFtsZXNzb24/Ll9pZCwgbGVzc29uPy50eXBlXSk7XG5cbiAgY29uc3QgbG9hZExlc3NvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9rdXJzLyR7Y291cnNlSWR9L2xla3Rpb25lbmApO1xuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGxlc3NvbkFycmF5ID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiAocGF5bG9hZC5sZXNzb25zIHx8IFtdKTtcbiAgICAgICAgc2V0QWxsTGVzc29ucyhsZXNzb25BcnJheSk7XG4gICAgICAgIC8vIHByb2dyZXNzaW9uTW9kZSB2b20gS3VycyBsYWRlbiAoamV0enQgbWVpc3QgaW4gZGVyIEFudHdvcnQgZW50aGFsdGVuKVxuICAgICAgICBpZiAocGF5bG9hZC5jb3Vyc2UgJiYgcGF5bG9hZC5jb3Vyc2UucHJvZ3Jlc3Npb25Nb2RlKSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKHBheWxvYWQuY291cnNlLnByb2dyZXNzaW9uTW9kZSA9PT0gJ2xpbmVhcicgPyAnbGluZWFyJyA6ICdmcmVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKCdmcmVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZvdW5kTGVzc29uID0gKGxlc3NvbkFycmF5IGFzIEFycmF5PHsgX2lkPzogc3RyaW5nOyBpZD86IHN0cmluZyB9PikuZmluZCgobCkgPT4gbC5faWQgPT09IGxlc3NvbklkIHx8IGwuaWQgPT09IGxlc3NvbklkKSBhcyBhbnk7XG4gICAgICAgIGlmICghZm91bmRMZXNzb24pIHtcbiAgICAgICAgICAvLyBGYWxsYmFjazogRGlyZWt0IMO8YmVyIGdsb2JhbGVuIEVuZHBvaW50IGxhZGVuIChmw7xyIGV4ZXJjaXNlLXBvb2wgb2RlciBhYndlaWNoZW5kZSBPcmdhbmlzYXRpb24pXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGxyID0gYXdhaXQgZmV0Y2goYC9hcGkvbGVzc29ucy8ke2xlc3NvbklkfWApO1xuICAgICAgICAgICAgaWYgKGxyLm9rKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGxkID0gYXdhaXQgbHIuanNvbigpO1xuICAgICAgICAgICAgICBpZiAobGQ/Lmxlc3Nvbikge1xuICAgICAgICAgICAgICAgIGZvdW5kTGVzc29uID0gbGQubGVzc29uO1xuICAgICAgICAgICAgICAgIHNldEFsbExlc3NvbnMoW2xkLmxlc3Nvbl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb3VuZExlc3Nvbikgc2V0TGVzc29uKGZvdW5kTGVzc29uIGFzIHVua25vd24gYXMgTGVzc29uKTtcbiAgICAgICAgaWYgKGZvdW5kTGVzc29uKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbCBRdWV1ZSBzZXR6ZW5cbiAgICAgICAgICBjb25zdCB0b3RhbCA9IChmb3VuZExlc3NvbiBhcyB1bmtub3duIGFzIHsgcXVlc3Rpb25zPzogdW5rbm93bltdIH0pLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgc2V0UXVlc3Rpb25RdWV1ZShBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbCB9LCAoXywgaSkgPT4gaSkpO1xuICAgICAgICAgIHNldE1hc3RlcmVkKG5ldyBTZXQoKSk7XG4gICAgICAgICAgc2V0U2NvcmUoMCk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgICBzZXRDdXJyZW50UXVlc3Rpb25JbmRleCgwKTsgLy8gbGVnYWN5XG4gICAgICAgICAgLy8gSW4tUHJvZ3Jlc3MgbWFya2llcmVuIGZhbGxzIG5vY2ggbmljaHQgYWJnZXNjaGxvc3NlblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRLZXkgPSBgY291cnNlOiR7Y291cnNlSWR9OmNvbXBsZXRlZExlc3NvbnNgO1xuICAgICAgICAgICAgY29uc3QgaW5Qcm9ncmVzc0tleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06aW5Qcm9ncmVzc0xlc3NvbnNgO1xuICAgICAgICAgICAgY29uc3QgY29tcGxldGVkU3RvcmVkOiBzdHJpbmdbXSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oY29tcGxldGVkS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kSWQgPSAoZm91bmRMZXNzb24gYXMgeyBfaWQ/OiBzdHJpbmc7IGlkPzogc3RyaW5nIH0pLl9pZCB8fCAoZm91bmRMZXNzb24gYXMgeyBfaWQ/OiBzdHJpbmc7IGlkPzogc3RyaW5nIH0pLmlkO1xuICAgICAgICAgICAgaWYgKGZvdW5kSWQgJiYgIWNvbXBsZXRlZFN0b3JlZC5pbmNsdWRlcyhmb3VuZElkKSkge1xuICAgICAgICAgICAgICBjb25zdCBpblByb2c6IHN0cmluZ1tdID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpblByb2dyZXNzS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgICAgaWYgKCFpblByb2cuaW5jbHVkZXMoZm91bmRJZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLmluUHJvZywgZm91bmRJZF07XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaW5Qcm9ncmVzc0tleSwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICB9XG4gIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGZWhsZXIgYmVpbSBMYWRlbiBkZXIgTGVrdGlvbjonLCBlcnJvcik7XG4gIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvdXJzZUlkLCBsZXNzb25JZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZExlc3NvbigpO1xuICB9LCBbbG9hZExlc3Nvbl0pO1xuXG4gIC8vIFp1bGV0enQgd2VpdGVyZ2VtYWNodCAoZsO8ciBEYXNoYm9hcmQpOiBiZWltIMOWZmZuZW4gbWVya2VuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb3Vyc2VJZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3Q6Y291cnNlSWQnLCBTdHJpbmcoY291cnNlSWQpKTtcbiAgICAgIGlmIChsZXNzb25JZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3Q6bGVzc29uSWQnLCBTdHJpbmcobGVzc29uSWQpKTtcbiAgICAgIGlmIChjb3Vyc2VJZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYGNvdXJzZToke2NvdXJzZUlkfTpsYXN0VG91Y2hlZGAsIFN0cmluZyhEYXRlLm5vdygpKSk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbY291cnNlSWQsIGxlc3NvbklkXSk7XG5cbiAgLy8gSGVscGVyIHp1bSBOb3JtYWxpc2llcmVuIHZvbiBBbnR3b3J0ZW4gKGZyw7xoZXIgdm9yaGFuZGVuLCB3aWVkZXJoZXJnZXN0ZWxsdClcbiAgY29uc3Qgbm9ybSA9IChzOiB1bmtub3duKSA9PiAodHlwZW9mIHMgPT09ICdzdHJpbmcnID8gcy50cmltKCkgOiBTdHJpbmcocyA/PyAnJykpO1xuXG4gIGNvbnN0IGhhbmRsZUFuc3dlclNlbGVjdCA9IChhbnN3ZXI6IHN0cmluZykgPT4ge1xuICAgIGlmIChzaG93UmVzdWx0KSByZXR1cm47XG4gICAgaWYgKGxlc3Nvbj8udHlwZSA9PT0gJ211bHRpcGxlLWNob2ljZScpIHtcbiAgICAgIHNldFNlbGVjdGVkQW5zd2VycyhwcmV2ID0+IHByZXYuaW5jbHVkZXMoYW5zd2VyKSA/IHByZXYuZmlsdGVyKGEgPT4gYSAhPT0gYW5zd2VyKSA6IFsuLi5wcmV2LCBhbnN3ZXJdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXIoYW5zd2VyKTtcbiAgICBpZiAoIWxlc3NvbiB8fCAhbGVzc29uLnF1ZXN0aW9ucyB8fCBxdWVzdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IGxlc3Nvbi5xdWVzdGlvbnNbcXVlc3Rpb25RdWV1ZVswXV07XG4gICAgY29uc3QgY29ycmVjdCA9IG5vcm0oYW5zd2VyKSA9PT0gbm9ybShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcik7XG4gICAgc2V0SXNDb3JyZWN0KGNvcnJlY3QpO1xuICAgIHNldFNob3dSZXN1bHQodHJ1ZSk7XG4gICAgaWYgKGNvcnJlY3QgJiYgIW1hc3RlcmVkLmhhcyhxdWVzdGlvblF1ZXVlWzBdKSkge1xuICAgICAgc2V0U2NvcmUocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNoZWNrTXVsdGlwbGUgPSAoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgIWxlc3Nvbi5xdWVzdGlvbnMgfHwgcXVlc3Rpb25RdWV1ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBsZXNzb24ucXVlc3Rpb25zW3F1ZXN0aW9uUXVldWVbMF1dIGFzIFF1ZXN0aW9uO1xuICAgIGNvbnN0IGNvcnJlY3RMaXN0ID0gKEFycmF5LmlzQXJyYXkoY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJzKSAmJiBjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMubGVuZ3RoXG4gICAgICA/IGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vyc1xuICAgICAgOiAoY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXIgPyBbY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJdIDogW10pKS5tYXAobm9ybSk7XG4gICAgY29uc3Qgc2VsTm9ybSA9IHNlbGVjdGVkQW5zd2Vycy5tYXAobm9ybSk7XG4gICAgY29uc3QgaXNTZXRFcXVhbCA9IHNlbE5vcm0ubGVuZ3RoID09PSBjb3JyZWN0TGlzdC5sZW5ndGggJiYgY29ycmVjdExpc3QuZXZlcnkoYSA9PiBzZWxOb3JtLmluY2x1ZGVzKGEpKTtcbiAgICBzZXRJc0NvcnJlY3QoaXNTZXRFcXVhbCk7XG4gICAgc2V0U2hvd1Jlc3VsdCh0cnVlKTtcbiAgICBpZiAoaXNTZXRFcXVhbCAmJiAhbWFzdGVyZWQuaGFzKHF1ZXN0aW9uUXVldWVbMF0pKSB7XG4gICAgICBzZXRTY29yZShwcmV2ID0+IHByZXYgKyAxKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTXVsdGkgVGV4dC1BbnR3b3J0IFN0YXRlc1xuICBjb25zdCBbdGV4dEFuc3dlcklucHV0LCBzZXRUZXh0QW5zd2VySW5wdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbdGV4dEFuc3dlckZlZWRiYWNrLCBzZXRUZXh0QW5zd2VyRmVlZGJhY2tdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VyUXVldWUsIHNldFRleHRBbnN3ZXJRdWV1ZV0gPSB1c2VTdGF0ZTxudW1iZXJbXT4oW10pOyAvLyBJbmRleC1SZWloZW5mb2xnZSBkZXIgbm9jaCBvZmZlbmVuIEJsw7Zja2VcbiAgY29uc3QgW3RleHRBbnN3ZXJTb2x2ZWQsIHNldFRleHRBbnN3ZXJTb2x2ZWRdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VyUmV2ZWFsZWQsIHNldFRleHRBbnN3ZXJSZXZlYWxlZF0gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTsgLy8gR2VzYW10LUZsYWcgKEFuYWx5dGljcylcbiAgY29uc3QgW3RleHRBbnN3ZXJSZXZlYWxSb3VuZCwgc2V0VGV4dEFuc3dlclJldmVhbFJvdW5kXSA9IHVzZVN0YXRlPFJlY29yZDxudW1iZXIsIG51bWJlcj4+KHt9KTsgLy8gaW5kZXggLT4gUnVuZGVcbiAgY29uc3QgW3RleHRBbnN3ZXJSb3VuZCwgc2V0VGV4dEFuc3dlclJvdW5kXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbdGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCwgc2V0VGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdGV4dEFuc3dlckJsb2NrcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghbGVzc29uIHx8IGxlc3Nvbi50eXBlICE9PSAndGV4dC1hbnN3ZXInKSByZXR1cm4gW10gYXMgQXJyYXk8eyBxdWVzdGlvbjogc3RyaW5nOyBhbnN3ZXJzOiBzdHJpbmdbXTsgbWVkaWE/OiBzdHJpbmcgfT47XG4gICAgY29uc3QgYzogYW55ID0gbGVzc29uLmNvbnRlbnQgfHwge307XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYy5ibG9ja3MpKSB7XG4gICAgICByZXR1cm4gYy5ibG9ja3MuZmlsdGVyKChiOiBhbnkpID0+IGIgJiYgdHlwZW9mIGIucXVlc3Rpb24gPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkoYi5hbnN3ZXJzKSAmJiBiLmFuc3dlcnMubGVuZ3RoPjApXG4gICAgICAgIC5tYXAoKGI6IGFueSkgPT4gKHsgcXVlc3Rpb246IFN0cmluZyhiLnF1ZXN0aW9uKSwgYW5zd2VyczogYi5hbnN3ZXJzLm1hcCgoYTogYW55KT0+U3RyaW5nKGEpKS5maWx0ZXIoKGE6c3RyaW5nKT0+YS5sZW5ndGg+MCksIG1lZGlhOiBiLm1lZGlhICYmIFN0cmluZyhiLm1lZGlhKSB9KSk7XG4gICAgfVxuICAgIGlmIChjLnF1ZXN0aW9uICYmIGMuYW5zd2VyKSByZXR1cm4gW3sgcXVlc3Rpb246IFN0cmluZyhjLnF1ZXN0aW9uKSwgYW5zd2VyczogW1N0cmluZyhjLmFuc3dlcildIH1dO1xuICAgIHJldHVybiBbXTtcbiAgfSwgW2xlc3Nvbl0pO1xuICAvLyBJbml0aWFsIFF1ZXVlIHNldHplbiB3ZW5uIEJsb2NrcyBnZWxhZGVuXG4gIHVzZUVmZmVjdCgoKT0+e1xuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICd0ZXh0LWFuc3dlcicpIHtcbiAgc2V0VGV4dEFuc3dlclF1ZXVlKHRleHRBbnN3ZXJCbG9ja3MubWFwKChfOiB1bmtub3duLCBpOiBudW1iZXIpPT5pKSk7XG4gICAgICBzZXRUZXh0QW5zd2VyU29sdmVkKG5ldyBTZXQoKSk7XG4gICAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsZWQobmV3IFNldCgpKTtcbiAgc2V0VGV4dEFuc3dlclJvdW5kKDEpO1xuICBzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmQoe30pO1xuICAgICAgc2V0VGV4dEFuc3dlcklucHV0KCcnKTtcbiAgICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgICB9XG4gIH0sIFtsZXNzb24/Ll9pZCwgbGVzc29uPy50eXBlLCB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aF0pO1xuICBjb25zdCBzdWJtaXRUZXh0QW5zd2VyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghbGVzc29uIHx8IGxlc3Nvbi50eXBlICE9PSAndGV4dC1hbnN3ZXInKSByZXR1cm47XG4gICAgaWYgKCF0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aCB8fCAhdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGM6IGFueSA9IGxlc3Nvbi5jb250ZW50IHx8IHt9O1xuICAgIGNvbnN0IGNhc2VTZW5zaXRpdmU6IGJvb2xlYW4gPSAhIWMuY2FzZVNlbnNpdGl2ZTtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoczogc3RyaW5nKSA9PiBjYXNlU2Vuc2l0aXZlID8gcy50cmltKCkgOiBzLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRleHRBbnN3ZXJRdWV1ZVswXTtcbiAgICBjb25zdCBjdXJyZW50ID0gdGV4dEFuc3dlckJsb2Nrc1tjdXJyZW50SW5kZXhdO1xuICAgIGNvbnN0IHVzZXJOb3JtID0gbm9ybWFsaXplKHRleHRBbnN3ZXJJbnB1dCk7XG4gICAgaWYgKCF1c2VyTm9ybSkgeyBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ0JpdHRlIGV0d2FzIGVpbmdlYmVuLicpOyByZXR1cm47IH1cbiAgICBjb25zdCBjb3JyZWN0Tm9ybXMgPSBjdXJyZW50LmFuc3dlcnMubWFwKChhOiBzdHJpbmcpPT5ub3JtYWxpemUoYSkpO1xuICAgIGlmIChjb3JyZWN0Tm9ybXMuaW5jbHVkZXModXNlck5vcm0pKSB7XG4gICAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ+KchSBLb3JyZWt0IScpO1xuICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICBzZXRUZXh0QW5zd2VyU29sdmVkKHByZXYgPT4gbmV3IFNldChwcmV2KS5hZGQoY3VycmVudEluZGV4KSk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJJbnB1dCgnJyk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgICAgICAgLy8gTsOkY2hzdGUgRnJhZ2VcbiAgICAgICAgc2V0VGV4dEFuc3dlclF1ZXVlKHByZXYgPT4gcHJldi5zbGljZSgxKSk7XG4gICAgICB9LCA0MDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ+KdjCBOaWNodCBrb3JyZWt0LicpO1xuICB9LCBbbGVzc29uLCB0ZXh0QW5zd2VyQmxvY2tzLCB0ZXh0QW5zd2VyUXVldWUsIHRleHRBbnN3ZXJJbnB1dF0pO1xuICBjb25zdCByZXZlYWxDdXJyZW50VGV4dEFuc3dlciA9ICgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBsZXNzb24udHlwZSAhPT0gJ3RleHQtYW5zd2VyJykgcmV0dXJuO1xuICAgIGlmICghdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkeCA9IHRleHRBbnN3ZXJRdWV1ZVswXTtcbiAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsZWQocHJldiA9PiBuZXcgU2V0KHByZXYpLmFkZChpZHgpKTtcbiAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmQocHJldiA9PiAoeyAuLi5wcmV2LCBbaWR4XTogdGV4dEFuc3dlclJvdW5kIH0pKTtcbiAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ/Cfm4ggQW50d29ydCBlaW5nZWJsZW5kZXQuIFNww6R0ZXIgZXJuZXV0IGJlYW50d29ydGVuLicpO1xuICAgIHNldFRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHgoaWR4KTtcbiAgICBzZXRUZXh0QW5zd2VySW5wdXQoJycpO1xuICB9O1xuICBjb25zdCBhZHZhbmNlQWZ0ZXJSZXZlYWwgPSAoKSA9PiB7XG4gICAgaWYgKHRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHggPT0gbnVsbCkgcmV0dXJuO1xuICAgIHNldFRleHRBbnN3ZXJRdWV1ZShwcmV2ID0+IChwcmV2WzBdID09PSB0ZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4ID8gcHJldi5zbGljZSgxKSA6IHByZXYpKTtcbiAgICBzZXRUZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4KG51bGwpO1xuICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgfTtcbiAgLy8gV2VubiBRdWV1ZSBsZWVyIGFiZXIgbm9jaCBuaWNodCBhbGxlIHNvbHZlZCAtPiBuZXVlIFJ1bmRlIG1pdCBudXIgdW5nZWzDtnN0ZW4gKHJldmVhbCBGcmFnZW4pXG4gIHVzZUVmZmVjdCgoKT0+e1xuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICd0ZXh0LWFuc3dlcicgJiYgdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCA9PT0gMCAmJiB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aCkge1xuICAgICAgY29uc3QgdG90YWwgPSB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aDtcbiAgICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsKSB7XG4gICAgICAgIHNldENvbXBsZXRlZCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gIGNvbnN0IHJlbWFpbmluZyA9IHRleHRBbnN3ZXJCbG9ja3MubWFwKChfOiB1bmtub3duLCBpOiBudW1iZXIpPT5pKS5maWx0ZXIoKGk6IG51bWJlcik9PiF0ZXh0QW5zd2VyU29sdmVkLmhhcyhpKSk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJRdWV1ZShyZW1haW5pbmcpO1xuICAgICAgICBzZXRUZXh0QW5zd2VyUm91bmQocj0+cisxKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3RleHRBbnN3ZXJRdWV1ZS5sZW5ndGgsIHRleHRBbnN3ZXJTb2x2ZWQsIHRleHRBbnN3ZXJCbG9ja3MsIGxlc3Nvbl0pO1xuXG4gIC8vIE5FVTogQWJzY2hsdXNzICsgU3Rlcm4gZsO8ciBUZXh0LUFudHdvcnQgTGVrdGlvbmVuIChiaXNoZXIgZmVobHRlIEFQSS1BdWZydWYpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybjtcbiAgICBjb25zdCB0b3RhbCA9IHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoO1xuICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgaWYgKCF1c2VybmFtZSkgcmV0dXJuO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sZXNzb24vY29tcGxldGUnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICAgICAgbGVzc29uSWQ6IGxlc3Nvbi5faWQsXG4gICAgICAgICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICAgICAgICBlYXJuZWRTdGFyOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pLmNhdGNoKCgpPT57fSk7XG4gICAgICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvcHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSwgbGVzc29uSWQ6IGxlc3Nvbi5faWQgfSlcbiAgICAgICAgICB9KS5jYXRjaCgoKT0+e30pO1xuICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZEtleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06Y29tcGxldGVkTGVzc29uc2A7XG4gICAgICAgICAgY29uc3QgaW5Qcm9ncmVzc0tleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06aW5Qcm9ncmVzc0xlc3NvbnNgO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvbXBsZXRlZEtleSkgfHwgJ1tdJyk7XG4gICAgICAgICAgICBpZiAoIXN0b3JlZC5pbmNsdWRlcyhsZXNzb24uX2lkKSkge1xuICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnN0b3JlZCwgbGVzc29uLl9pZF07XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbXBsZXRlZEtleSwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgICAgICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHVwZGF0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5Qcm9nID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpblByb2dyZXNzS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGluUHJvZykgJiYgaW5Qcm9nLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGluUHJvZ3Jlc3NLZXksIEpTT04uc3RyaW5naWZ5KGluUHJvZy5maWx0ZXIoKGlkOiBzdHJpbmcpID0+IGlkICE9PSBsZXNzb24uX2lkKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RleHQtQW50d29ydCBBYnNjaGx1c3MgZmVobGdlc2NobGFnZW4nLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSkoKTtcbiAgICB9XG4gIH0sIFtsZXNzb24sIHRleHRBbnN3ZXJTb2x2ZWQsIHRleHRBbnN3ZXJCbG9ja3MsIGNvbXBsZXRlZExlc3NvbnMsIHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lLCBjb3Vyc2VJZF0pO1xuXG4gIC8vIFdpZWRlcmhlcmdlc3RlbGx0OiBGb3J0c2Nocml0dHNsb2dpayBuYWNoIEJld2VydHVuZ1xuICBjb25zdCBoYW5kbGVOZXh0UXVlc3Rpb24gPSAoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgcXVlc3Rpb25RdWV1ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBjdXJyZW50SWR4ID0gcXVlc3Rpb25RdWV1ZVswXTtcbiAgICBsZXQgbmV3UXVldWUgPSBbLi4ucXVlc3Rpb25RdWV1ZV07XG4gICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgaWYgKCFtYXN0ZXJlZC5oYXMoY3VycmVudElkeCkpIHtcbiAgICAgICAgY29uc3QgbmV3TWFzdGVyZWQgPSBuZXcgU2V0KG1hc3RlcmVkKTtcbiAgICAgICAgbmV3TWFzdGVyZWQuYWRkKGN1cnJlbnRJZHgpO1xuICAgICAgICBzZXRNYXN0ZXJlZChuZXdNYXN0ZXJlZCk7XG4gICAgICB9XG4gICAgICBuZXdRdWV1ZS5zaGlmdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdRdWV1ZSA9IFsuLi5uZXdRdWV1ZS5zbGljZSgxKSwgY3VycmVudElkeF07XG4gICAgfVxuICAgIHNldFF1ZXN0aW9uUXVldWUobmV3UXVldWUpO1xuICAgIHNldFNlbGVjdGVkQW5zd2VyKFwiXCIpO1xuICAgIHNldFNlbGVjdGVkQW5zd2VycyhbXSk7XG4gICAgc2V0U2hvd1Jlc3VsdChmYWxzZSk7XG4gICAgaWYgKG5ld1F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0Q29tcGxldGVkKHRydWUpO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgICAgIHNldE1hcmtpbmcodHJ1ZSk7XG4gICAgICAgICAgYXdhaXQgZmluYWxpemVMZXNzb24oe1xuICAgICAgICAgICAgdXNlcm5hbWUsIC8vIG9wdGlvbmFsIGbDvHIgR8Okc3RlXG4gICAgICAgICAgICBsZXNzb25JZDogbGVzc29uLl9pZCxcbiAgICAgICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgICAgICB0eXBlOiBsZXNzb24udHlwZSxcbiAgICAgICAgICAgIGVhcm5lZFN0YXI6IGxlc3Nvbi50eXBlICE9PSAnbWFya2Rvd24nICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkTGVzc29ucyhwcmV2ID0+IHByZXYuaW5jbHVkZXMobGVzc29uLl9pZCkgPyBwcmV2IDogWy4uLnByZXYsIGxlc3Nvbi5faWRdKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Fic2NobGllw59lbiBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldE1hcmtpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50UXVlc3Rpb25JbmRleChuZXdRdWV1ZVswXSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVJldHJ5ID0gKCkgPT4ge1xuICAgIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4KDApO1xuICAgIHNldFNlbGVjdGVkQW5zd2VyKFwiXCIpO1xuICAgIHNldFNob3dSZXN1bHQoZmFsc2UpO1xuICAgIHNldFNjb3JlKDApO1xuICAgIHNldENvbXBsZXRlZChmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXJzKFtdKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIGVybGVkaWd0ZSBMZWt0aW9uZW4gYXVzIGxvY2FsU3RvcmFnZSBsYWRlblxuICAgIGNvbnN0IGtleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06Y29tcGxldGVkTGVzc29uc2A7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAnW10nKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0b3JlZCkpIHNldENvbXBsZXRlZExlc3NvbnMoc3RvcmVkKTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjb3Vyc2VJZF0pO1xuXG4gIC8vIChFbnRmZXJudCkgZnLDvGhlcmVyIEVmZmVrdCBmw7xyIGdlbmVyaXNjaGVzIFNwZWljaGVybiBiZWkgY29tcGxldGVkIC0+IExvZ2lrIGpldHp0IGluIGZpbmFsaXplTGVzc29uIFN0ZWxsZW4gemVudHJhbGlzaWVydFxuXG4gIC8vIE5ldTogVHlwZW4tRmxhZ3MgdW5kIEFic2NobHVzcy1GdW5rdGlvbiBmw7xyIFlvdVR1YmVcbiAgY29uc3QgaXNNYXJrZG93biA9IGxlc3Nvbj8udHlwZSA9PT0gJ21hcmtkb3duJyAmJiBsZXNzb24uY29udGVudD8ubWFya2Rvd247XG4gIGNvbnN0IGlzVmlkZW8gPSBsZXNzb24/LnR5cGUgPT09ICd2aWRlbyc7XG4gIGNvbnN0IGlzTHVlY2tlbnRleHQgPSBsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCc7XG4gIGNvbnN0IGlzT3JkZXJpbmcgPSBsZXNzb24/LnR5cGUgPT09ICdvcmRlcmluZyc7XG4gIGNvbnN0IGlzU25ha2UgPSBsZXNzb24/LnR5cGUgPT09ICdzbmFrZScgfHwgbGVzc29uPy50eXBlID09PSAnbWluaWdhbWUnO1xuICBjb25zdCBtYXJrVmlkZW9Db21wbGV0ZWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlcm5hbWUgPSBzZXNzaW9uPy51c2VyPy51c2VybmFtZTtcbiAgICBpZiAoIWxlc3NvbikgcmV0dXJuO1xuICAgIGlmIChjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSByZXR1cm47XG4gICAgc2V0TWFya2luZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmluYWxpemVMZXNzb24oe1xuICAgICAgICB1c2VybmFtZSwgLy8gb3B0aW9uYWwgZsO8ciBHw6RzdGVcbiAgICAgICAgbGVzc29uSWQ6IGxlc3Nvbi5faWQsXG4gICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICBlYXJuZWRTdGFyOiBsZXNzb24udHlwZSAhPT0gJ21hcmtkb3duJyAmJiAhY29tcGxldGVkTGVzc29ucy5pbmNsdWRlcyhsZXNzb24uX2lkKVxuICAgICAgfSk7XG4gICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHByZXYgPT4gcHJldi5pbmNsdWRlcyhsZXNzb24uX2lkKSA/IHByZXYgOiBbLi4ucHJldiwgbGVzc29uLl9pZF0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZpZGVvIEFic2NobHVzcyBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRNYXJraW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtzZXNzaW9uPy51c2VyPy51c2VybmFtZSwgbGVzc29uLCBjb21wbGV0ZWRMZXNzb25zLCBjb3Vyc2VJZF0pO1xuXG4gIC8vIEFic2NobHVzcyBUZXh0LUFudHdvcnQgTGVrdGlvbiAoY2VudHJhbGl6ZWQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybjtcbiAgICBjb25zdCB0b3RhbCA9IHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoO1xuICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBmaW5hbGl6ZUxlc3Nvbih7XG4gICAgICAgICAgICB1c2VybmFtZSwgLy8gb3B0aW9uYWwgZsO8ciBHw6RzdGVcbiAgICAgICAgICAgIGxlc3NvbklkOiBsZXNzb24uX2lkLFxuICAgICAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICAgICAgZWFybmVkU3RhcjogbGVzc29uLnR5cGUgIT09ICdtYXJrZG93bicgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZClcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHByZXYgPT4gcHJldi5pbmNsdWRlcyhsZXNzb24uX2lkKSA/IHByZXYgOiBbLi4ucHJldiwgbGVzc29uLl9pZF0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVGV4dC1BbnR3b3J0IEFic2NobHVzcyBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgfSwgW2xlc3NvbiwgdGV4dEFuc3dlclNvbHZlZCwgdGV4dEFuc3dlckJsb2NrcywgY29tcGxldGVkTGVzc29ucywgc2Vzc2lvbj8udXNlcj8udXNlcm5hbWUsIGNvdXJzZUlkXSk7XG5cbiAgLy8gRWFybHkgUmV0dXJucyBqZXR6dCBOQUNIIGFsbGVuIEhvb2tzXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gbXQtMTAgcC02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiBpbmxpbmUtYmxvY2sgdy04IGgtOCBib3JkZXItNCBib3JkZXItY3VycmVudCBib3JkZXItdC10cmFuc3BhcmVudCB0ZXh0LWJsdWUtNjAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1ncmF5LTYwMFwiPkxla3Rpb24gd2lyZCBnZWxhZGVuLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIWxlc3Nvbikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNiBiZy13aGl0ZSByb3VuZGVkIHNoYWRvd1wiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1yZWQtNjAwXCI+TGVrdGlvbiBuaWNodCBnZWZ1bmRlbjwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbXQtMlwiPkRpZSBhbmdlZm9yZGVydGUgTGVrdGlvbiBrb25udGUgbmljaHQgZ2VsYWRlbiB3ZXJkZW4uPC9wPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAva3Vycy8ke2NvdXJzZUlkfWApfSBjbGFzc05hbWU9XCJtdC00IHRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lXCI+4oaQIFp1csO8Y2sgenVtIEt1cnM8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCB0b3RhbFF1ZXN0aW9ucyA9IGxlc3Nvbi5xdWVzdGlvbnM/Lmxlbmd0aCB8fCAwO1xuICBjb25zdCBwcm9ncmVzcyA9IHRvdGFsUXVlc3Rpb25zID4gMCA/IChtYXN0ZXJlZC5zaXplIC8gdG90YWxRdWVzdGlvbnMpICogMTAwIDogMDtcbiAgY29uc3QgY3VycmVudFF1ZXN0aW9uID0gbGVzc29uLnF1ZXN0aW9ucyAmJiBxdWVzdGlvblF1ZXVlLmxlbmd0aCA+IDAgPyBsZXNzb24ucXVlc3Rpb25zW3F1ZXN0aW9uUXVldWVbMF1dIDogdW5kZWZpbmVkO1xuXG4gIC8vIFZvcmJlcmVjaG5ldGUga29ycmVrdGUgQW50d29ydGVuIChub3JtYWxpc2llcnQpIGbDvHIgQW56ZWlnZS9DaGVja3NcbiAgY29uc3QgY29ycmVjdExpc3ROb3JtYWxpemVkID0gKGN1cnJlbnRRdWVzdGlvbiAmJiAoQXJyYXkuaXNBcnJheShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMpICYmIGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vycy5sZW5ndGhcbiAgICA/IGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vyc1xuICAgIDogKGN1cnJlbnRRdWVzdGlvbj8uY29ycmVjdEFuc3dlciA/IFtjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcl0gOiBbXSkpLm1hcChub3JtKSkgfHwgW107XG5cbiAgLy8gU25ha2UgZnLDvGhlIFLDvGNrZ2FiZVxuICAvLyBMb2NrLVJlZGlyZWN0IGJlaSBsaW5lYXJlciBQcm9ncmVzc2lvbjogd2VubiB2b3JoZXJpZ2UgTGVrdGlvbiBuaWNodCBhYmdlc2NobG9zc2VuXG4gIGlmIChsZXNzb24gJiYgcHJvZ3Jlc3Npb25Nb2RlID09PSAnbGluZWFyJykge1xuICAgIGNvbnN0IGluZGV4ID0gYWxsTGVzc29ucy5maW5kSW5kZXgobCA9PiAobCBhcyBhbnkpLl9pZCA9PT0gbGVzc29uLl9pZCB8fCAobCBhcyBhbnkpLmlkID09PSBsZXNzb24uX2lkKTtcbiAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBwcmV2ID0gYWxsTGVzc29uc1tpbmRleCAtIDFdO1xuICAgICAgY29uc3QgcHJldklkID0gKHByZXYgYXMgYW55KS5faWQgfHwgKHByZXYgYXMgYW55KS5pZDtcbiAgICAgIGlmIChwcmV2SWQgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMocHJldklkKSkge1xuICAgICAgICAvLyByZWRpcmVjdCB6dXLDvGNrIGF1ZiBLdXJzc2VpdGVcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcm91dGVyLnJlcGxhY2UoYC9rdXJzLyR7Y291cnNlSWR9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobGVzc29uICYmIGlzU25ha2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBtdC0xMCBwLTZcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2t1cnMvJHtjb3Vyc2VJZH1gKX0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUgbWItNFwiPuKGkCBadXLDvGNrIHp1bSBLdXJzPC9idXR0b24+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNlwiPntsZXNzb24udGl0bGV9PC9oMT5cbiAgICAgICAgPFNuYWtlR2FtZSBsZXNzb249e2xlc3Nvbn0gY291cnNlSWQ9e2NvdXJzZUlkfSBjb21wbGV0ZWRMZXNzb25zPXtjb21wbGV0ZWRMZXNzb25zfSBzZXRDb21wbGV0ZWRMZXNzb25zPXtzZXRDb21wbGV0ZWRMZXNzb25zfSAvPlxuICA8TGVzc29uRm9vdGVyTmF2aWdhdGlvbiBhbGxMZXNzb25zPXthbGxMZXNzb25zfSBjdXJyZW50TGVzc29uSWQ9e2xlc3NvbklkfSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHByb2dyZXNzaW9uTW9kZT17cHJvZ3Jlc3Npb25Nb2RlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFJlbmRlciBmw7xyIE1hcmtkb3duLUxla3Rpb25cbiAgaWYgKGlzTWFya2Rvd24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBtdC0xMCBwLTZcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2t1cnMvJHtjb3Vyc2VJZH1gKX0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUgbWItNFwiPuKGkCBadXLDvGNrIHp1bSBLdXJzPC9idXR0b24+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNlwiPntsZXNzb24udGl0bGV9PC9oMT5cbiAgICAgICAgPE1hcmtkb3duTGVzc29uIGxlc3Nvbj17bGVzc29ufSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHNldENvbXBsZXRlZExlc3NvbnM9e3NldENvbXBsZXRlZExlc3NvbnN9IHNlc3Npb25Vc2VybmFtZT17c2Vzc2lvbj8udXNlcj8udXNlcm5hbWV9IC8+XG4gIDxMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIGFsbExlc3NvbnM9e2FsbExlc3NvbnN9IGN1cnJlbnRMZXNzb25JZD17bGVzc29uSWR9IGNvdXJzZUlkPXtjb3Vyc2VJZH0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gcHJvZ3Jlc3Npb25Nb2RlPXtwcm9ncmVzc2lvbk1vZGV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgaXNNdWx0aXBsZSA9IGxlc3Nvbi50eXBlID09PSAnbXVsdGlwbGUtY2hvaWNlJztcbiAgY29uc3QgaXNNYXRjaGluZyA9IGxlc3Nvbi50eXBlID09PSAnbWF0Y2hpbmcnO1xuICBjb25zdCBoYXNNZW1vcnlQYWlycyA9ICEhKGxlc3Nvbi5jb250ZW50ICYmIChsZXNzb24uY29udGVudCBhcyBhbnkpLnBhaXJzICYmIEFycmF5LmlzQXJyYXkoKGxlc3Nvbi5jb250ZW50IGFzIGFueSkucGFpcnMpKTtcbiAgY29uc3QgZWZmZWN0aXZlVHlwZSA9IGxlc3Nvbi50eXBlID09PSAnbWVtb3J5JyB8fCAobGVzc29uLnR5cGUgPT09ICdtYXRjaGluZycgJiYgaGFzTWVtb3J5UGFpcnMpID8gJ21lbW9yeScgOiBsZXNzb24udHlwZTtcbiAgY29uc3QgaXNNZW1vcnkgPSBlZmZlY3RpdmVUeXBlID09PSAnbWVtb3J5JztcblxuICByZXR1cm4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9rdXJzLyR7Y291cnNlSWR9YCl9IGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIG1iLTRcIj7ihpAgWnVyw7xjayB6dW0gS3VyczwvYnV0dG9uPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTJcIj57bGVzc29uLnRpdGxlfTwvaDE+XG4gIHshaXNWaWRlbyAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBoLTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBoLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiIHN0eWxlPXt7IHdpZHRoOiBgJHtwcm9ncmVzc30lYCB9fSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMVwiPkZvcnRzY2hyaXR0OiB7bWFzdGVyZWQuc2l6ZX0gLyB7dG90YWxRdWVzdGlvbnN9IGdlbWVpc3RlcnQ8L3A+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC04XCI+XG4gICAgICAgIHtpc1ZpZGVvID8gKFxuICAgICAgICAgIDxZb3VUdWJlTGVzc29uIGxlc3Nvbj17bGVzc29ufSBvbkNvbXBsZXRlZD17bWFya1ZpZGVvQ29tcGxldGVkfSAvPlxuICAgICAgICApIDogZWZmZWN0aXZlVHlwZSA9PT0gJ21lbW9yeScgPyAoXG4gICAgICAgICAgPE1lbW9yeUdhbWUgbGVzc29uPXt7IC4uLmxlc3NvbiwgdHlwZTogJ21lbW9yeScgfX0gb25Db21wbGV0ZWQ9eygpID0+IHsgc2V0SXNDb3JyZWN0KHRydWUpOyBzZXRTaG93UmVzdWx0KHRydWUpOyBzZXRDb21wbGV0ZWQodHJ1ZSk7IH19IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IC8+XG4gICAgICAgICkgOiBjdXJyZW50UXVlc3Rpb24gPyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNlwiPntjdXJyZW50UXVlc3Rpb24ucXVlc3Rpb259PC9oMj5cbiAgICAgICAgICAgIHsvKiBNZWRpYSAqL31cbiAgICAgICAgICAgIHshaXNNYXRjaGluZyAmJiBjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IHAtNCBiZy1ncmF5LTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICB7Y3VycmVudFF1ZXN0aW9uLm1lZGlhTGluay5tYXRjaCgvXFwuKGpwZ3xqcGVnfHBuZ3xnaWZ8d2VicCkkL2kpID8gKFxuICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnRcbiAgICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICAgIHNyYz17Y3VycmVudFF1ZXN0aW9uLm1lZGlhTGlua30gXG4gICAgICAgICAgICAgICAgICAgIGFsdD1cIkZyYWdlIEJpbGRcIiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWF4LXctZnVsbCBtYXgtaC02NCBvYmplY3QtY29udGFpbiBteC1hdXRvIGJvcmRlciByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSA6IGN1cnJlbnRRdWVzdGlvbi5tZWRpYUxpbmsubWF0Y2goL1xcLihtcDN8d2F2fG9nZ3xtNGEpJC9pKSA/IChcbiAgICAgICAgICAgICAgICAgIDxhdWRpbyBjb250cm9scyBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctbWQgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17Y3VycmVudFF1ZXN0aW9uLm1lZGlhTGlua30gLz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIHRleHQtc21cIj5BdWRpbyB3aXJkIHZvbSBCcm93c2VyIG5pY2h0IHVudGVyc3TDvHR6dDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvYXVkaW8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxhIFxuICAgICAgICAgICAgICAgICAgICBocmVmPXtjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rfSBcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCIgXG4gICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBicmVhay1hbGxcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDwn5OOIHtjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rfVxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIE1hdGNoaW5nIFVJICovfVxuICAgICAgICAgICAge2lzTWF0Y2hpbmcgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPE1hdGNoaW5nVUlcbiAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uPXtjdXJyZW50UXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICBvblNvbHZlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0NvcnJlY3QodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge3Nob3dSZXN1bHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtdC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlTmV4dFF1ZXN0aW9ufSBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSBweC01IHB5LTIgcm91bmRlZCBob3ZlcjpiZy1ncmVlbi03MDBcIj5XZWl0ZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyZWVuLTcwMFwiPkFsbGUgUGFhcmUga29ycmVrdCB2ZXJidW5kZW4hPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBtYi02XCI+XG4gICAgICAgICAgICAgICAge2lzTXVsdGlwbGUgPyAoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UXVlc3Rpb24uYWxsQW5zd2Vycy5tYXAoKGFuc3dlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkQW5zd2Vycy5pbmNsdWRlcyhhbnN3ZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NvcnJlY3RBbnMgPSBjb3JyZWN0TGlzdE5vcm1hbGl6ZWQuaW5jbHVkZXMobm9ybShhbnN3ZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ1dHRvbkNsYXNzID0gXCJ3LWZ1bGwgcC00IHRleHQtbGVmdCBib3JkZXItMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvcnJlY3RBbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzICs9IFwiYm9yZGVyLWdyZWVuLTUwMCBiZy1ncmVlbi01MCB0ZXh0LWdyZWVuLTgwMFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTZWxlY3RlZCAmJiAhaXNDb3JyZWN0QW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1yZWQtNTAwIGJnLXJlZC01MCB0ZXh0LXJlZC04MDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3MgKz0gXCJib3JkZXItZ3JheS0yMDAgYmctZ3JheS01MCB0ZXh0LWdyYXktNjAwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwIHRleHQtYmx1ZS04MDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3MgKz0gXCJib3JkZXItZ3JheS0yMDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwIGhvdmVyOmJnLWdyYXktNTBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQW5zd2VyU2VsZWN0KGFuc3dlcil9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2hvd1Jlc3VsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YnV0dG9uQ2xhc3N9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpbmRleCl9KSB7YW5zd2VyfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgY3VycmVudFF1ZXN0aW9uLmFsbEFuc3dlcnMubWFwKChhbnN3ZXIsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFuc3dlclNlbGVjdChhbnN3ZXIpfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzaG93UmVzdWx0fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwLTQgdGV4dC1sZWZ0IGJvcmRlci0yIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQW5zd2VyID09PSBhbnN3ZXIgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgdGV4dC1ibHVlLTgwMCcgOiAnYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTUwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpbmRleCl9KSB7YW5zd2VyfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogQ29udHJvbHMgKi99XG4gICAgICAgICAgICB7IWlzTWF0Y2hpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG10LTRcIj5cbiAgICAgICAgICAgICAgICB7aXNNdWx0aXBsZSAmJiAhc2hvd1Jlc3VsdCA/IChcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2hlY2tNdWx0aXBsZX0gY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweC01IHB5LTIgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTcwMFwiPkFudHdvcnQgcHLDvGZlbjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICBzaG93UmVzdWx0ID8gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZU5leHRRdWVzdGlvbn0gY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcHgtNSBweS0yIHJvdW5kZWQgaG92ZXI6YmctZ3JlZW4tNzAwXCI+V2VpdGVyPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApIDogbnVsbFxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge3Nob3dSZXN1bHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LW1lZGl1bSAke2lzQ29ycmVjdCA/ICd0ZXh0LWdyZWVuLTcwMCcgOiAndGV4dC1yZWQtNzAwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAge2lzQ29ycmVjdCA/ICdSaWNodGlnIScgOiAnTGVpZGVyIGZhbHNjaC4nfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8cD5LZWluZSBGcmFnZSB2b3JoYW5kZW4uPC9wPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBGb290ZXIgTmF2aWdhdGlvbiAqL31cbiAgPExlc3NvbkZvb3Rlck5hdmlnYXRpb24gYWxsTGVzc29ucz17YWxsTGVzc29uc30gY3VycmVudExlc3NvbklkPXtsZXNzb25JZH0gY291cnNlSWQ9e2NvdXJzZUlkfSBjb21wbGV0ZWRMZXNzb25zPXtjb21wbGV0ZWRMZXNzb25zfSBwcm9ncmVzc2lvbk1vZGU9e3Byb2dyZXNzaW9uTW9kZX0gLz5cbiAgICAgIHtpc01lbW9yeSAmJiBjb21wbGV0ZWQgJiYgPGRpdiBjbGFzc05hbWU9XCJtdC02IHRleHQtZ3JlZW4tNzAwIGZvbnQtbWVkaXVtXCI+4pyU77iPIE1lbW9yeSBhYmdlc2NobG9zc2VuITwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gQ2xpZW50LUtvbXBvbmVudGUgZsO8ciBNYXJrZG93biBSZW5kZXJpbmdcbi8vIE1hdGNoaW5nVUkgamV0enQgYXVzZ2VsYWdlcnRcblxuLy8gT3JkZXJpbmdQbGF5ZXIgdW5kIEx1ZWNrZW50ZXh0UGxheWVyIGF1c2dlbGFnZXJ0XG4iXSwibmFtZXMiOlsidXNlUGFyYW1zIiwidXNlUm91dGVyIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJ1c2VTZXNzaW9uIiwiTWFya2Rvd25MZXNzb24iLCJZb3VUdWJlTGVzc29uIiwiTWVtb3J5R2FtZSIsIk1hdGNoaW5nVUkiLCJMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIiwiU25ha2VHYW1lIiwiZmluYWxpemVMZXNzb24iLCJMZXNzb25QYWdlIiwibGVzc29uIiwic2Vzc2lvbiIsInBhcmFtcyIsInJvdXRlciIsImNvdXJzZUlkIiwibGVzc29uSWQiLCJkYXRhIiwic2V0TGVzc29uIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRDdXJyZW50UXVlc3Rpb25JbmRleCIsInF1ZXN0aW9uUXVldWUiLCJzZXRRdWVzdGlvblF1ZXVlIiwibWFzdGVyZWQiLCJzZXRNYXN0ZXJlZCIsIlNldCIsIm1hcmtpbmciLCJzZXRNYXJraW5nIiwic2VsZWN0ZWRBbnN3ZXIiLCJzZXRTZWxlY3RlZEFuc3dlciIsInNlbGVjdGVkQW5zd2VycyIsInNldFNlbGVjdGVkQW5zd2VycyIsInNob3dSZXN1bHQiLCJzZXRTaG93UmVzdWx0IiwiaXNDb3JyZWN0Iiwic2V0SXNDb3JyZWN0Iiwic2NvcmUiLCJzZXRTY29yZSIsImNvbXBsZXRlZCIsInNldENvbXBsZXRlZCIsImFsbExlc3NvbnMiLCJzZXRBbGxMZXNzb25zIiwicHJvZ3Jlc3Npb25Nb2RlIiwic2V0UHJvZ3Jlc3Npb25Nb2RlIiwiY29tcGxldGVkTGVzc29ucyIsInNldENvbXBsZXRlZExlc3NvbnMiLCJsdEFuc3dlcnNTdGF0ZSIsInNldEx0QW5zd2Vyc1N0YXRlIiwibHRDaGVja2VkIiwic2V0THRDaGVja2VkIiwibHRDb3JyZWN0QWxsIiwic2V0THRDb3JyZWN0QWxsIiwibHRVc2VkQW5zd2VycyIsInNldEx0VXNlZEFuc3dlcnMiLCJsdEZvY3VzR2FwIiwic2V0THRGb2N1c0dhcCIsImx0TWFza2VkIiwidHlwZSIsIlN0cmluZyIsImNvbnRlbnQiLCJtYXJrZG93bk1hc2tlZCIsImx0R2FwcyIsIkFycmF5IiwiaXNBcnJheSIsImdhcHMiLCJtYXAiLCJnIiwiaWQiLCJhbnN3ZXIiLCJsdE1vZGUiLCJtb2RlIiwibHRQYXJ0cyIsInNwbGl0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImx0QmFuayIsInNodWZmbGUiLCJhcnIiLCJ2IiwiTWF0aCIsInJhbmRvbSIsInNvcnQiLCJhIiwiYiIsIl9pZCIsImxvYWRMZXNzb24iLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJwYXlsb2FkIiwianNvbiIsImxlc3NvbkFycmF5IiwibGVzc29ucyIsImNvdXJzZSIsImZvdW5kTGVzc29uIiwiZmluZCIsImwiLCJsciIsImxkIiwidG90YWwiLCJxdWVzdGlvbnMiLCJsZW5ndGgiLCJmcm9tIiwiXyIsImkiLCJjb21wbGV0ZWRLZXkiLCJpblByb2dyZXNzS2V5IiwiY29tcGxldGVkU3RvcmVkIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImZvdW5kSWQiLCJpbmNsdWRlcyIsImluUHJvZyIsInVwZGF0ZWQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZXJyb3IiLCJjb25zb2xlIiwiRGF0ZSIsIm5vdyIsIm5vcm0iLCJzIiwidHJpbSIsImhhbmRsZUFuc3dlclNlbGVjdCIsInByZXYiLCJjdXJyZW50UXVlc3Rpb24iLCJjb3JyZWN0IiwiY29ycmVjdEFuc3dlciIsImhhcyIsImhhbmRsZUNoZWNrTXVsdGlwbGUiLCJjb3JyZWN0TGlzdCIsImNvcnJlY3RBbnN3ZXJzIiwic2VsTm9ybSIsImlzU2V0RXF1YWwiLCJldmVyeSIsInRleHRBbnN3ZXJJbnB1dCIsInNldFRleHRBbnN3ZXJJbnB1dCIsInRleHRBbnN3ZXJGZWVkYmFjayIsInNldFRleHRBbnN3ZXJGZWVkYmFjayIsInRleHRBbnN3ZXJRdWV1ZSIsInNldFRleHRBbnN3ZXJRdWV1ZSIsInRleHRBbnN3ZXJTb2x2ZWQiLCJzZXRUZXh0QW5zd2VyU29sdmVkIiwidGV4dEFuc3dlclJldmVhbGVkIiwic2V0VGV4dEFuc3dlclJldmVhbGVkIiwidGV4dEFuc3dlclJldmVhbFJvdW5kIiwic2V0VGV4dEFuc3dlclJldmVhbFJvdW5kIiwidGV4dEFuc3dlclJvdW5kIiwic2V0VGV4dEFuc3dlclJvdW5kIiwidGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCIsInNldFRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHgiLCJ0ZXh0QW5zd2VyQmxvY2tzIiwiYyIsImJsb2NrcyIsInF1ZXN0aW9uIiwiYW5zd2VycyIsIm1lZGlhIiwic3VibWl0VGV4dEFuc3dlciIsImNhc2VTZW5zaXRpdmUiLCJub3JtYWxpemUiLCJ0b0xvd2VyQ2FzZSIsImN1cnJlbnRJbmRleCIsImN1cnJlbnQiLCJ1c2VyTm9ybSIsImNvcnJlY3ROb3JtcyIsInNldFRpbWVvdXQiLCJhZGQiLCJzbGljZSIsInJldmVhbEN1cnJlbnRUZXh0QW5zd2VyIiwiaWR4IiwiYWR2YW5jZUFmdGVyUmV2ZWFsIiwic2l6ZSIsInJlbWFpbmluZyIsInIiLCJ1c2VybmFtZSIsInVzZXIiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsImVhcm5lZFN0YXIiLCJjYXRjaCIsInN0b3JlZCIsImUiLCJoYW5kbGVOZXh0UXVlc3Rpb24iLCJjdXJyZW50SWR4IiwibmV3UXVldWUiLCJuZXdNYXN0ZXJlZCIsInNoaWZ0IiwiaGFuZGxlUmV0cnkiLCJrZXkiLCJpc01hcmtkb3duIiwibWFya2Rvd24iLCJpc1ZpZGVvIiwiaXNMdWVja2VudGV4dCIsImlzT3JkZXJpbmciLCJpc1NuYWtlIiwibWFya1ZpZGVvQ29tcGxldGVkIiwiZGl2IiwiY2xhc3NOYW1lIiwicCIsImgyIiwiYnV0dG9uIiwib25DbGljayIsInB1c2giLCJ0b3RhbFF1ZXN0aW9ucyIsInByb2dyZXNzIiwidW5kZWZpbmVkIiwiY29ycmVjdExpc3ROb3JtYWxpemVkIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJwcmV2SWQiLCJyZXBsYWNlIiwiaDEiLCJ0aXRsZSIsImN1cnJlbnRMZXNzb25JZCIsInNlc3Npb25Vc2VybmFtZSIsImlzTXVsdGlwbGUiLCJpc01hdGNoaW5nIiwiaGFzTWVtb3J5UGFpcnMiLCJwYWlycyIsImVmZmVjdGl2ZVR5cGUiLCJpc01lbW9yeSIsInN0eWxlIiwid2lkdGgiLCJvbkNvbXBsZXRlZCIsIm1lZGlhTGluayIsIm1hdGNoIiwiaW1nIiwic3JjIiwiYWx0IiwiYXVkaW8iLCJjb250cm9scyIsInNvdXJjZSIsImhyZWYiLCJ0YXJnZXQiLCJyZWwiLCJvblNvbHZlZCIsInNwYW4iLCJhbGxBbnN3ZXJzIiwiaXNTZWxlY3RlZCIsImlzQ29ycmVjdEFucyIsImJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJmcm9tQ2hhckNvZGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx\n"));

/***/ })

});