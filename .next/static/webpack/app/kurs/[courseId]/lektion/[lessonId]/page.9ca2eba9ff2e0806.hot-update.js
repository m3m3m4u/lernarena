"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/kurs/[courseId]/lektion/[lessonId]/page",{

/***/ "(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx":
/*!*************************************************************!*\
  !*** ./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LessonPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!react */ \"(app-pages-browser)/__barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../components/lessonTypes */ \"(app-pages-browser)/./src/components/lessonTypes/index.ts\");\n/* harmony import */ var _lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../lib/lessonCompletion */ \"(app-pages-browser)/./src/lib/lessonCompletion.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n// Ausgelagerte Lektionstyp-Komponenten (schrittweises Refactoring)\n\n\nfunction LessonPage() {\n    var _lesson_content, _session_user, _lesson_content1, _session_user1, _session_user2, _lesson_questions;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const courseId = params.courseId;\n    const lessonId = params.lessonId;\n    const { data: session } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession)();\n    const [lesson, setLesson] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [loading, setLoading] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [, setCurrentQuestionIndex] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0); // DEPRECATED (für alte Logik)\n    const [questionQueue, setQuestionQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Reihenfolge offener Fragen\n    const [mastered, setMastered] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // korrekt beantwortete Fragen\n    const [marking, setMarking] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false); // Server-Update Status\n    const [selectedAnswer, setSelectedAnswer] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Neu: Auswahl für Multiple-Choice\n    const [selectedAnswers, setSelectedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [showResult, setShowResult] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isCorrect, setIsCorrect] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [score, setScore] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [completed, setCompleted] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [allLessons, setAllLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // für Footer-Navigation\n    const [progressionMode, setProgressionMode] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('free');\n    const [completedLessons, setCompletedLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // erledigte Lektionen\n    // Lückentext States (immer aufrufen, nicht konditional)\n    const [ltAnswersState, setLtAnswersState] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [ltChecked, setLtChecked] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltCorrectAll, setLtCorrectAll] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltUsedAnswers, setLtUsedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [ltFocusGap, setLtFocusGap] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Lückentext derived Daten (immer Hooks gleich halten)\n    const ltMasked = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltMasked]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? String((lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.markdownMasked) || '') : '';\n        }\n    }[\"LessonPage.useMemo[ltMasked]\"], [\n        lesson\n    ]);\n    const ltGaps = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltGaps]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? Array.isArray(lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.gaps) ? (lesson === null || lesson === void 0 ? void 0 : lesson.content).gaps.map({\n                \"LessonPage.useMemo[ltGaps]\": (g)=>({\n                        id: g.id,\n                        answer: String(g.answer)\n                    })\n            }[\"LessonPage.useMemo[ltGaps]\"]) : [] : [];\n        }\n    }[\"LessonPage.useMemo[ltGaps]\"], [\n        lesson\n    ]);\n    const ltMode = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' && (lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.mode) === 'drag' ? 'drag' : 'input';\n    const ltParts = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltParts]\": ()=>ltMasked ? ltMasked.split(/(___\\d+___)/g).filter(Boolean) : []\n    }[\"LessonPage.useMemo[ltParts]\"], [\n        ltMasked\n    ]);\n    const ltBank = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltBank]\": ()=>{\n            if (ltMode !== 'drag') return [];\n            const shuffle = {\n                \"LessonPage.useMemo[ltBank].shuffle\": (arr)=>arr.map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (v)=>[\n                                Math.random(),\n                                v\n                            ]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).sort({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (a, b)=>a[0] - b[0]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (param)=>{\n                            let [, v] = param;\n                            return v;\n                        }\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"])\n            }[\"LessonPage.useMemo[ltBank].shuffle\"];\n            return shuffle(ltGaps.map({\n                \"LessonPage.useMemo[ltBank]\": (g)=>g.answer\n            }[\"LessonPage.useMemo[ltBank]\"]));\n        }\n    }[\"LessonPage.useMemo[ltBank]\"], [\n        ltMode,\n        ltGaps\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // Reset bei Lektionstyp-Wechsel\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext') {\n                setLtAnswersState({});\n                setLtChecked(false);\n                setLtCorrectAll(false);\n                setLtUsedAnswers([]);\n                setLtFocusGap(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type\n    ]);\n    const loadLesson = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[loadLesson]\": async ()=>{\n            try {\n                const response = await fetch(\"/api/kurs/\".concat(courseId, \"/lektionen\"));\n                if (response.ok) {\n                    const payload = await response.json();\n                    const lessonArray = Array.isArray(payload) ? payload : payload.lessons || [];\n                    setAllLessons(lessonArray);\n                    // progressionMode vom Kurs laden (jetzt meist in der Antwort enthalten)\n                    if (payload.course && payload.course.progressionMode) {\n                        setProgressionMode(payload.course.progressionMode === 'linear' ? 'linear' : 'free');\n                    } else {\n                        setProgressionMode('free');\n                    }\n                    const foundLesson = lessonArray.find({\n                        \"LessonPage.useCallback[loadLesson].foundLesson\": (l)=>l._id === lessonId || l.id === lessonId\n                    }[\"LessonPage.useCallback[loadLesson].foundLesson\"]);\n                    if (foundLesson) setLesson(foundLesson);\n                    if (foundLesson) {\n                        var _foundLesson_questions;\n                        // Initial Queue setzen\n                        const total = ((_foundLesson_questions = foundLesson.questions) === null || _foundLesson_questions === void 0 ? void 0 : _foundLesson_questions.length) || 0;\n                        setQuestionQueue(Array.from({\n                            length: total\n                        }, {\n                            \"LessonPage.useCallback[loadLesson]\": (_, i)=>i\n                        }[\"LessonPage.useCallback[loadLesson]\"]));\n                        setMastered(new Set());\n                        setScore(0);\n                        setCompleted(false);\n                        setCurrentQuestionIndex(0); // legacy\n                        // In-Progress markieren falls noch nicht abgeschlossen\n                        try {\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            const completedStored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                            const foundId = foundLesson._id || foundLesson.id;\n                            if (foundId && !completedStored.includes(foundId)) {\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (!inProg.includes(foundId)) {\n                                    const updated = [\n                                        ...inProg,\n                                        foundId\n                                    ];\n                                    localStorage.setItem(inProgressKey, JSON.stringify(updated));\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                }\n                setLoading(false);\n            } catch (error) {\n                console.error('Fehler beim Laden der Lektion:', error);\n                setLoading(false);\n            }\n        }\n    }[\"LessonPage.useCallback[loadLesson]\"], [\n        courseId,\n        lessonId\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            loadLesson();\n        }\n    }[\"LessonPage.useEffect\"], [\n        loadLesson\n    ]);\n    // Zuletzt weitergemacht (für Dashboard): beim Öffnen merken\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            try {\n                if (courseId) localStorage.setItem('last:courseId', String(courseId));\n                if (lessonId) localStorage.setItem('last:lessonId', String(lessonId));\n                if (courseId) localStorage.setItem(\"course:\".concat(courseId, \":lastTouched\"), String(Date.now()));\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId,\n        lessonId\n    ]);\n    // Helper zum Normalisieren von Antworten (früher vorhanden, wiederhergestellt)\n    const norm = (s)=>typeof s === 'string' ? s.trim() : String(s !== null && s !== void 0 ? s : '');\n    const handleAnswerSelect = (answer)=>{\n        if (showResult) return;\n        if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'multiple-choice') {\n            setSelectedAnswers((prev)=>prev.includes(answer) ? prev.filter((a)=>a !== answer) : [\n                    ...prev,\n                    answer\n                ]);\n            return;\n        }\n        setSelectedAnswer(answer);\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correct = norm(answer) === norm(currentQuestion.correctAnswer);\n        setIsCorrect(correct);\n        setShowResult(true);\n        if (correct && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    const handleCheckMultiple = ()=>{\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correctList = (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : currentQuestion.correctAnswer ? [\n            currentQuestion.correctAnswer\n        ] : []).map(norm);\n        const selNorm = selectedAnswers.map(norm);\n        const isSetEqual = selNorm.length === correctList.length && correctList.every((a)=>selNorm.includes(a));\n        setIsCorrect(isSetEqual);\n        setShowResult(true);\n        if (isSetEqual && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    // Multi Text-Antwort States\n    const [textAnswerInput, setTextAnswerInput] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [textAnswerFeedback, setTextAnswerFeedback] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [textAnswerQueue, setTextAnswerQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Index-Reihenfolge der noch offenen Blöcke\n    const [textAnswerSolved, setTextAnswerSolved] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n    const [textAnswerRevealed, setTextAnswerRevealed] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // Gesamt-Flag (Analytics)\n    const [textAnswerRevealRound, setTextAnswerRevealRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({}); // index -> Runde\n    const [textAnswerRound, setTextAnswerRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    const [textAnswerJustRevealedIdx, setTextAnswerJustRevealedIdx] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const textAnswerBlocks = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[textAnswerBlocks]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return [];\n            const c = lesson.content || {};\n            if (Array.isArray(c.blocks)) {\n                return c.blocks.filter({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>b && typeof b.question === 'string' && Array.isArray(b.answers) && b.answers.length > 0\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]).map({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>({\n                            question: String(b.question),\n                            answers: b.answers.map({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>String(a)\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]).filter({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>a.length > 0\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]),\n                            media: b.media && String(b.media)\n                        })\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]);\n            }\n            if (c.question && c.answer) return [\n                {\n                    question: String(c.question),\n                    answers: [\n                        String(c.answer)\n                    ]\n                }\n            ];\n            return [];\n        }\n    }[\"LessonPage.useMemo[textAnswerBlocks]\"], [\n        lesson\n    ]);\n    // Initial Queue setzen wenn Blocks geladen\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer') {\n                setTextAnswerQueue(textAnswerBlocks.map({\n                    \"LessonPage.useEffect\": (_, i)=>i\n                }[\"LessonPage.useEffect\"]));\n                setTextAnswerSolved(new Set());\n                setTextAnswerRevealed(new Set());\n                setTextAnswerRound(1);\n                setTextAnswerRevealRound({});\n                setTextAnswerInput('');\n                setTextAnswerFeedback(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type,\n        textAnswerBlocks.length\n    ]);\n    const submitTextAnswer = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            if (!textAnswerBlocks.length || !textAnswerQueue.length) return;\n            const c = lesson.content || {};\n            const caseSensitive = !!c.caseSensitive;\n            const normalize = {\n                \"LessonPage.useCallback[submitTextAnswer].normalize\": (s)=>caseSensitive ? s.trim() : s.trim().toLowerCase()\n            }[\"LessonPage.useCallback[submitTextAnswer].normalize\"];\n            const currentIndex = textAnswerQueue[0];\n            const current = textAnswerBlocks[currentIndex];\n            const userNorm = normalize(textAnswerInput);\n            if (!userNorm) {\n                setTextAnswerFeedback('Bitte etwas eingeben.');\n                return;\n            }\n            const correctNorms = current.answers.map({\n                \"LessonPage.useCallback[submitTextAnswer].correctNorms\": (a)=>normalize(a)\n            }[\"LessonPage.useCallback[submitTextAnswer].correctNorms\"]);\n            if (correctNorms.includes(userNorm)) {\n                setTextAnswerFeedback('✅ Korrekt!');\n                setTimeout({\n                    \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n                        setTextAnswerSolved({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>new Set(prev).add(currentIndex)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                        setTextAnswerInput('');\n                        setTextAnswerFeedback(null);\n                        // Nächste Frage\n                        setTextAnswerQueue({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>prev.slice(1)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                    }\n                }[\"LessonPage.useCallback[submitTextAnswer]\"], 400);\n                return;\n            }\n            setTextAnswerFeedback('❌ Nicht korrekt.');\n        }\n    }[\"LessonPage.useCallback[submitTextAnswer]\"], [\n        lesson,\n        textAnswerBlocks,\n        textAnswerQueue,\n        textAnswerInput\n    ]);\n    const revealCurrentTextAnswer = ()=>{\n        if (!lesson || lesson.type !== 'text-answer') return;\n        if (!textAnswerQueue.length) return;\n        const idx = textAnswerQueue[0];\n        setTextAnswerRevealed((prev)=>new Set(prev).add(idx));\n        setTextAnswerRevealRound((prev)=>({\n                ...prev,\n                [idx]: textAnswerRound\n            }));\n        setTextAnswerFeedback('🛈 Antwort eingeblendet. Später erneut beantworten.');\n        setTextAnswerJustRevealedIdx(idx);\n        setTextAnswerInput('');\n    };\n    const advanceAfterReveal = ()=>{\n        if (textAnswerJustRevealedIdx == null) return;\n        setTextAnswerQueue((prev)=>prev[0] === textAnswerJustRevealedIdx ? prev.slice(1) : prev);\n        setTextAnswerJustRevealedIdx(null);\n        setTextAnswerFeedback(null);\n    };\n    // Wenn Queue leer aber noch nicht alle solved -> neue Runde mit nur ungelösten (reveal Fragen)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer' && textAnswerQueue.length === 0 && textAnswerBlocks.length) {\n                const total = textAnswerBlocks.length;\n                if (textAnswerSolved.size === total) {\n                    setCompleted(true);\n                } else {\n                    const remaining = textAnswerBlocks.map({\n                        \"LessonPage.useEffect.remaining\": (_, i)=>i\n                    }[\"LessonPage.useEffect.remaining\"]).filter({\n                        \"LessonPage.useEffect.remaining\": (i)=>!textAnswerSolved.has(i)\n                    }[\"LessonPage.useEffect.remaining\"]);\n                    setTextAnswerQueue(remaining);\n                    setTextAnswerRound({\n                        \"LessonPage.useEffect\": (r)=>r + 1\n                    }[\"LessonPage.useEffect\"]);\n                    setTextAnswerFeedback(null);\n                }\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        textAnswerQueue.length,\n        textAnswerSolved,\n        textAnswerBlocks,\n        lesson\n    ]);\n    // NEU: Abschluss + Stern für Text-Antwort Lektionen (bisher fehlte API-Aufruf)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                if (!username) return;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await fetch('/api/lesson/complete', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id,\n                                    courseId: lesson.courseId,\n                                    type: lesson.type,\n                                    earnedStar: true\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            await fetch('/api/progress', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            try {\n                                const stored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                                if (!stored.includes(lesson._id)) {\n                                    const updated = [\n                                        ...stored,\n                                        lesson._id\n                                    ];\n                                    localStorage.setItem(completedKey, JSON.stringify(updated));\n                                    setCompletedLessons(updated);\n                                }\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (Array.isArray(inProg) && inProg.includes(lesson._id)) {\n                                    localStorage.setItem(inProgressKey, JSON.stringify(inProg.filter({\n                                        \"LessonPage.useEffect\": (id)=>id !== lesson._id\n                                    }[\"LessonPage.useEffect\"])));\n                                }\n                            } catch (e) {}\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username,\n        courseId\n    ]);\n    // Wiederhergestellt: Fortschrittslogik nach Bewertung\n    const handleNextQuestion = ()=>{\n        if (!lesson || questionQueue.length === 0) return;\n        const currentIdx = questionQueue[0];\n        let newQueue = [\n            ...questionQueue\n        ];\n        if (isCorrect) {\n            if (!mastered.has(currentIdx)) {\n                const newMastered = new Set(mastered);\n                newMastered.add(currentIdx);\n                setMastered(newMastered);\n            }\n            newQueue.shift();\n        } else {\n            newQueue = [\n                ...newQueue.slice(1),\n                currentIdx\n            ];\n        }\n        setQuestionQueue(newQueue);\n        setSelectedAnswer(\"\");\n        setSelectedAnswers([]);\n        setShowResult(false);\n        if (newQueue.length === 0) {\n            setCompleted(true);\n            (async ()=>{\n                try {\n                    var _session_user;\n                    const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                    setMarking(true);\n                    await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                        username,\n                        lessonId: lesson._id,\n                        courseId: lesson.courseId,\n                        type: lesson.type,\n                        earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                    });\n                    setCompletedLessons((prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]);\n                } catch (e) {\n                    console.error('Abschließen fehlgeschlagen', e);\n                } finally{\n                    setMarking(false);\n                }\n            })();\n        } else {\n            setCurrentQuestionIndex(newQueue[0]);\n        }\n    };\n    const handleRetry = ()=>{\n        setCurrentQuestionIndex(0);\n        setSelectedAnswer(\"\");\n        setShowResult(false);\n        setScore(0);\n        setCompleted(false);\n        setSelectedAnswers([]);\n    };\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // erledigte Lektionen aus localStorage laden\n            const key = \"course:\".concat(courseId, \":completedLessons\");\n            try {\n                const stored = JSON.parse(localStorage.getItem(key) || '[]');\n                if (Array.isArray(stored)) setCompletedLessons(stored);\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId\n    ]);\n    // (Entfernt) früherer Effekt für generisches Speichern bei completed -> Logik jetzt in finalizeLesson Stellen zentralisiert\n    // Neu: Typen-Flags und Abschluss-Funktion für YouTube\n    const isMarkdown = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'markdown' && ((_lesson_content1 = lesson.content) === null || _lesson_content1 === void 0 ? void 0 : _lesson_content1.markdown);\n    const isVideo = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'video';\n    const isLueckentext = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext';\n    const isOrdering = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'ordering';\n    const isSnake = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'snake' || (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'minigame';\n    const markVideoCompleted = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[markVideoCompleted]\": async ()=>{\n            var _session_user;\n            const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n            if (!lesson) return;\n            if (completedLessons.includes(lesson._id)) return;\n            setMarking(true);\n            try {\n                await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                    username,\n                    lessonId: lesson._id,\n                    courseId: lesson.courseId,\n                    type: lesson.type,\n                    earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                });\n                setCompletedLessons({\n                    \"LessonPage.useCallback[markVideoCompleted]\": (prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]\n                }[\"LessonPage.useCallback[markVideoCompleted]\"]);\n            } catch (e) {\n                console.error('Video Abschluss fehlgeschlagen', e);\n            } finally{\n                setMarking(false);\n            }\n        }\n    }[\"LessonPage.useCallback[markVideoCompleted]\"], [\n        session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.username,\n        lesson,\n        completedLessons,\n        courseId\n    ]);\n    // Abschluss Text-Antwort Lektion (centralized)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                                username,\n                                lessonId: lesson._id,\n                                courseId: lesson.courseId,\n                                type: lesson.type,\n                                earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                            });\n                            setCompletedLessons({\n                                \"LessonPage.useEffect\": (prev)=>prev.includes(lesson._id) ? prev : [\n                                        ...prev,\n                                        lesson._id\n                                    ]\n                            }[\"LessonPage.useEffect\"]);\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user2 = session.user) === null || _session_user2 === void 0 ? void 0 : _session_user2.username,\n        courseId\n    ]);\n    // Early Returns jetzt NACH allen Hooks\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent text-blue-600 rounded-full\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 408,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-gray-600\",\n                        children: \"Lektion wird geladen...\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 409,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 407,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 406,\n            columnNumber: 7\n        }, this);\n    }\n    if (!lesson) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6 bg-white rounded shadow\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-xl font-bold text-red-600\",\n                    children: \"Lektion nicht gefunden\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 418,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-600 mt-2\",\n                    children: \"Die angeforderte Lektion konnte nicht geladen werden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 419,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"mt-4 text-blue-600 hover:underline\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 420,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 417,\n            columnNumber: 7\n        }, this);\n    }\n    const totalQuestions = ((_lesson_questions = lesson.questions) === null || _lesson_questions === void 0 ? void 0 : _lesson_questions.length) || 0;\n    const progress = totalQuestions > 0 ? mastered.size / totalQuestions * 100 : 0;\n    const currentQuestion = lesson.questions && questionQueue.length > 0 ? lesson.questions[questionQueue[0]] : undefined;\n    // Vorberechnete korrekte Antworten (normalisiert) für Anzeige/Checks\n    const correctListNormalized = currentQuestion && (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.correctAnswer) ? [\n        currentQuestion.correctAnswer\n    ] : []).map(norm) || [];\n    // Snake frühe Rückgabe\n    // Lock-Redirect bei linearer Progression: wenn vorherige Lektion nicht abgeschlossen\n    if (lesson && progressionMode === 'linear') {\n        const index = allLessons.findIndex((l)=>l._id === lesson._id || l.id === lesson._id);\n        if (index > 0) {\n            const prev = allLessons[index - 1];\n            const prevId = prev._id || prev.id;\n            if (prevId && !completedLessons.includes(prevId)) {\n                // redirect zurück auf Kursseite\n                if (true) {\n                    router.replace(\"/kurs/\".concat(courseId));\n                }\n            }\n        }\n    }\n    if (lesson && isSnake) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 453,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 454,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.SnakeGame, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 455,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 456,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 452,\n            columnNumber: 7\n        }, this);\n    }\n    // Render für Markdown-Lektion\n    if (isMarkdown) {\n        var _session_user3;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 465,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 466,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MarkdownLesson, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons,\n                    sessionUsername: session === null || session === void 0 ? void 0 : (_session_user3 = session.user) === null || _session_user3 === void 0 ? void 0 : _session_user3.username\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 467,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 468,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 464,\n            columnNumber: 7\n        }, this);\n    }\n    const isMultiple = lesson.type === 'multiple-choice';\n    const isMatching = lesson.type === 'matching';\n    const hasMemoryPairs = !!(lesson.content && lesson.content.pairs && Array.isArray(lesson.content.pairs));\n    const effectiveType = lesson.type === 'memory' || lesson.type === 'matching' && hasMemoryPairs ? 'memory' : lesson.type;\n    const isMemory = effectiveType === 'memory';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-6xl mx-auto mt-10 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                        className: \"text-blue-600 hover:underline mb-4\",\n                        children: \"← Zur\\xfcck zum Kurs\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 482,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-2\",\n                        children: lesson.title\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 483,\n                        columnNumber: 9\n                    }, this),\n                    !isVideo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full bg-gray-200 rounded-full h-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n                                    style: {\n                                        width: \"\".concat(progress, \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 487,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 486,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600 mt-1\",\n                                children: [\n                                    \"Fortschritt: \",\n                                    mastered.size,\n                                    \" / \",\n                                    totalQuestions,\n                                    \" gemeistert\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 489,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 481,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-lg shadow-lg p-8\",\n                children: isVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.YouTubeLesson, {\n                    lesson: lesson,\n                    onCompleted: markVideoCompleted\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 495,\n                    columnNumber: 11\n                }, this) : effectiveType === 'memory' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MemoryGame, {\n                    lesson: {\n                        ...lesson,\n                        type: 'memory'\n                    },\n                    onCompleted: ()=>{\n                        setIsCorrect(true);\n                        setShowResult(true);\n                        setCompleted(true);\n                    },\n                    completedLessons: completedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 497,\n                    columnNumber: 11\n                }, this) : currentQuestion ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-6\",\n                            children: currentQuestion.question\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 500,\n                            columnNumber: 13\n                        }, this),\n                        !isMatching && currentQuestion.mediaLink && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n                            children: currentQuestion.mediaLink.match(/\\.(jpg|jpeg|png|gif|webp)$/i) ? // eslint-disable-next-line @next/next/no-img-element\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: currentQuestion.mediaLink,\n                                alt: \"Frage Bild\",\n                                className: \"max-w-full max-h-64 object-contain mx-auto border rounded\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 506,\n                                columnNumber: 19\n                            }, this) : currentQuestion.mediaLink.match(/\\.(mp3|wav|ogg|m4a)$/i) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                                controls: true,\n                                className: \"w-full max-w-md mx-auto\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentQuestion.mediaLink\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 513,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-red-600 text-sm\",\n                                        children: \"Audio wird vom Browser nicht unterst\\xfctzt\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 514,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 512,\n                                columnNumber: 19\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: currentQuestion.mediaLink,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                className: \"text-blue-600 hover:underline break-all\",\n                                children: [\n                                    \"\\uD83D\\uDCCE \",\n                                    currentQuestion.mediaLink\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 517,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 503,\n                            columnNumber: 15\n                        }, this),\n                        isMatching ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MatchingUI, {\n                                    question: currentQuestion,\n                                    onSolved: ()=>{\n                                        setIsCorrect(true);\n                                        setShowResult(true);\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 532,\n                                    columnNumber: 17\n                                }, this),\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleNextQuestion,\n                                            className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                            children: \"Weiter\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 541,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium text-green-700\",\n                                            children: \"Alle Paare korrekt verbunden!\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 542,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 540,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3 mb-6\",\n                            children: isMultiple ? currentQuestion.allAnswers.map((answer, index)=>{\n                                const isSelected = selectedAnswers.includes(answer);\n                                const isCorrectAns = correctListNormalized.includes(norm(answer));\n                                let buttonClass = \"w-full p-4 text-left border-2 rounded-lg transition-all \";\n                                if (showResult) {\n                                    if (isCorrectAns) {\n                                        buttonClass += \"border-green-500 bg-green-50 text-green-800\";\n                                    } else if (isSelected && !isCorrectAns) {\n                                        buttonClass += \"border-red-500 bg-red-50 text-red-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 bg-gray-50 text-gray-600\";\n                                    }\n                                } else {\n                                    if (isSelected) {\n                                        buttonClass += \"border-blue-500 bg-blue-50 text-blue-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 hover:border-gray-300 hover:bg-gray-50\";\n                                    }\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: buttonClass,\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 569,\n                                    columnNumber: 23\n                                }, this);\n                            }) : currentQuestion.allAnswers.map((answer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: \"w-full p-4 text-left border-2 rounded-lg transition-all \".concat(selectedAnswer === answer ? 'border-blue-500 bg-blue-50 text-blue-800' : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'),\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 581,\n                                    columnNumber: 21\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 547,\n                            columnNumber: 15\n                        }, this),\n                        !isMatching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 mt-4\",\n                            children: [\n                                isMultiple && !showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCheckMultiple,\n                                    className: \"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700\",\n                                    children: \"Antwort pr\\xfcfen\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 600,\n                                    columnNumber: 19\n                                }, this) : showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleNextQuestion,\n                                    className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                    children: \"Weiter\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 603,\n                                    columnNumber: 21\n                                }, this) : null,\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium \".concat(isCorrect ? 'text-green-700' : 'text-red-700'),\n                                    children: isCorrect ? 'Richtig!' : 'Leider falsch.'\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 607,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 598,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Keine Frage vorhanden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 615,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 493,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                allLessons: allLessons,\n                currentLessonId: lessonId,\n                courseId: courseId,\n                completedLessons: completedLessons,\n                progressionMode: progressionMode\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 620,\n                columnNumber: 3\n            }, this),\n            isMemory && completed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 text-green-700 font-medium\",\n                children: \"✔️ Memory abgeschlossen!\"\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 621,\n                columnNumber: 33\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n        lineNumber: 480,\n        columnNumber: 3\n    }, this);\n} // Client-Komponente für Markdown Rendering\n // MatchingUI jetzt ausgelagert\n // OrderingPlayer und LueckentextPlayer ausgelagert\n_s(LessonPage, \"qrbYrjR5iZF6jJRcXZ0Z8/WkqoU=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter,\n        next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession\n    ];\n});\n_c = LessonPage;\nvar _c;\n$RefreshReg$(_c, \"LessonPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAva3Vycy9bY291cnNlSWRdL2xla3Rpb24vW2xlc3NvbklkXS9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ3VEO0FBQ1c7QUFDckI7QUFDN0MsbUVBQW1FO0FBQ2lIO0FBQy9HO0FBSXRELFNBQVNjO1FBZ0MrQ0MsaUJBbVBIQyxlQW1FaEJELGtCQXdCOUNDLGdCQXdCOERBLGdCQXdCM0NEOztJQTdadkIsTUFBTUUsU0FBU2pCLDBEQUFTQTtJQUN4QixNQUFNa0IsU0FBU2pCLDBEQUFTQTtJQUN4QixNQUFNa0IsV0FBV0YsT0FBT0UsUUFBUTtJQUNoQyxNQUFNQyxXQUFXSCxPQUFPRyxRQUFRO0lBQ2hDLE1BQU0sRUFBRUMsTUFBTUwsT0FBTyxFQUFFLEdBQUdWLDJEQUFVQTtJQUVwQyxNQUFNLENBQUNTLFFBQVFPLFVBQVUsR0FBR3BCLDZHQUFRQSxDQUFnQjtJQUNwRCxNQUFNLENBQUNxQixTQUFTQyxXQUFXLEdBQUd0Qiw2R0FBUUEsQ0FBQztJQUN2QyxNQUFNLEdBQUd1Qix3QkFBd0IsR0FBR3ZCLDZHQUFRQSxDQUFDLElBQUksOEJBQThCO0lBQy9FLE1BQU0sQ0FBQ3dCLGVBQWVDLGlCQUFpQixHQUFHekIsNkdBQVFBLENBQVcsRUFBRSxHQUFHLDZCQUE2QjtJQUMvRixNQUFNLENBQUMwQixVQUFVQyxZQUFZLEdBQUczQiw2R0FBUUEsQ0FBYyxJQUFJNEIsUUFBUSw4QkFBOEI7SUFDaEcsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUc5Qiw2R0FBUUEsQ0FBQyxRQUFRLHVCQUF1QjtJQUN0RSxNQUFNLENBQUMrQixnQkFBZ0JDLGtCQUFrQixHQUFHaEMsNkdBQVFBLENBQVM7SUFDN0QsbUNBQW1DO0lBQ25DLE1BQU0sQ0FBQ2lDLGlCQUFpQkMsbUJBQW1CLEdBQUdsQyw2R0FBUUEsQ0FBVyxFQUFFO0lBQ25FLE1BQU0sQ0FBQ21DLFlBQVlDLGNBQWMsR0FBR3BDLDZHQUFRQSxDQUFD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QUFPO3dDQUFHNUk7O21DQVAvQjRJOzs7Ozs7Ozs7O3dCQWVkLENBQUNTLDRCQUNBLDhEQUFDcEI7NEJBQUlDLFdBQVU7O2dDQUNaa0IsY0FBYyxDQUFDeEwsMkJBQ2QsOERBQUN5SztvQ0FBT0MsU0FBU3pFO29DQUFxQnFFLFdBQVU7OENBQTZEOzs7OzsyQ0FFN0d0SywyQkFDRSw4REFBQ3lLO29DQUFPQyxTQUFTbkI7b0NBQW9CZSxXQUFVOzhDQUErRDs7Ozs7MkNBQzVHO2dDQUVMdEssNEJBQ0MsOERBQUM2TTtvQ0FBS3ZDLFdBQVcsdUJBQXFFLE9BQTlDcEssWUFBWSxtQkFBbUI7OENBQ3BFQSxZQUFZLGFBQWE7Ozs7Ozs7Ozs7Ozs7aURBT3BDLDhEQUFDcUs7OEJBQUU7Ozs7Ozs7Ozs7OzBCQUtYLDhEQUFDak0sMkVBQXNCQTtnQkFBQ2tDLFlBQVlBO2dCQUFZOEssaUJBQWlCdk07Z0JBQVVELFVBQVVBO2dCQUFVOEIsa0JBQWtCQTtnQkFBa0JGLGlCQUFpQkE7Ozs7OztZQUMvSW1MLFlBQVl2TCwyQkFBYSw4REFBQytKO2dCQUFJQyxXQUFVOzBCQUFrQzs7Ozs7Ozs7Ozs7O0FBR2pGLEVBRUEsMkNBQTJDO0NBQzNDLCtCQUErQjtDQUUvQixtREFBbUQ7R0ExbUIzQjdMOztRQUNQZCxzREFBU0E7UUFDVEMsc0RBQVNBO1FBR0VLLHVEQUFVQTs7O0tBTGRRIiwic291cmNlcyI6WyJEOlxcbGVybmFyZW5hXFxzcmNcXGFwcFxca3Vyc1xcW2NvdXJzZUlkXVxcbGVrdGlvblxcW2xlc3NvbklkXVxccGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyB1c2VQYXJhbXMsIHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL3JlYWN0Jztcbi8vIEF1c2dlbGFnZXJ0ZSBMZWt0aW9uc3R5cC1Lb21wb25lbnRlbiAoc2Nocml0dHdlaXNlcyBSZWZhY3RvcmluZylcbmltcG9ydCB7IE1hcmtkb3duTGVzc29uLCBZb3VUdWJlTGVzc29uLCBNZW1vcnlHYW1lLCBMdWVja2VudGV4dFBsYXllciwgT3JkZXJpbmdQbGF5ZXIsIE1hdGNoaW5nVUksIExlc3NvbkZvb3Rlck5hdmlnYXRpb24sIFNuYWtlR2FtZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGVzc29uVHlwZXMnO1xuaW1wb3J0IHsgZmluYWxpemVMZXNzb24gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9saWIvbGVzc29uQ29tcGxldGlvbic7XG5pbXBvcnQgdHlwZSB7IExlc3NvbiwgUXVlc3Rpb24gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb21wb25lbnRzL2xlc3NvblR5cGVzL3R5cGVzJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMZXNzb25QYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IGNvdXJzZUlkID0gcGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZztcbiAgY29uc3QgbGVzc29uSWQgPSBwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nO1xuICBjb25zdCB7IGRhdGE6IHNlc3Npb24gfSA9IHVzZVNlc3Npb24oKTtcbiAgXG4gIGNvbnN0IFtsZXNzb24sIHNldExlc3Nvbl0gPSB1c2VTdGF0ZTxMZXNzb24gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFssIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4XSA9IHVzZVN0YXRlKDApOyAvLyBERVBSRUNBVEVEIChmw7xyIGFsdGUgTG9naWspXG4gIGNvbnN0IFtxdWVzdGlvblF1ZXVlLCBzZXRRdWVzdGlvblF1ZXVlXSA9IHVzZVN0YXRlPG51bWJlcltdPihbXSk7IC8vIFJlaWhlbmZvbGdlIG9mZmVuZXIgRnJhZ2VuXG4gIGNvbnN0IFttYXN0ZXJlZCwgc2V0TWFzdGVyZWRdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7IC8vIGtvcnJla3QgYmVhbnR3b3J0ZXRlIEZyYWdlblxuICBjb25zdCBbbWFya2luZywgc2V0TWFya2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIFNlcnZlci1VcGRhdGUgU3RhdHVzXG4gIGNvbnN0IFtzZWxlY3RlZEFuc3dlciwgc2V0U2VsZWN0ZWRBbnN3ZXJdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgLy8gTmV1OiBBdXN3YWhsIGbDvHIgTXVsdGlwbGUtQ2hvaWNlXG4gIGNvbnN0IFtzZWxlY3RlZEFuc3dlcnMsIHNldFNlbGVjdGVkQW5zd2Vyc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbc2hvd1Jlc3VsdCwgc2V0U2hvd1Jlc3VsdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0NvcnJlY3QsIHNldElzQ29ycmVjdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzY29yZSwgc2V0U2NvcmVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtjb21wbGV0ZWQsIHNldENvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthbGxMZXNzb25zLCBzZXRBbGxMZXNzb25zXSA9IHVzZVN0YXRlPExlc3NvbltdPihbXSk7IC8vIGbDvHIgRm9vdGVyLU5hdmlnYXRpb25cbiAgY29uc3QgW3Byb2dyZXNzaW9uTW9kZSwgc2V0UHJvZ3Jlc3Npb25Nb2RlXSA9IHVzZVN0YXRlPCdsaW5lYXInfCdmcmVlJz4oJ2ZyZWUnKTtcbiAgY29uc3QgW2NvbXBsZXRlZExlc3NvbnMsIHNldENvbXBsZXRlZExlc3NvbnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTsgLy8gZXJsZWRpZ3RlIExla3Rpb25lblxuICAvLyBMw7xja2VudGV4dCBTdGF0ZXMgKGltbWVyIGF1ZnJ1ZmVuLCBuaWNodCBrb25kaXRpb25hbClcbiAgY29uc3QgW2x0QW5zd2Vyc1N0YXRlLCBzZXRMdEFuc3dlcnNTdGF0ZV0gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+Pih7fSk7XG4gIGNvbnN0IFtsdENoZWNrZWQsIHNldEx0Q2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsdENvcnJlY3RBbGwsIHNldEx0Q29ycmVjdEFsbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsdFVzZWRBbnN3ZXJzLCBzZXRMdFVzZWRBbnN3ZXJzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtsdEZvY3VzR2FwLCBzZXRMdEZvY3VzR2FwXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICAvLyBMw7xja2VudGV4dCBkZXJpdmVkIERhdGVuIChpbW1lciBIb29rcyBnbGVpY2ggaGFsdGVuKVxuICBjb25zdCBsdE1hc2tlZCA9IHVzZU1lbW8oKCkgPT4gKGxlc3Nvbj8udHlwZSA9PT0gJ2x1ZWNrZW50ZXh0JykgPyBTdHJpbmcoKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5tYXJrZG93bk1hc2tlZCB8fCAnJykgOiAnJywgW2xlc3Nvbl0pO1xuICBjb25zdCBsdEdhcHMgPSB1c2VNZW1vKCgpID0+IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpID8gKEFycmF5LmlzQXJyYXkoKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5nYXBzKSA/IChsZXNzb24/LmNvbnRlbnQgYXMgYW55KS5nYXBzLm1hcCgoZzogYW55KSA9PiAoeyBpZDogZy5pZCwgYW5zd2VyOiBTdHJpbmcoZy5hbnN3ZXIpIH0pKSA6IFtdKSA6IFtdLCBbbGVzc29uXSk7XG4gIGNvbnN0IGx0TW9kZTogJ2lucHV0JyB8ICdkcmFnJyA9IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcgJiYgKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5tb2RlID09PSAnZHJhZycpID8gJ2RyYWcnIDogJ2lucHV0JztcbiAgY29uc3QgbHRQYXJ0cyA9IHVzZU1lbW8oKCkgPT4gbHRNYXNrZWQgPyBsdE1hc2tlZC5zcGxpdCgvKF9fX1xcZCtfX18pL2cpLmZpbHRlcihCb29sZWFuKSA6IFtdLCBbbHRNYXNrZWRdKTtcbiAgY29uc3QgbHRCYW5rID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGx0TW9kZSAhPT0gJ2RyYWcnKSByZXR1cm4gW10gYXMgc3RyaW5nW107XG4gICAgY29uc3Qgc2h1ZmZsZSA9IDxULD4oYXJyOiBUW10pID0+IGFyci5tYXAodiA9PiBbTWF0aC5yYW5kb20oKSwgdl0gYXMgY29uc3QpLnNvcnQoKGEsYik9PmFbMF0tYlswXSkubWFwKChbLHZdKT0+dik7XG4gICAgcmV0dXJuIHNodWZmbGUobHRHYXBzLm1hcCgoZzogeyBpZDogbnVtYmVyOyBhbnN3ZXI6IHN0cmluZyB9KSA9PiBnLmFuc3dlcikpO1xuICB9LCBbbHRNb2RlLCBsdEdhcHNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBSZXNldCBiZWkgTGVrdGlvbnN0eXAtV2VjaHNlbFxuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpIHtcbiAgICAgIHNldEx0QW5zd2Vyc1N0YXRlKHt9KTtcbiAgICAgIHNldEx0Q2hlY2tlZChmYWxzZSk7XG4gICAgICBzZXRMdENvcnJlY3RBbGwoZmFsc2UpO1xuICAgICAgc2V0THRVc2VkQW5zd2VycyhbXSk7XG4gICAgICBzZXRMdEZvY3VzR2FwKG51bGwpO1xuICAgIH1cbiAgfSwgW2xlc3Nvbj8uX2lkLCBsZXNzb24/LnR5cGVdKTtcblxuICBjb25zdCBsb2FkTGVzc29uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2t1cnMvJHtjb3Vyc2VJZH0vbGVrdGlvbmVuYCk7XG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3QgbGVzc29uQXJyYXkgPSBBcnJheS5pc0FycmF5KHBheWxvYWQpID8gcGF5bG9hZCA6IChwYXlsb2FkLmxlc3NvbnMgfHwgW10pO1xuICAgICAgICBzZXRBbGxMZXNzb25zKGxlc3NvbkFycmF5KTtcbiAgICAgICAgLy8gcHJvZ3Jlc3Npb25Nb2RlIHZvbSBLdXJzIGxhZGVuIChqZXR6dCBtZWlzdCBpbiBkZXIgQW50d29ydCBlbnRoYWx0ZW4pXG4gICAgICAgIGlmIChwYXlsb2FkLmNvdXJzZSAmJiBwYXlsb2FkLmNvdXJzZS5wcm9ncmVzc2lvbk1vZGUpIHtcbiAgICAgICAgICBzZXRQcm9ncmVzc2lvbk1vZGUocGF5bG9hZC5jb3Vyc2UucHJvZ3Jlc3Npb25Nb2RlID09PSAnbGluZWFyJyA/ICdsaW5lYXInIDogJ2ZyZWUnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRQcm9ncmVzc2lvbk1vZGUoJ2ZyZWUnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb3VuZExlc3NvbiA9IChsZXNzb25BcnJheSBhcyBBcnJheTx7IF9pZD86IHN0cmluZzsgaWQ/OiBzdHJpbmcgfT4pLmZpbmQoKGwpID0+IGwuX2lkID09PSBsZXNzb25JZCB8fCBsLmlkID09PSBsZXNzb25JZCk7XG4gICAgICAgIGlmIChmb3VuZExlc3Nvbikgc2V0TGVzc29uKGZvdW5kTGVzc29uIGFzIHVua25vd24gYXMgTGVzc29uKTtcbiAgICAgICAgaWYgKGZvdW5kTGVzc29uKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbCBRdWV1ZSBzZXR6ZW5cbiAgICAgICAgICBjb25zdCB0b3RhbCA9IChmb3VuZExlc3NvbiBhcyB1bmtub3duIGFzIHsgcXVlc3Rpb25zPzogdW5rbm93bltdIH0pLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgc2V0UXVlc3Rpb25RdWV1ZShBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbCB9LCAoXywgaSkgPT4gaSkpO1xuICAgICAgICAgIHNldE1hc3RlcmVkKG5ldyBTZXQoKSk7XG4gICAgICAgICAgc2V0U2NvcmUoMCk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgICBzZXRDdXJyZW50UXVlc3Rpb25JbmRleCgwKTsgLy8gbGVnYWN5XG4gICAgICAgICAgLy8gSW4tUHJvZ3Jlc3MgbWFya2llcmVuIGZhbGxzIG5vY2ggbmljaHQgYWJnZXNjaGxvc3NlblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRLZXkgPSBgY291cnNlOiR7Y291cnNlSWR9OmNvbXBsZXRlZExlc3NvbnNgO1xuICAgICAgICAgICAgY29uc3QgaW5Qcm9ncmVzc0tleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06aW5Qcm9ncmVzc0xlc3NvbnNgO1xuICAgICAgICAgICAgY29uc3QgY29tcGxldGVkU3RvcmVkOiBzdHJpbmdbXSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oY29tcGxldGVkS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kSWQgPSAoZm91bmRMZXNzb24gYXMgeyBfaWQ/OiBzdHJpbmc7IGlkPzogc3RyaW5nIH0pLl9pZCB8fCAoZm91bmRMZXNzb24gYXMgeyBfaWQ/OiBzdHJpbmc7IGlkPzogc3RyaW5nIH0pLmlkO1xuICAgICAgICAgICAgaWYgKGZvdW5kSWQgJiYgIWNvbXBsZXRlZFN0b3JlZC5pbmNsdWRlcyhmb3VuZElkKSkge1xuICAgICAgICAgICAgICBjb25zdCBpblByb2c6IHN0cmluZ1tdID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpblByb2dyZXNzS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgICAgaWYgKCFpblByb2cuaW5jbHVkZXMoZm91bmRJZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLmluUHJvZywgZm91bmRJZF07XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaW5Qcm9ncmVzc0tleSwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICB9XG4gIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGZWhsZXIgYmVpbSBMYWRlbiBkZXIgTGVrdGlvbjonLCBlcnJvcik7XG4gIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvdXJzZUlkLCBsZXNzb25JZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZExlc3NvbigpO1xuICB9LCBbbG9hZExlc3Nvbl0pO1xuXG4gIC8vIFp1bGV0enQgd2VpdGVyZ2VtYWNodCAoZsO8ciBEYXNoYm9hcmQpOiBiZWltIMOWZmZuZW4gbWVya2VuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb3Vyc2VJZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3Q6Y291cnNlSWQnLCBTdHJpbmcoY291cnNlSWQpKTtcbiAgICAgIGlmIChsZXNzb25JZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3Q6bGVzc29uSWQnLCBTdHJpbmcobGVzc29uSWQpKTtcbiAgICAgIGlmIChjb3Vyc2VJZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYGNvdXJzZToke2NvdXJzZUlkfTpsYXN0VG91Y2hlZGAsIFN0cmluZyhEYXRlLm5vdygpKSk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbY291cnNlSWQsIGxlc3NvbklkXSk7XG5cbiAgLy8gSGVscGVyIHp1bSBOb3JtYWxpc2llcmVuIHZvbiBBbnR3b3J0ZW4gKGZyw7xoZXIgdm9yaGFuZGVuLCB3aWVkZXJoZXJnZXN0ZWxsdClcbiAgY29uc3Qgbm9ybSA9IChzOiB1bmtub3duKSA9PiAodHlwZW9mIHMgPT09ICdzdHJpbmcnID8gcy50cmltKCkgOiBTdHJpbmcocyA/PyAnJykpO1xuXG4gIGNvbnN0IGhhbmRsZUFuc3dlclNlbGVjdCA9IChhbnN3ZXI6IHN0cmluZykgPT4ge1xuICAgIGlmIChzaG93UmVzdWx0KSByZXR1cm47XG4gICAgaWYgKGxlc3Nvbj8udHlwZSA9PT0gJ211bHRpcGxlLWNob2ljZScpIHtcbiAgICAgIHNldFNlbGVjdGVkQW5zd2VycyhwcmV2ID0+IHByZXYuaW5jbHVkZXMoYW5zd2VyKSA/IHByZXYuZmlsdGVyKGEgPT4gYSAhPT0gYW5zd2VyKSA6IFsuLi5wcmV2LCBhbnN3ZXJdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXIoYW5zd2VyKTtcbiAgICBpZiAoIWxlc3NvbiB8fCAhbGVzc29uLnF1ZXN0aW9ucyB8fCBxdWVzdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IGxlc3Nvbi5xdWVzdGlvbnNbcXVlc3Rpb25RdWV1ZVswXV07XG4gICAgY29uc3QgY29ycmVjdCA9IG5vcm0oYW5zd2VyKSA9PT0gbm9ybShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcik7XG4gICAgc2V0SXNDb3JyZWN0KGNvcnJlY3QpO1xuICAgIHNldFNob3dSZXN1bHQodHJ1ZSk7XG4gICAgaWYgKGNvcnJlY3QgJiYgIW1hc3RlcmVkLmhhcyhxdWVzdGlvblF1ZXVlWzBdKSkge1xuICAgICAgc2V0U2NvcmUocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNoZWNrTXVsdGlwbGUgPSAoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgIWxlc3Nvbi5xdWVzdGlvbnMgfHwgcXVlc3Rpb25RdWV1ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBsZXNzb24ucXVlc3Rpb25zW3F1ZXN0aW9uUXVldWVbMF1dIGFzIFF1ZXN0aW9uO1xuICAgIGNvbnN0IGNvcnJlY3RMaXN0ID0gKEFycmF5LmlzQXJyYXkoY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJzKSAmJiBjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMubGVuZ3RoXG4gICAgICA/IGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vyc1xuICAgICAgOiAoY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXIgPyBbY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJdIDogW10pKS5tYXAobm9ybSk7XG4gICAgY29uc3Qgc2VsTm9ybSA9IHNlbGVjdGVkQW5zd2Vycy5tYXAobm9ybSk7XG4gICAgY29uc3QgaXNTZXRFcXVhbCA9IHNlbE5vcm0ubGVuZ3RoID09PSBjb3JyZWN0TGlzdC5sZW5ndGggJiYgY29ycmVjdExpc3QuZXZlcnkoYSA9PiBzZWxOb3JtLmluY2x1ZGVzKGEpKTtcbiAgICBzZXRJc0NvcnJlY3QoaXNTZXRFcXVhbCk7XG4gICAgc2V0U2hvd1Jlc3VsdCh0cnVlKTtcbiAgICBpZiAoaXNTZXRFcXVhbCAmJiAhbWFzdGVyZWQuaGFzKHF1ZXN0aW9uUXVldWVbMF0pKSB7XG4gICAgICBzZXRTY29yZShwcmV2ID0+IHByZXYgKyAxKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTXVsdGkgVGV4dC1BbnR3b3J0IFN0YXRlc1xuICBjb25zdCBbdGV4dEFuc3dlcklucHV0LCBzZXRUZXh0QW5zd2VySW5wdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbdGV4dEFuc3dlckZlZWRiYWNrLCBzZXRUZXh0QW5zd2VyRmVlZGJhY2tdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VyUXVldWUsIHNldFRleHRBbnN3ZXJRdWV1ZV0gPSB1c2VTdGF0ZTxudW1iZXJbXT4oW10pOyAvLyBJbmRleC1SZWloZW5mb2xnZSBkZXIgbm9jaCBvZmZlbmVuIEJsw7Zja2VcbiAgY29uc3QgW3RleHRBbnN3ZXJTb2x2ZWQsIHNldFRleHRBbnN3ZXJTb2x2ZWRdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VyUmV2ZWFsZWQsIHNldFRleHRBbnN3ZXJSZXZlYWxlZF0gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTsgLy8gR2VzYW10LUZsYWcgKEFuYWx5dGljcylcbiAgY29uc3QgW3RleHRBbnN3ZXJSZXZlYWxSb3VuZCwgc2V0VGV4dEFuc3dlclJldmVhbFJvdW5kXSA9IHVzZVN0YXRlPFJlY29yZDxudW1iZXIsIG51bWJlcj4+KHt9KTsgLy8gaW5kZXggLT4gUnVuZGVcbiAgY29uc3QgW3RleHRBbnN3ZXJSb3VuZCwgc2V0VGV4dEFuc3dlclJvdW5kXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbdGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCwgc2V0VGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdGV4dEFuc3dlckJsb2NrcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghbGVzc29uIHx8IGxlc3Nvbi50eXBlICE9PSAndGV4dC1hbnN3ZXInKSByZXR1cm4gW10gYXMgQXJyYXk8eyBxdWVzdGlvbjogc3RyaW5nOyBhbnN3ZXJzOiBzdHJpbmdbXTsgbWVkaWE/OiBzdHJpbmcgfT47XG4gICAgY29uc3QgYzogYW55ID0gbGVzc29uLmNvbnRlbnQgfHwge307XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYy5ibG9ja3MpKSB7XG4gICAgICByZXR1cm4gYy5ibG9ja3MuZmlsdGVyKChiOiBhbnkpID0+IGIgJiYgdHlwZW9mIGIucXVlc3Rpb24gPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkoYi5hbnN3ZXJzKSAmJiBiLmFuc3dlcnMubGVuZ3RoPjApXG4gICAgICAgIC5tYXAoKGI6IGFueSkgPT4gKHsgcXVlc3Rpb246IFN0cmluZyhiLnF1ZXN0aW9uKSwgYW5zd2VyczogYi5hbnN3ZXJzLm1hcCgoYTogYW55KT0+U3RyaW5nKGEpKS5maWx0ZXIoKGE6c3RyaW5nKT0+YS5sZW5ndGg+MCksIG1lZGlhOiBiLm1lZGlhICYmIFN0cmluZyhiLm1lZGlhKSB9KSk7XG4gICAgfVxuICAgIGlmIChjLnF1ZXN0aW9uICYmIGMuYW5zd2VyKSByZXR1cm4gW3sgcXVlc3Rpb246IFN0cmluZyhjLnF1ZXN0aW9uKSwgYW5zd2VyczogW1N0cmluZyhjLmFuc3dlcildIH1dO1xuICAgIHJldHVybiBbXTtcbiAgfSwgW2xlc3Nvbl0pO1xuICAvLyBJbml0aWFsIFF1ZXVlIHNldHplbiB3ZW5uIEJsb2NrcyBnZWxhZGVuXG4gIHVzZUVmZmVjdCgoKT0+e1xuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICd0ZXh0LWFuc3dlcicpIHtcbiAgc2V0VGV4dEFuc3dlclF1ZXVlKHRleHRBbnN3ZXJCbG9ja3MubWFwKChfOiB1bmtub3duLCBpOiBudW1iZXIpPT5pKSk7XG4gICAgICBzZXRUZXh0QW5zd2VyU29sdmVkKG5ldyBTZXQoKSk7XG4gICAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsZWQobmV3IFNldCgpKTtcbiAgc2V0VGV4dEFuc3dlclJvdW5kKDEpO1xuICBzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmQoe30pO1xuICAgICAgc2V0VGV4dEFuc3dlcklucHV0KCcnKTtcbiAgICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgICB9XG4gIH0sIFtsZXNzb24/Ll9pZCwgbGVzc29uPy50eXBlLCB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aF0pO1xuICBjb25zdCBzdWJtaXRUZXh0QW5zd2VyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghbGVzc29uIHx8IGxlc3Nvbi50eXBlICE9PSAndGV4dC1hbnN3ZXInKSByZXR1cm47XG4gICAgaWYgKCF0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aCB8fCAhdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGM6IGFueSA9IGxlc3Nvbi5jb250ZW50IHx8IHt9O1xuICAgIGNvbnN0IGNhc2VTZW5zaXRpdmU6IGJvb2xlYW4gPSAhIWMuY2FzZVNlbnNpdGl2ZTtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoczogc3RyaW5nKSA9PiBjYXNlU2Vuc2l0aXZlID8gcy50cmltKCkgOiBzLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRleHRBbnN3ZXJRdWV1ZVswXTtcbiAgICBjb25zdCBjdXJyZW50ID0gdGV4dEFuc3dlckJsb2Nrc1tjdXJyZW50SW5kZXhdO1xuICAgIGNvbnN0IHVzZXJOb3JtID0gbm9ybWFsaXplKHRleHRBbnN3ZXJJbnB1dCk7XG4gICAgaWYgKCF1c2VyTm9ybSkgeyBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ0JpdHRlIGV0d2FzIGVpbmdlYmVuLicpOyByZXR1cm47IH1cbiAgICBjb25zdCBjb3JyZWN0Tm9ybXMgPSBjdXJyZW50LmFuc3dlcnMubWFwKChhOiBzdHJpbmcpPT5ub3JtYWxpemUoYSkpO1xuICAgIGlmIChjb3JyZWN0Tm9ybXMuaW5jbHVkZXModXNlck5vcm0pKSB7XG4gICAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ+KchSBLb3JyZWt0IScpO1xuICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICBzZXRUZXh0QW5zd2VyU29sdmVkKHByZXYgPT4gbmV3IFNldChwcmV2KS5hZGQoY3VycmVudEluZGV4KSk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJJbnB1dCgnJyk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgICAgICAgLy8gTsOkY2hzdGUgRnJhZ2VcbiAgICAgICAgc2V0VGV4dEFuc3dlclF1ZXVlKHByZXYgPT4gcHJldi5zbGljZSgxKSk7XG4gICAgICB9LCA0MDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ+KdjCBOaWNodCBrb3JyZWt0LicpO1xuICB9LCBbbGVzc29uLCB0ZXh0QW5zd2VyQmxvY2tzLCB0ZXh0QW5zd2VyUXVldWUsIHRleHRBbnN3ZXJJbnB1dF0pO1xuICBjb25zdCByZXZlYWxDdXJyZW50VGV4dEFuc3dlciA9ICgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBsZXNzb24udHlwZSAhPT0gJ3RleHQtYW5zd2VyJykgcmV0dXJuO1xuICAgIGlmICghdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkeCA9IHRleHRBbnN3ZXJRdWV1ZVswXTtcbiAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsZWQocHJldiA9PiBuZXcgU2V0KHByZXYpLmFkZChpZHgpKTtcbiAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmQocHJldiA9PiAoeyAuLi5wcmV2LCBbaWR4XTogdGV4dEFuc3dlclJvdW5kIH0pKTtcbiAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ/Cfm4ggQW50d29ydCBlaW5nZWJsZW5kZXQuIFNww6R0ZXIgZXJuZXV0IGJlYW50d29ydGVuLicpO1xuICAgIHNldFRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHgoaWR4KTtcbiAgICBzZXRUZXh0QW5zd2VySW5wdXQoJycpO1xuICB9O1xuICBjb25zdCBhZHZhbmNlQWZ0ZXJSZXZlYWwgPSAoKSA9PiB7XG4gICAgaWYgKHRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHggPT0gbnVsbCkgcmV0dXJuO1xuICAgIHNldFRleHRBbnN3ZXJRdWV1ZShwcmV2ID0+IChwcmV2WzBdID09PSB0ZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4ID8gcHJldi5zbGljZSgxKSA6IHByZXYpKTtcbiAgICBzZXRUZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4KG51bGwpO1xuICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgfTtcbiAgLy8gV2VubiBRdWV1ZSBsZWVyIGFiZXIgbm9jaCBuaWNodCBhbGxlIHNvbHZlZCAtPiBuZXVlIFJ1bmRlIG1pdCBudXIgdW5nZWzDtnN0ZW4gKHJldmVhbCBGcmFnZW4pXG4gIHVzZUVmZmVjdCgoKT0+e1xuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICd0ZXh0LWFuc3dlcicgJiYgdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCA9PT0gMCAmJiB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aCkge1xuICAgICAgY29uc3QgdG90YWwgPSB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aDtcbiAgICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsKSB7XG4gICAgICAgIHNldENvbXBsZXRlZCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gIGNvbnN0IHJlbWFpbmluZyA9IHRleHRBbnN3ZXJCbG9ja3MubWFwKChfOiB1bmtub3duLCBpOiBudW1iZXIpPT5pKS5maWx0ZXIoKGk6IG51bWJlcik9PiF0ZXh0QW5zd2VyU29sdmVkLmhhcyhpKSk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJRdWV1ZShyZW1haW5pbmcpO1xuICAgICAgICBzZXRUZXh0QW5zd2VyUm91bmQocj0+cisxKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3RleHRBbnN3ZXJRdWV1ZS5sZW5ndGgsIHRleHRBbnN3ZXJTb2x2ZWQsIHRleHRBbnN3ZXJCbG9ja3MsIGxlc3Nvbl0pO1xuXG4gIC8vIE5FVTogQWJzY2hsdXNzICsgU3Rlcm4gZsO8ciBUZXh0LUFudHdvcnQgTGVrdGlvbmVuIChiaXNoZXIgZmVobHRlIEFQSS1BdWZydWYpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybjtcbiAgICBjb25zdCB0b3RhbCA9IHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoO1xuICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgaWYgKCF1c2VybmFtZSkgcmV0dXJuO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sZXNzb24vY29tcGxldGUnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICAgICAgbGVzc29uSWQ6IGxlc3Nvbi5faWQsXG4gICAgICAgICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICAgICAgICBlYXJuZWRTdGFyOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pLmNhdGNoKCgpPT57fSk7XG4gICAgICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvcHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSwgbGVzc29uSWQ6IGxlc3Nvbi5faWQgfSlcbiAgICAgICAgICB9KS5jYXRjaCgoKT0+e30pO1xuICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZEtleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06Y29tcGxldGVkTGVzc29uc2A7XG4gICAgICAgICAgY29uc3QgaW5Qcm9ncmVzc0tleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06aW5Qcm9ncmVzc0xlc3NvbnNgO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvbXBsZXRlZEtleSkgfHwgJ1tdJyk7XG4gICAgICAgICAgICBpZiAoIXN0b3JlZC5pbmNsdWRlcyhsZXNzb24uX2lkKSkge1xuICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnN0b3JlZCwgbGVzc29uLl9pZF07XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbXBsZXRlZEtleSwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgICAgICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHVwZGF0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5Qcm9nID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpblByb2dyZXNzS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGluUHJvZykgJiYgaW5Qcm9nLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGluUHJvZ3Jlc3NLZXksIEpTT04uc3RyaW5naWZ5KGluUHJvZy5maWx0ZXIoKGlkOiBzdHJpbmcpID0+IGlkICE9PSBsZXNzb24uX2lkKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RleHQtQW50d29ydCBBYnNjaGx1c3MgZmVobGdlc2NobGFnZW4nLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSkoKTtcbiAgICB9XG4gIH0sIFtsZXNzb24sIHRleHRBbnN3ZXJTb2x2ZWQsIHRleHRBbnN3ZXJCbG9ja3MsIGNvbXBsZXRlZExlc3NvbnMsIHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lLCBjb3Vyc2VJZF0pO1xuXG4gIC8vIFdpZWRlcmhlcmdlc3RlbGx0OiBGb3J0c2Nocml0dHNsb2dpayBuYWNoIEJld2VydHVuZ1xuICBjb25zdCBoYW5kbGVOZXh0UXVlc3Rpb24gPSAoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgcXVlc3Rpb25RdWV1ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBjdXJyZW50SWR4ID0gcXVlc3Rpb25RdWV1ZVswXTtcbiAgICBsZXQgbmV3UXVldWUgPSBbLi4ucXVlc3Rpb25RdWV1ZV07XG4gICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgaWYgKCFtYXN0ZXJlZC5oYXMoY3VycmVudElkeCkpIHtcbiAgICAgICAgY29uc3QgbmV3TWFzdGVyZWQgPSBuZXcgU2V0KG1hc3RlcmVkKTtcbiAgICAgICAgbmV3TWFzdGVyZWQuYWRkKGN1cnJlbnRJZHgpO1xuICAgICAgICBzZXRNYXN0ZXJlZChuZXdNYXN0ZXJlZCk7XG4gICAgICB9XG4gICAgICBuZXdRdWV1ZS5zaGlmdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdRdWV1ZSA9IFsuLi5uZXdRdWV1ZS5zbGljZSgxKSwgY3VycmVudElkeF07XG4gICAgfVxuICAgIHNldFF1ZXN0aW9uUXVldWUobmV3UXVldWUpO1xuICAgIHNldFNlbGVjdGVkQW5zd2VyKFwiXCIpO1xuICAgIHNldFNlbGVjdGVkQW5zd2VycyhbXSk7XG4gICAgc2V0U2hvd1Jlc3VsdChmYWxzZSk7XG4gICAgaWYgKG5ld1F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0Q29tcGxldGVkKHRydWUpO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgICAgIHNldE1hcmtpbmcodHJ1ZSk7XG4gICAgICAgICAgYXdhaXQgZmluYWxpemVMZXNzb24oe1xuICAgICAgICAgICAgdXNlcm5hbWUsIC8vIG9wdGlvbmFsIGbDvHIgR8Okc3RlXG4gICAgICAgICAgICBsZXNzb25JZDogbGVzc29uLl9pZCxcbiAgICAgICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgICAgICB0eXBlOiBsZXNzb24udHlwZSxcbiAgICAgICAgICAgIGVhcm5lZFN0YXI6IGxlc3Nvbi50eXBlICE9PSAnbWFya2Rvd24nICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkTGVzc29ucyhwcmV2ID0+IHByZXYuaW5jbHVkZXMobGVzc29uLl9pZCkgPyBwcmV2IDogWy4uLnByZXYsIGxlc3Nvbi5faWRdKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Fic2NobGllw59lbiBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldE1hcmtpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50UXVlc3Rpb25JbmRleChuZXdRdWV1ZVswXSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVJldHJ5ID0gKCkgPT4ge1xuICAgIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4KDApO1xuICAgIHNldFNlbGVjdGVkQW5zd2VyKFwiXCIpO1xuICAgIHNldFNob3dSZXN1bHQoZmFsc2UpO1xuICAgIHNldFNjb3JlKDApO1xuICAgIHNldENvbXBsZXRlZChmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXJzKFtdKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIGVybGVkaWd0ZSBMZWt0aW9uZW4gYXVzIGxvY2FsU3RvcmFnZSBsYWRlblxuICAgIGNvbnN0IGtleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06Y29tcGxldGVkTGVzc29uc2A7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAnW10nKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0b3JlZCkpIHNldENvbXBsZXRlZExlc3NvbnMoc3RvcmVkKTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjb3Vyc2VJZF0pO1xuXG4gIC8vIChFbnRmZXJudCkgZnLDvGhlcmVyIEVmZmVrdCBmw7xyIGdlbmVyaXNjaGVzIFNwZWljaGVybiBiZWkgY29tcGxldGVkIC0+IExvZ2lrIGpldHp0IGluIGZpbmFsaXplTGVzc29uIFN0ZWxsZW4gemVudHJhbGlzaWVydFxuXG4gIC8vIE5ldTogVHlwZW4tRmxhZ3MgdW5kIEFic2NobHVzcy1GdW5rdGlvbiBmw7xyIFlvdVR1YmVcbiAgY29uc3QgaXNNYXJrZG93biA9IGxlc3Nvbj8udHlwZSA9PT0gJ21hcmtkb3duJyAmJiBsZXNzb24uY29udGVudD8ubWFya2Rvd247XG4gIGNvbnN0IGlzVmlkZW8gPSBsZXNzb24/LnR5cGUgPT09ICd2aWRlbyc7XG4gIGNvbnN0IGlzTHVlY2tlbnRleHQgPSBsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCc7XG4gIGNvbnN0IGlzT3JkZXJpbmcgPSBsZXNzb24/LnR5cGUgPT09ICdvcmRlcmluZyc7XG4gIGNvbnN0IGlzU25ha2UgPSBsZXNzb24/LnR5cGUgPT09ICdzbmFrZScgfHwgbGVzc29uPy50eXBlID09PSAnbWluaWdhbWUnO1xuICBjb25zdCBtYXJrVmlkZW9Db21wbGV0ZWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlcm5hbWUgPSBzZXNzaW9uPy51c2VyPy51c2VybmFtZTtcbiAgICBpZiAoIWxlc3NvbikgcmV0dXJuO1xuICAgIGlmIChjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSByZXR1cm47XG4gICAgc2V0TWFya2luZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmluYWxpemVMZXNzb24oe1xuICAgICAgICB1c2VybmFtZSwgLy8gb3B0aW9uYWwgZsO8ciBHw6RzdGVcbiAgICAgICAgbGVzc29uSWQ6IGxlc3Nvbi5faWQsXG4gICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICBlYXJuZWRTdGFyOiBsZXNzb24udHlwZSAhPT0gJ21hcmtkb3duJyAmJiAhY29tcGxldGVkTGVzc29ucy5pbmNsdWRlcyhsZXNzb24uX2lkKVxuICAgICAgfSk7XG4gICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHByZXYgPT4gcHJldi5pbmNsdWRlcyhsZXNzb24uX2lkKSA/IHByZXYgOiBbLi4ucHJldiwgbGVzc29uLl9pZF0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZpZGVvIEFic2NobHVzcyBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRNYXJraW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtzZXNzaW9uPy51c2VyPy51c2VybmFtZSwgbGVzc29uLCBjb21wbGV0ZWRMZXNzb25zLCBjb3Vyc2VJZF0pO1xuXG4gIC8vIEFic2NobHVzcyBUZXh0LUFudHdvcnQgTGVrdGlvbiAoY2VudHJhbGl6ZWQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybjtcbiAgICBjb25zdCB0b3RhbCA9IHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoO1xuICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBmaW5hbGl6ZUxlc3Nvbih7XG4gICAgICAgICAgICB1c2VybmFtZSwgLy8gb3B0aW9uYWwgZsO8ciBHw6RzdGVcbiAgICAgICAgICAgIGxlc3NvbklkOiBsZXNzb24uX2lkLFxuICAgICAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICAgICAgZWFybmVkU3RhcjogbGVzc29uLnR5cGUgIT09ICdtYXJrZG93bicgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZClcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHByZXYgPT4gcHJldi5pbmNsdWRlcyhsZXNzb24uX2lkKSA/IHByZXYgOiBbLi4ucHJldiwgbGVzc29uLl9pZF0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVGV4dC1BbnR3b3J0IEFic2NobHVzcyBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgfSwgW2xlc3NvbiwgdGV4dEFuc3dlclNvbHZlZCwgdGV4dEFuc3dlckJsb2NrcywgY29tcGxldGVkTGVzc29ucywgc2Vzc2lvbj8udXNlcj8udXNlcm5hbWUsIGNvdXJzZUlkXSk7XG5cbiAgLy8gRWFybHkgUmV0dXJucyBqZXR6dCBOQUNIIGFsbGVuIEhvb2tzXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gbXQtMTAgcC02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiBpbmxpbmUtYmxvY2sgdy04IGgtOCBib3JkZXItNCBib3JkZXItY3VycmVudCBib3JkZXItdC10cmFuc3BhcmVudCB0ZXh0LWJsdWUtNjAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1ncmF5LTYwMFwiPkxla3Rpb24gd2lyZCBnZWxhZGVuLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIWxlc3Nvbikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNiBiZy13aGl0ZSByb3VuZGVkIHNoYWRvd1wiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1yZWQtNjAwXCI+TGVrdGlvbiBuaWNodCBnZWZ1bmRlbjwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbXQtMlwiPkRpZSBhbmdlZm9yZGVydGUgTGVrdGlvbiBrb25udGUgbmljaHQgZ2VsYWRlbiB3ZXJkZW4uPC9wPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAva3Vycy8ke2NvdXJzZUlkfWApfSBjbGFzc05hbWU9XCJtdC00IHRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lXCI+4oaQIFp1csO8Y2sgenVtIEt1cnM8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCB0b3RhbFF1ZXN0aW9ucyA9IGxlc3Nvbi5xdWVzdGlvbnM/Lmxlbmd0aCB8fCAwO1xuICBjb25zdCBwcm9ncmVzcyA9IHRvdGFsUXVlc3Rpb25zID4gMCA/IChtYXN0ZXJlZC5zaXplIC8gdG90YWxRdWVzdGlvbnMpICogMTAwIDogMDtcbiAgY29uc3QgY3VycmVudFF1ZXN0aW9uID0gbGVzc29uLnF1ZXN0aW9ucyAmJiBxdWVzdGlvblF1ZXVlLmxlbmd0aCA+IDAgPyBsZXNzb24ucXVlc3Rpb25zW3F1ZXN0aW9uUXVldWVbMF1dIDogdW5kZWZpbmVkO1xuXG4gIC8vIFZvcmJlcmVjaG5ldGUga29ycmVrdGUgQW50d29ydGVuIChub3JtYWxpc2llcnQpIGbDvHIgQW56ZWlnZS9DaGVja3NcbiAgY29uc3QgY29ycmVjdExpc3ROb3JtYWxpemVkID0gKGN1cnJlbnRRdWVzdGlvbiAmJiAoQXJyYXkuaXNBcnJheShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMpICYmIGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vycy5sZW5ndGhcbiAgICA/IGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vyc1xuICAgIDogKGN1cnJlbnRRdWVzdGlvbj8uY29ycmVjdEFuc3dlciA/IFtjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcl0gOiBbXSkpLm1hcChub3JtKSkgfHwgW107XG5cbiAgLy8gU25ha2UgZnLDvGhlIFLDvGNrZ2FiZVxuICAvLyBMb2NrLVJlZGlyZWN0IGJlaSBsaW5lYXJlciBQcm9ncmVzc2lvbjogd2VubiB2b3JoZXJpZ2UgTGVrdGlvbiBuaWNodCBhYmdlc2NobG9zc2VuXG4gIGlmIChsZXNzb24gJiYgcHJvZ3Jlc3Npb25Nb2RlID09PSAnbGluZWFyJykge1xuICAgIGNvbnN0IGluZGV4ID0gYWxsTGVzc29ucy5maW5kSW5kZXgobCA9PiAobCBhcyBhbnkpLl9pZCA9PT0gbGVzc29uLl9pZCB8fCAobCBhcyBhbnkpLmlkID09PSBsZXNzb24uX2lkKTtcbiAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBwcmV2ID0gYWxsTGVzc29uc1tpbmRleCAtIDFdO1xuICAgICAgY29uc3QgcHJldklkID0gKHByZXYgYXMgYW55KS5faWQgfHwgKHByZXYgYXMgYW55KS5pZDtcbiAgICAgIGlmIChwcmV2SWQgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMocHJldklkKSkge1xuICAgICAgICAvLyByZWRpcmVjdCB6dXLDvGNrIGF1ZiBLdXJzc2VpdGVcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcm91dGVyLnJlcGxhY2UoYC9rdXJzLyR7Y291cnNlSWR9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobGVzc29uICYmIGlzU25ha2UpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBtdC0xMCBwLTZcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2t1cnMvJHtjb3Vyc2VJZH1gKX0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUgbWItNFwiPuKGkCBadXLDvGNrIHp1bSBLdXJzPC9idXR0b24+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNlwiPntsZXNzb24udGl0bGV9PC9oMT5cbiAgICAgICAgPFNuYWtlR2FtZSBsZXNzb249e2xlc3Nvbn0gY291cnNlSWQ9e2NvdXJzZUlkfSBjb21wbGV0ZWRMZXNzb25zPXtjb21wbGV0ZWRMZXNzb25zfSBzZXRDb21wbGV0ZWRMZXNzb25zPXtzZXRDb21wbGV0ZWRMZXNzb25zfSAvPlxuICA8TGVzc29uRm9vdGVyTmF2aWdhdGlvbiBhbGxMZXNzb25zPXthbGxMZXNzb25zfSBjdXJyZW50TGVzc29uSWQ9e2xlc3NvbklkfSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHByb2dyZXNzaW9uTW9kZT17cHJvZ3Jlc3Npb25Nb2RlfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFJlbmRlciBmw7xyIE1hcmtkb3duLUxla3Rpb25cbiAgaWYgKGlzTWFya2Rvd24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBtdC0xMCBwLTZcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2t1cnMvJHtjb3Vyc2VJZH1gKX0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUgbWItNFwiPuKGkCBadXLDvGNrIHp1bSBLdXJzPC9idXR0b24+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNlwiPntsZXNzb24udGl0bGV9PC9oMT5cbiAgICAgICAgPE1hcmtkb3duTGVzc29uIGxlc3Nvbj17bGVzc29ufSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHNldENvbXBsZXRlZExlc3NvbnM9e3NldENvbXBsZXRlZExlc3NvbnN9IHNlc3Npb25Vc2VybmFtZT17c2Vzc2lvbj8udXNlcj8udXNlcm5hbWV9IC8+XG4gIDxMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIGFsbExlc3NvbnM9e2FsbExlc3NvbnN9IGN1cnJlbnRMZXNzb25JZD17bGVzc29uSWR9IGNvdXJzZUlkPXtjb3Vyc2VJZH0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gcHJvZ3Jlc3Npb25Nb2RlPXtwcm9ncmVzc2lvbk1vZGV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgaXNNdWx0aXBsZSA9IGxlc3Nvbi50eXBlID09PSAnbXVsdGlwbGUtY2hvaWNlJztcbiAgY29uc3QgaXNNYXRjaGluZyA9IGxlc3Nvbi50eXBlID09PSAnbWF0Y2hpbmcnO1xuICBjb25zdCBoYXNNZW1vcnlQYWlycyA9ICEhKGxlc3Nvbi5jb250ZW50ICYmIChsZXNzb24uY29udGVudCBhcyBhbnkpLnBhaXJzICYmIEFycmF5LmlzQXJyYXkoKGxlc3Nvbi5jb250ZW50IGFzIGFueSkucGFpcnMpKTtcbiAgY29uc3QgZWZmZWN0aXZlVHlwZSA9IGxlc3Nvbi50eXBlID09PSAnbWVtb3J5JyB8fCAobGVzc29uLnR5cGUgPT09ICdtYXRjaGluZycgJiYgaGFzTWVtb3J5UGFpcnMpID8gJ21lbW9yeScgOiBsZXNzb24udHlwZTtcbiAgY29uc3QgaXNNZW1vcnkgPSBlZmZlY3RpdmVUeXBlID09PSAnbWVtb3J5JztcblxuICByZXR1cm4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNlwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02XCI+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9rdXJzLyR7Y291cnNlSWR9YCl9IGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIG1iLTRcIj7ihpAgWnVyw7xjayB6dW0gS3VyczwvYnV0dG9uPlxuICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIG1iLTJcIj57bGVzc29uLnRpdGxlfTwvaDE+XG4gIHshaXNWaWRlbyAmJiAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBoLTJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCBoLTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMFwiIHN0eWxlPXt7IHdpZHRoOiBgJHtwcm9ncmVzc30lYCB9fSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbXQtMVwiPkZvcnRzY2hyaXR0OiB7bWFzdGVyZWQuc2l6ZX0gLyB7dG90YWxRdWVzdGlvbnN9IGdlbWVpc3RlcnQ8L3A+XG4gICAgICAgICAgPC8+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC04XCI+XG4gICAgICAgIHtpc1ZpZGVvID8gKFxuICAgICAgICAgIDxZb3VUdWJlTGVzc29uIGxlc3Nvbj17bGVzc29ufSBvbkNvbXBsZXRlZD17bWFya1ZpZGVvQ29tcGxldGVkfSAvPlxuICAgICAgICApIDogZWZmZWN0aXZlVHlwZSA9PT0gJ21lbW9yeScgPyAoXG4gICAgICAgICAgPE1lbW9yeUdhbWUgbGVzc29uPXt7IC4uLmxlc3NvbiwgdHlwZTogJ21lbW9yeScgfX0gb25Db21wbGV0ZWQ9eygpID0+IHsgc2V0SXNDb3JyZWN0KHRydWUpOyBzZXRTaG93UmVzdWx0KHRydWUpOyBzZXRDb21wbGV0ZWQodHJ1ZSk7IH19IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IC8+XG4gICAgICAgICkgOiBjdXJyZW50UXVlc3Rpb24gPyAoXG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNlwiPntjdXJyZW50UXVlc3Rpb24ucXVlc3Rpb259PC9oMj5cbiAgICAgICAgICAgIHsvKiBNZWRpYSAqL31cbiAgICAgICAgICAgIHshaXNNYXRjaGluZyAmJiBjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IHAtNCBiZy1ncmF5LTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICB7Y3VycmVudFF1ZXN0aW9uLm1lZGlhTGluay5tYXRjaCgvXFwuKGpwZ3xqcGVnfHBuZ3xnaWZ8d2VicCkkL2kpID8gKFxuICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEBuZXh0L25leHQvbm8taW1nLWVsZW1lbnRcbiAgICAgICAgICAgICAgICAgIDxpbWcgXG4gICAgICAgICAgICAgICAgICAgIHNyYz17Y3VycmVudFF1ZXN0aW9uLm1lZGlhTGlua30gXG4gICAgICAgICAgICAgICAgICAgIGFsdD1cIkZyYWdlIEJpbGRcIiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWF4LXctZnVsbCBtYXgtaC02NCBvYmplY3QtY29udGFpbiBteC1hdXRvIGJvcmRlciByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSA6IGN1cnJlbnRRdWVzdGlvbi5tZWRpYUxpbmsubWF0Y2goL1xcLihtcDN8d2F2fG9nZ3xtNGEpJC9pKSA/IChcbiAgICAgICAgICAgICAgICAgIDxhdWRpbyBjb250cm9scyBjbGFzc05hbWU9XCJ3LWZ1bGwgbWF4LXctbWQgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICA8c291cmNlIHNyYz17Y3VycmVudFF1ZXN0aW9uLm1lZGlhTGlua30gLz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIHRleHQtc21cIj5BdWRpbyB3aXJkIHZvbSBCcm93c2VyIG5pY2h0IHVudGVyc3TDvHR6dDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvYXVkaW8+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxhIFxuICAgICAgICAgICAgICAgICAgICBocmVmPXtjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rfSBcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCIgXG4gICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBicmVhay1hbGxcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDwn5OOIHtjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rfVxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIE1hdGNoaW5nIFVJICovfVxuICAgICAgICAgICAge2lzTWF0Y2hpbmcgPyAoXG4gICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPE1hdGNoaW5nVUlcbiAgICAgICAgICAgICAgICAgIHF1ZXN0aW9uPXtjdXJyZW50UXVlc3Rpb259XG4gICAgICAgICAgICAgICAgICBvblNvbHZlZD17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0NvcnJlY3QodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFNob3dSZXN1bHQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge3Nob3dSZXN1bHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMyBtdC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlTmV4dFF1ZXN0aW9ufSBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSBweC01IHB5LTIgcm91bmRlZCBob3ZlcjpiZy1ncmVlbi03MDBcIj5XZWl0ZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyZWVuLTcwMFwiPkFsbGUgUGFhcmUga29ycmVrdCB2ZXJidW5kZW4hPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBtYi02XCI+XG4gICAgICAgICAgICAgICAge2lzTXVsdGlwbGUgPyAoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UXVlc3Rpb24uYWxsQW5zd2Vycy5tYXAoKGFuc3dlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkQW5zd2Vycy5pbmNsdWRlcyhhbnN3ZXIpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc0NvcnJlY3RBbnMgPSBjb3JyZWN0TGlzdE5vcm1hbGl6ZWQuaW5jbHVkZXMobm9ybShhbnN3ZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJ1dHRvbkNsYXNzID0gXCJ3LWZ1bGwgcC00IHRleHQtbGVmdCBib3JkZXItMiByb3VuZGVkLWxnIHRyYW5zaXRpb24tYWxsIFwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0NvcnJlY3RBbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzICs9IFwiYm9yZGVyLWdyZWVuLTUwMCBiZy1ncmVlbi01MCB0ZXh0LWdyZWVuLTgwMFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNTZWxlY3RlZCAmJiAhaXNDb3JyZWN0QW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1yZWQtNTAwIGJnLXJlZC01MCB0ZXh0LXJlZC04MDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3MgKz0gXCJib3JkZXItZ3JheS0yMDAgYmctZ3JheS01MCB0ZXh0LWdyYXktNjAwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1ibHVlLTUwMCBiZy1ibHVlLTUwIHRleHQtYmx1ZS04MDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3MgKz0gXCJib3JkZXItZ3JheS0yMDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwIGhvdmVyOmJnLWdyYXktNTBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQW5zd2VyU2VsZWN0KGFuc3dlcil9XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17c2hvd1Jlc3VsdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YnV0dG9uQ2xhc3N9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpbmRleCl9KSB7YW5zd2VyfVxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgY3VycmVudFF1ZXN0aW9uLmFsbEFuc3dlcnMubWFwKChhbnN3ZXIsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFuc3dlclNlbGVjdChhbnN3ZXIpfVxuICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzaG93UmVzdWx0fVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctZnVsbCBwLTQgdGV4dC1sZWZ0IGJvcmRlci0yIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQW5zd2VyID09PSBhbnN3ZXIgPyAnYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgdGV4dC1ibHVlLTgwMCcgOiAnYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTUwJ1xuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpbmRleCl9KSB7YW5zd2VyfVxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogQ29udHJvbHMgKi99XG4gICAgICAgICAgICB7IWlzTWF0Y2hpbmcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG10LTRcIj5cbiAgICAgICAgICAgICAgICB7aXNNdWx0aXBsZSAmJiAhc2hvd1Jlc3VsdCA/IChcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlQ2hlY2tNdWx0aXBsZX0gY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweC01IHB5LTIgcm91bmRlZCBob3ZlcjpiZy1ibHVlLTcwMFwiPkFudHdvcnQgcHLDvGZlbjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICBzaG93UmVzdWx0ID8gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2hhbmRsZU5leHRRdWVzdGlvbn0gY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcHgtNSBweS0yIHJvdW5kZWQgaG92ZXI6YmctZ3JlZW4tNzAwXCI+V2VpdGVyPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApIDogbnVsbFxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge3Nob3dSZXN1bHQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtgdGV4dC1zbSBmb250LW1lZGl1bSAke2lzQ29ycmVjdCA/ICd0ZXh0LWdyZWVuLTcwMCcgOiAndGV4dC1yZWQtNzAwJ31gfT5cbiAgICAgICAgICAgICAgICAgICAge2lzQ29ycmVjdCA/ICdSaWNodGlnIScgOiAnTGVpZGVyIGZhbHNjaC4nfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8cD5LZWluZSBGcmFnZSB2b3JoYW5kZW4uPC9wPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBGb290ZXIgTmF2aWdhdGlvbiAqL31cbiAgPExlc3NvbkZvb3Rlck5hdmlnYXRpb24gYWxsTGVzc29ucz17YWxsTGVzc29uc30gY3VycmVudExlc3NvbklkPXtsZXNzb25JZH0gY291cnNlSWQ9e2NvdXJzZUlkfSBjb21wbGV0ZWRMZXNzb25zPXtjb21wbGV0ZWRMZXNzb25zfSBwcm9ncmVzc2lvbk1vZGU9e3Byb2dyZXNzaW9uTW9kZX0gLz5cbiAgICAgIHtpc01lbW9yeSAmJiBjb21wbGV0ZWQgJiYgPGRpdiBjbGFzc05hbWU9XCJtdC02IHRleHQtZ3JlZW4tNzAwIGZvbnQtbWVkaXVtXCI+4pyU77iPIE1lbW9yeSBhYmdlc2NobG9zc2VuITwvZGl2Pn1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuLy8gQ2xpZW50LUtvbXBvbmVudGUgZsO8ciBNYXJrZG93biBSZW5kZXJpbmdcbi8vIE1hdGNoaW5nVUkgamV0enQgYXVzZ2VsYWdlcnRcblxuLy8gT3JkZXJpbmdQbGF5ZXIgdW5kIEx1ZWNrZW50ZXh0UGxheWVyIGF1c2dlbGFnZXJ0XG4iXSwibmFtZXMiOlsidXNlUGFyYW1zIiwidXNlUm91dGVyIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJ1c2VTZXNzaW9uIiwiTWFya2Rvd25MZXNzb24iLCJZb3VUdWJlTGVzc29uIiwiTWVtb3J5R2FtZSIsIk1hdGNoaW5nVUkiLCJMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIiwiU25ha2VHYW1lIiwiZmluYWxpemVMZXNzb24iLCJMZXNzb25QYWdlIiwibGVzc29uIiwic2Vzc2lvbiIsInBhcmFtcyIsInJvdXRlciIsImNvdXJzZUlkIiwibGVzc29uSWQiLCJkYXRhIiwic2V0TGVzc29uIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRDdXJyZW50UXVlc3Rpb25JbmRleCIsInF1ZXN0aW9uUXVldWUiLCJzZXRRdWVzdGlvblF1ZXVlIiwibWFzdGVyZWQiLCJzZXRNYXN0ZXJlZCIsIlNldCIsIm1hcmtpbmciLCJzZXRNYXJraW5nIiwic2VsZWN0ZWRBbnN3ZXIiLCJzZXRTZWxlY3RlZEFuc3dlciIsInNlbGVjdGVkQW5zd2VycyIsInNldFNlbGVjdGVkQW5zd2VycyIsInNob3dSZXN1bHQiLCJzZXRTaG93UmVzdWx0IiwiaXNDb3JyZWN0Iiwic2V0SXNDb3JyZWN0Iiwic2NvcmUiLCJzZXRTY29yZSIsImNvbXBsZXRlZCIsInNldENvbXBsZXRlZCIsImFsbExlc3NvbnMiLCJzZXRBbGxMZXNzb25zIiwicHJvZ3Jlc3Npb25Nb2RlIiwic2V0UHJvZ3Jlc3Npb25Nb2RlIiwiY29tcGxldGVkTGVzc29ucyIsInNldENvbXBsZXRlZExlc3NvbnMiLCJsdEFuc3dlcnNTdGF0ZSIsInNldEx0QW5zd2Vyc1N0YXRlIiwibHRDaGVja2VkIiwic2V0THRDaGVja2VkIiwibHRDb3JyZWN0QWxsIiwic2V0THRDb3JyZWN0QWxsIiwibHRVc2VkQW5zd2VycyIsInNldEx0VXNlZEFuc3dlcnMiLCJsdEZvY3VzR2FwIiwic2V0THRGb2N1c0dhcCIsImx0TWFza2VkIiwidHlwZSIsIlN0cmluZyIsImNvbnRlbnQiLCJtYXJrZG93bk1hc2tlZCIsImx0R2FwcyIsIkFycmF5IiwiaXNBcnJheSIsImdhcHMiLCJtYXAiLCJnIiwiaWQiLCJhbnN3ZXIiLCJsdE1vZGUiLCJtb2RlIiwibHRQYXJ0cyIsInNwbGl0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImx0QmFuayIsInNodWZmbGUiLCJhcnIiLCJ2IiwiTWF0aCIsInJhbmRvbSIsInNvcnQiLCJhIiwiYiIsIl9pZCIsImxvYWRMZXNzb24iLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJwYXlsb2FkIiwianNvbiIsImxlc3NvbkFycmF5IiwibGVzc29ucyIsImNvdXJzZSIsImZvdW5kTGVzc29uIiwiZmluZCIsImwiLCJ0b3RhbCIsInF1ZXN0aW9ucyIsImxlbmd0aCIsImZyb20iLCJfIiwiaSIsImNvbXBsZXRlZEtleSIsImluUHJvZ3Jlc3NLZXkiLCJjb21wbGV0ZWRTdG9yZWQiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZm91bmRJZCIsImluY2x1ZGVzIiwiaW5Qcm9nIiwidXBkYXRlZCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJlcnJvciIsImNvbnNvbGUiLCJEYXRlIiwibm93Iiwibm9ybSIsInMiLCJ0cmltIiwiaGFuZGxlQW5zd2VyU2VsZWN0IiwicHJldiIsImN1cnJlbnRRdWVzdGlvbiIsImNvcnJlY3QiLCJjb3JyZWN0QW5zd2VyIiwiaGFzIiwiaGFuZGxlQ2hlY2tNdWx0aXBsZSIsImNvcnJlY3RMaXN0IiwiY29ycmVjdEFuc3dlcnMiLCJzZWxOb3JtIiwiaXNTZXRFcXVhbCIsImV2ZXJ5IiwidGV4dEFuc3dlcklucHV0Iiwic2V0VGV4dEFuc3dlcklucHV0IiwidGV4dEFuc3dlckZlZWRiYWNrIiwic2V0VGV4dEFuc3dlckZlZWRiYWNrIiwidGV4dEFuc3dlclF1ZXVlIiwic2V0VGV4dEFuc3dlclF1ZXVlIiwidGV4dEFuc3dlclNvbHZlZCIsInNldFRleHRBbnN3ZXJTb2x2ZWQiLCJ0ZXh0QW5zd2VyUmV2ZWFsZWQiLCJzZXRUZXh0QW5zd2VyUmV2ZWFsZWQiLCJ0ZXh0QW5zd2VyUmV2ZWFsUm91bmQiLCJzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmQiLCJ0ZXh0QW5zd2VyUm91bmQiLCJzZXRUZXh0QW5zd2VyUm91bmQiLCJ0ZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4Iiwic2V0VGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCIsInRleHRBbnN3ZXJCbG9ja3MiLCJjIiwiYmxvY2tzIiwicXVlc3Rpb24iLCJhbnN3ZXJzIiwibWVkaWEiLCJzdWJtaXRUZXh0QW5zd2VyIiwiY2FzZVNlbnNpdGl2ZSIsIm5vcm1hbGl6ZSIsInRvTG93ZXJDYXNlIiwiY3VycmVudEluZGV4IiwiY3VycmVudCIsInVzZXJOb3JtIiwiY29ycmVjdE5vcm1zIiwic2V0VGltZW91dCIsImFkZCIsInNsaWNlIiwicmV2ZWFsQ3VycmVudFRleHRBbnN3ZXIiLCJpZHgiLCJhZHZhbmNlQWZ0ZXJSZXZlYWwiLCJzaXplIiwicmVtYWluaW5nIiwiciIsInVzZXJuYW1lIiwidXNlciIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiZWFybmVkU3RhciIsImNhdGNoIiwic3RvcmVkIiwiZSIsImhhbmRsZU5leHRRdWVzdGlvbiIsImN1cnJlbnRJZHgiLCJuZXdRdWV1ZSIsIm5ld01hc3RlcmVkIiwic2hpZnQiLCJoYW5kbGVSZXRyeSIsImtleSIsImlzTWFya2Rvd24iLCJtYXJrZG93biIsImlzVmlkZW8iLCJpc0x1ZWNrZW50ZXh0IiwiaXNPcmRlcmluZyIsImlzU25ha2UiLCJtYXJrVmlkZW9Db21wbGV0ZWQiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwicHVzaCIsInRvdGFsUXVlc3Rpb25zIiwicHJvZ3Jlc3MiLCJ1bmRlZmluZWQiLCJjb3JyZWN0TGlzdE5vcm1hbGl6ZWQiLCJpbmRleCIsImZpbmRJbmRleCIsInByZXZJZCIsInJlcGxhY2UiLCJoMSIsInRpdGxlIiwiY3VycmVudExlc3NvbklkIiwic2Vzc2lvblVzZXJuYW1lIiwiaXNNdWx0aXBsZSIsImlzTWF0Y2hpbmciLCJoYXNNZW1vcnlQYWlycyIsInBhaXJzIiwiZWZmZWN0aXZlVHlwZSIsImlzTWVtb3J5Iiwic3R5bGUiLCJ3aWR0aCIsIm9uQ29tcGxldGVkIiwibWVkaWFMaW5rIiwibWF0Y2giLCJpbWciLCJzcmMiLCJhbHQiLCJhdWRpbyIsImNvbnRyb2xzIiwic291cmNlIiwiaHJlZiIsInRhcmdldCIsInJlbCIsIm9uU29sdmVkIiwic3BhbiIsImFsbEFuc3dlcnMiLCJpc1NlbGVjdGVkIiwiaXNDb3JyZWN0QW5zIiwiYnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsImZyb21DaGFyQ29kZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx\n"));

/***/ })

});