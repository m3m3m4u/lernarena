"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/kurs/[courseId]/lektion/[lessonId]/page",{

/***/ "(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx":
/*!*************************************************************!*\
  !*** ./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LessonPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!react */ \"(app-pages-browser)/__barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../components/lessonTypes */ \"(app-pages-browser)/./src/components/lessonTypes/index.ts\");\n/* harmony import */ var _lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../lib/lessonCompletion */ \"(app-pages-browser)/./src/lib/lessonCompletion.ts\");\n/* harmony import */ var _lib_media__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../lib/media */ \"(app-pages-browser)/./src/lib/media.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n// Ausgelagerte Lektionstyp-Komponenten (schrittweises Refactoring)\n\n\n\nfunction LessonPage() {\n    var _lesson_content, _session_user, _lesson_content1, _session_user1, _session_user2, _lesson_questions;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const courseId = params.courseId;\n    const lessonId = params.lessonId;\n    const { data: session } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession)();\n    const [lesson, setLesson] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [loading, setLoading] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [, setCurrentQuestionIndex] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0); // DEPRECATED (für alte Logik)\n    const [questionQueue, setQuestionQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Reihenfolge offener Fragen\n    const [mastered, setMastered] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // korrekt beantwortete Fragen\n    const [marking, setMarking] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false); // Server-Update Status\n    const [selectedAnswer, setSelectedAnswer] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Neu: Auswahl für Multiple-Choice\n    const [selectedAnswers, setSelectedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [showResult, setShowResult] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isCorrect, setIsCorrect] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [score, setScore] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [completed, setCompleted] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [allLessons, setAllLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // für Footer-Navigation\n    const [progressionMode, setProgressionMode] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('free');\n    const [completedLessons, setCompletedLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // erledigte Lektionen\n    // Wohin zurück? Kurs oder Übungsmenü\n    const [backHref, setBackHref] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"/kurs/\".concat(courseId));\n    // Lückentext States (immer aufrufen, nicht konditional)\n    const [ltAnswersState, setLtAnswersState] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [ltChecked, setLtChecked] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltCorrectAll, setLtCorrectAll] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltUsedAnswers, setLtUsedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [ltFocusGap, setLtFocusGap] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Lückentext derived Daten (immer Hooks gleich halten)\n    const ltMasked = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltMasked]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? String((lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.markdownMasked) || '') : '';\n        }\n    }[\"LessonPage.useMemo[ltMasked]\"], [\n        lesson\n    ]);\n    const ltGaps = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltGaps]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? Array.isArray(lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.gaps) ? (lesson === null || lesson === void 0 ? void 0 : lesson.content).gaps.map({\n                \"LessonPage.useMemo[ltGaps]\": (g)=>({\n                        id: g.id,\n                        answer: String(g.answer)\n                    })\n            }[\"LessonPage.useMemo[ltGaps]\"]) : [] : [];\n        }\n    }[\"LessonPage.useMemo[ltGaps]\"], [\n        lesson\n    ]);\n    const ltMode = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' && (lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.mode) === 'drag' ? 'drag' : 'input';\n    const ltParts = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltParts]\": ()=>ltMasked ? ltMasked.split(/(___\\d+___)/g).filter(Boolean) : []\n    }[\"LessonPage.useMemo[ltParts]\"], [\n        ltMasked\n    ]);\n    const ltBank = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltBank]\": ()=>{\n            if (ltMode !== 'drag') return [];\n            const shuffle = {\n                \"LessonPage.useMemo[ltBank].shuffle\": (arr)=>arr.map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (v)=>[\n                                Math.random(),\n                                v\n                            ]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).sort({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (a, b)=>a[0] - b[0]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (param)=>{\n                            let [, v] = param;\n                            return v;\n                        }\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"])\n            }[\"LessonPage.useMemo[ltBank].shuffle\"];\n            return shuffle(ltGaps.map({\n                \"LessonPage.useMemo[ltBank]\": (g)=>g.answer\n            }[\"LessonPage.useMemo[ltBank]\"]));\n        }\n    }[\"LessonPage.useMemo[ltBank]\"], [\n        ltMode,\n        ltGaps\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // Reset bei Lektionstyp-Wechsel\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext') {\n                setLtAnswersState({});\n                setLtChecked(false);\n                setLtCorrectAll(false);\n                setLtUsedAnswers([]);\n                setLtFocusGap(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type\n    ]);\n    const loadLesson = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[loadLesson]\": async ()=>{\n            try {\n                const response = await fetch(\"/api/kurs/\".concat(courseId, \"/lektionen\"));\n                if (response.ok) {\n                    const payload = await response.json();\n                    const lessonArray = Array.isArray(payload) ? payload : payload.lessons || [];\n                    setAllLessons(lessonArray);\n                    // progressionMode vom Kurs laden (jetzt meist in der Antwort enthalten)\n                    if (payload.course && payload.course.progressionMode) {\n                        setProgressionMode(payload.course.progressionMode === 'linear' ? 'linear' : 'free');\n                    } else {\n                        setProgressionMode('free');\n                    }\n                    // Back-Ziel bestimmen: wenn exercise-pool oder kein echter Kurs -> /ueben\n                    const isExercisePool = String(courseId) === 'exercise-pool';\n                    const hasRealCourse = !!(payload.course && (payload.course._id || payload.course.id || payload.course.key));\n                    setBackHref(isExercisePool || !hasRealCourse ? '/ueben' : \"/kurs/\".concat(courseId));\n                    let foundLesson = lessonArray.find({\n                        \"LessonPage.useCallback[loadLesson].foundLesson\": (l)=>l._id === lessonId || l.id === lessonId\n                    }[\"LessonPage.useCallback[loadLesson].foundLesson\"]);\n                    if (!foundLesson) {\n                        // Fallback: Direkt über globalen Endpoint laden (für exercise-pool oder abweichende Organisation)\n                        try {\n                            const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                            if (lr.ok) {\n                                const ld = await lr.json();\n                                if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                                    foundLesson = ld.lesson;\n                                    setAllLessons([\n                                        ld.lesson\n                                    ]);\n                                    setBackHref('/ueben');\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                    if (foundLesson) setLesson(foundLesson);\n                    if (foundLesson) {\n                        var _foundLesson_questions;\n                        // Initial Queue setzen\n                        const total = ((_foundLesson_questions = foundLesson.questions) === null || _foundLesson_questions === void 0 ? void 0 : _foundLesson_questions.length) || 0;\n                        setQuestionQueue(Array.from({\n                            length: total\n                        }, {\n                            \"LessonPage.useCallback[loadLesson]\": (_, i)=>i\n                        }[\"LessonPage.useCallback[loadLesson]\"]));\n                        setMastered(new Set());\n                        setScore(0);\n                        setCompleted(false);\n                        setCurrentQuestionIndex(0); // legacy\n                        // In-Progress markieren falls noch nicht abgeschlossen\n                        try {\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            const completedStored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                            const foundId = foundLesson._id || foundLesson.id;\n                            if (foundId && !completedStored.includes(foundId)) {\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (!inProg.includes(foundId)) {\n                                    const updated = [\n                                        ...inProg,\n                                        foundId\n                                    ];\n                                    localStorage.setItem(inProgressKey, JSON.stringify(updated));\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                } else {\n                    // Harte Fallback-Strategie: direkt per ID laden (z. B. exercise-pool oder Kurs-Fetch-Problem)\n                    try {\n                        const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                        if (lr.ok) {\n                            const ld = await lr.json();\n                            if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                                setLesson(ld.lesson);\n                                setAllLessons([\n                                    ld.lesson\n                                ]);\n                                setProgressionMode('free');\n                                setBackHref('/ueben');\n                            }\n                        }\n                    } catch (e) {}\n                }\n                setLoading(false);\n            } catch (error) {\n                console.error('Fehler beim Laden der Lektion:', error);\n                // Letzter Versuch: Direkt per ID\n                try {\n                    const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                    if (lr.ok) {\n                        const ld = await lr.json();\n                        if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                            setLesson(ld.lesson);\n                            setAllLessons([\n                                ld.lesson\n                            ]);\n                            setProgressionMode('free');\n                            setBackHref('/ueben');\n                        }\n                    }\n                } catch (e) {}\n                setLoading(false);\n            }\n        }\n    }[\"LessonPage.useCallback[loadLesson]\"], [\n        courseId,\n        lessonId\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            loadLesson();\n        }\n    }[\"LessonPage.useEffect\"], [\n        loadLesson\n    ]);\n    // Zuletzt weitergemacht (für Dashboard): beim Öffnen merken\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            try {\n                if (courseId) localStorage.setItem('last:courseId', String(courseId));\n                if (lessonId) localStorage.setItem('last:lessonId', String(lessonId));\n                if (courseId) localStorage.setItem(\"course:\".concat(courseId, \":lastTouched\"), String(Date.now()));\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId,\n        lessonId\n    ]);\n    // Helper zum Normalisieren von Antworten (früher vorhanden, wiederhergestellt)\n    const norm = (s)=>typeof s === 'string' ? s.trim() : String(s !== null && s !== void 0 ? s : '');\n    const handleAnswerSelect = (answer)=>{\n        if (showResult) return;\n        if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'multiple-choice') {\n            setSelectedAnswers((prev)=>prev.includes(answer) ? prev.filter((a)=>a !== answer) : [\n                    ...prev,\n                    answer\n                ]);\n            return;\n        }\n        setSelectedAnswer(answer);\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correct = norm(answer) === norm(currentQuestion.correctAnswer);\n        setIsCorrect(correct);\n        setShowResult(true);\n        if (correct && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    const handleCheckMultiple = ()=>{\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correctList = (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : currentQuestion.correctAnswer ? [\n            currentQuestion.correctAnswer\n        ] : []).map(norm);\n        const selNorm = selectedAnswers.map(norm);\n        const isSetEqual = selNorm.length === correctList.length && correctList.every((a)=>selNorm.includes(a));\n        setIsCorrect(isSetEqual);\n        setShowResult(true);\n        if (isSetEqual && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    // Multi Text-Antwort States\n    const [textAnswerInput, setTextAnswerInput] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [textAnswerFeedback, setTextAnswerFeedback] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [textAnswerQueue, setTextAnswerQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Index-Reihenfolge der noch offenen Blöcke\n    const [textAnswerSolved, setTextAnswerSolved] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n    const [textAnswerRevealed, setTextAnswerRevealed] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // Gesamt-Flag (Analytics)\n    const [textAnswerRevealRound, setTextAnswerRevealRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({}); // index -> Runde\n    const [textAnswerRound, setTextAnswerRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    const [textAnswerJustRevealedIdx, setTextAnswerJustRevealedIdx] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const textAnswerBlocks = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[textAnswerBlocks]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return [];\n            const c = lesson.content || {};\n            if (Array.isArray(c.blocks)) {\n                return c.blocks.filter({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>b && typeof b.question === 'string' && Array.isArray(b.answers) && b.answers.length > 0\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]).map({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>({\n                            question: String(b.question),\n                            answers: b.answers.map({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>String(a)\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]).filter({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>a.length > 0\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]),\n                            media: b.media && String(b.media)\n                        })\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]);\n            }\n            if (c.question && c.answer) return [\n                {\n                    question: String(c.question),\n                    answers: [\n                        String(c.answer)\n                    ]\n                }\n            ];\n            return [];\n        }\n    }[\"LessonPage.useMemo[textAnswerBlocks]\"], [\n        lesson\n    ]);\n    // Initial Queue setzen wenn Blocks geladen\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer') {\n                setTextAnswerQueue(textAnswerBlocks.map({\n                    \"LessonPage.useEffect\": (_, i)=>i\n                }[\"LessonPage.useEffect\"]));\n                setTextAnswerSolved(new Set());\n                setTextAnswerRevealed(new Set());\n                setTextAnswerRound(1);\n                setTextAnswerRevealRound({});\n                setTextAnswerInput('');\n                setTextAnswerFeedback(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type,\n        textAnswerBlocks.length\n    ]);\n    const submitTextAnswer = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            if (!textAnswerBlocks.length || !textAnswerQueue.length) return;\n            const c = lesson.content || {};\n            const caseSensitive = !!c.caseSensitive;\n            const normalize = {\n                \"LessonPage.useCallback[submitTextAnswer].normalize\": (s)=>caseSensitive ? s.trim() : s.trim().toLowerCase()\n            }[\"LessonPage.useCallback[submitTextAnswer].normalize\"];\n            const currentIndex = textAnswerQueue[0];\n            const current = textAnswerBlocks[currentIndex];\n            const userNorm = normalize(textAnswerInput);\n            if (!userNorm) {\n                setTextAnswerFeedback('Bitte etwas eingeben.');\n                return;\n            }\n            const correctNorms = current.answers.map({\n                \"LessonPage.useCallback[submitTextAnswer].correctNorms\": (a)=>normalize(a)\n            }[\"LessonPage.useCallback[submitTextAnswer].correctNorms\"]);\n            if (correctNorms.includes(userNorm)) {\n                setTextAnswerFeedback('✅ Korrekt!');\n                setTimeout({\n                    \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n                        setTextAnswerSolved({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>new Set(prev).add(currentIndex)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                        setTextAnswerInput('');\n                        setTextAnswerFeedback(null);\n                        // Nächste Frage\n                        setTextAnswerQueue({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>prev.slice(1)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                    }\n                }[\"LessonPage.useCallback[submitTextAnswer]\"], 400);\n                return;\n            }\n            setTextAnswerFeedback('❌ Nicht korrekt.');\n        }\n    }[\"LessonPage.useCallback[submitTextAnswer]\"], [\n        lesson,\n        textAnswerBlocks,\n        textAnswerQueue,\n        textAnswerInput\n    ]);\n    const revealCurrentTextAnswer = ()=>{\n        if (!lesson || lesson.type !== 'text-answer') return;\n        if (!textAnswerQueue.length) return;\n        const idx = textAnswerQueue[0];\n        setTextAnswerRevealed((prev)=>new Set(prev).add(idx));\n        setTextAnswerRevealRound((prev)=>({\n                ...prev,\n                [idx]: textAnswerRound\n            }));\n        setTextAnswerFeedback('🛈 Antwort eingeblendet. Später erneut beantworten.');\n        setTextAnswerJustRevealedIdx(idx);\n        setTextAnswerInput('');\n    };\n    const advanceAfterReveal = ()=>{\n        if (textAnswerJustRevealedIdx == null) return;\n        setTextAnswerQueue((prev)=>prev[0] === textAnswerJustRevealedIdx ? prev.slice(1) : prev);\n        setTextAnswerJustRevealedIdx(null);\n        setTextAnswerFeedback(null);\n    };\n    // Wenn Queue leer aber noch nicht alle solved -> neue Runde mit nur ungelösten (reveal Fragen)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer' && textAnswerQueue.length === 0 && textAnswerBlocks.length) {\n                const total = textAnswerBlocks.length;\n                if (textAnswerSolved.size === total) {\n                    setCompleted(true);\n                } else {\n                    const remaining = textAnswerBlocks.map({\n                        \"LessonPage.useEffect.remaining\": (_, i)=>i\n                    }[\"LessonPage.useEffect.remaining\"]).filter({\n                        \"LessonPage.useEffect.remaining\": (i)=>!textAnswerSolved.has(i)\n                    }[\"LessonPage.useEffect.remaining\"]);\n                    setTextAnswerQueue(remaining);\n                    setTextAnswerRound({\n                        \"LessonPage.useEffect\": (r)=>r + 1\n                    }[\"LessonPage.useEffect\"]);\n                    setTextAnswerFeedback(null);\n                }\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        textAnswerQueue.length,\n        textAnswerSolved,\n        textAnswerBlocks,\n        lesson\n    ]);\n    // NEU: Abschluss + Stern für Text-Antwort Lektionen (bisher fehlte API-Aufruf)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                if (!username) return;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await fetch('/api/lesson/complete', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id,\n                                    courseId: lesson.courseId,\n                                    type: lesson.type,\n                                    earnedStar: true\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            await fetch('/api/progress', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            try {\n                                const stored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                                if (!stored.includes(lesson._id)) {\n                                    const updated = [\n                                        ...stored,\n                                        lesson._id\n                                    ];\n                                    localStorage.setItem(completedKey, JSON.stringify(updated));\n                                    setCompletedLessons(updated);\n                                }\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (Array.isArray(inProg) && inProg.includes(lesson._id)) {\n                                    localStorage.setItem(inProgressKey, JSON.stringify(inProg.filter({\n                                        \"LessonPage.useEffect\": (id)=>id !== lesson._id\n                                    }[\"LessonPage.useEffect\"])));\n                                }\n                            } catch (e) {}\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username,\n        courseId\n    ]);\n    // Wiederhergestellt: Fortschrittslogik nach Bewertung\n    const handleNextQuestion = ()=>{\n        if (!lesson || questionQueue.length === 0) return;\n        const currentIdx = questionQueue[0];\n        let newQueue = [\n            ...questionQueue\n        ];\n        if (isCorrect) {\n            if (!mastered.has(currentIdx)) {\n                const newMastered = new Set(mastered);\n                newMastered.add(currentIdx);\n                setMastered(newMastered);\n            }\n            newQueue.shift();\n        } else {\n            newQueue = [\n                ...newQueue.slice(1),\n                currentIdx\n            ];\n        }\n        setQuestionQueue(newQueue);\n        setSelectedAnswer(\"\");\n        setSelectedAnswers([]);\n        setShowResult(false);\n        if (newQueue.length === 0) {\n            setCompleted(true);\n            (async ()=>{\n                try {\n                    var _session_user;\n                    const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                    setMarking(true);\n                    await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                        username,\n                        lessonId: lesson._id,\n                        courseId: lesson.courseId,\n                        type: lesson.type,\n                        earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                    });\n                    setCompletedLessons((prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]);\n                } catch (e) {\n                    console.error('Abschließen fehlgeschlagen', e);\n                } finally{\n                    setMarking(false);\n                }\n            })();\n        } else {\n            setCurrentQuestionIndex(newQueue[0]);\n        }\n    };\n    const handleRetry = ()=>{\n        setCurrentQuestionIndex(0);\n        setSelectedAnswer(\"\");\n        setShowResult(false);\n        setScore(0);\n        setCompleted(false);\n        setSelectedAnswers([]);\n    };\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // erledigte Lektionen aus localStorage laden\n            const key = \"course:\".concat(courseId, \":completedLessons\");\n            try {\n                const stored = JSON.parse(localStorage.getItem(key) || '[]');\n                if (Array.isArray(stored)) setCompletedLessons(stored);\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId\n    ]);\n    // (Entfernt) früherer Effekt für generisches Speichern bei completed -> Logik jetzt in finalizeLesson Stellen zentralisiert\n    // Neu: Typen-Flags und Abschluss-Funktion für YouTube\n    const isMarkdown = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'markdown' && ((_lesson_content1 = lesson.content) === null || _lesson_content1 === void 0 ? void 0 : _lesson_content1.markdown);\n    const isVideo = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'video';\n    const isLueckentext = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext';\n    const isOrdering = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'ordering';\n    const isSnake = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'snake' || (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'minigame';\n    const markVideoCompleted = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[markVideoCompleted]\": async ()=>{\n            var _session_user;\n            const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n            if (!lesson) return;\n            if (completedLessons.includes(lesson._id)) return;\n            setMarking(true);\n            try {\n                await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                    username,\n                    lessonId: lesson._id,\n                    courseId: lesson.courseId,\n                    type: lesson.type,\n                    earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                });\n                setCompletedLessons({\n                    \"LessonPage.useCallback[markVideoCompleted]\": (prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]\n                }[\"LessonPage.useCallback[markVideoCompleted]\"]);\n            } catch (e) {\n                console.error('Video Abschluss fehlgeschlagen', e);\n            } finally{\n                setMarking(false);\n            }\n        }\n    }[\"LessonPage.useCallback[markVideoCompleted]\"], [\n        session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.username,\n        lesson,\n        completedLessons,\n        courseId\n    ]);\n    // Abschluss Text-Antwort Lektion (centralized)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                                username,\n                                lessonId: lesson._id,\n                                courseId: lesson.courseId,\n                                type: lesson.type,\n                                earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                            });\n                            setCompletedLessons({\n                                \"LessonPage.useEffect\": (prev)=>prev.includes(lesson._id) ? prev : [\n                                        ...prev,\n                                        lesson._id\n                                    ]\n                            }[\"LessonPage.useEffect\"]);\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user2 = session.user) === null || _session_user2 === void 0 ? void 0 : _session_user2.username,\n        courseId\n    ]);\n    // Early Returns jetzt NACH allen Hooks\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent text-blue-600 rounded-full\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 456,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-gray-600\",\n                        children: \"Lektion wird geladen...\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 457,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 455,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 454,\n            columnNumber: 7\n        }, this);\n    }\n    if (!lesson) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6 bg-white rounded shadow\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-xl font-bold text-red-600\",\n                    children: \"Lektion nicht gefunden\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 466,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-600 mt-2\",\n                    children: \"Die angeforderte Lektion konnte nicht geladen werden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 467,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(backHref),\n                    className: \"mt-4 text-blue-600 hover:underline\",\n                    children: [\n                        \"← \",\n                        backHref === '/ueben' ? 'Zurück zu Übungen' : 'Zurück zum Kurs'\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 468,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 465,\n            columnNumber: 7\n        }, this);\n    }\n    const totalQuestions = ((_lesson_questions = lesson.questions) === null || _lesson_questions === void 0 ? void 0 : _lesson_questions.length) || 0;\n    const progress = totalQuestions > 0 ? mastered.size / totalQuestions * 100 : 0;\n    const currentQuestion = lesson.questions && questionQueue.length > 0 ? lesson.questions[questionQueue[0]] : undefined;\n    const currentMedia = (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.mediaLink) ? (0,_lib_media__WEBPACK_IMPORTED_MODULE_6__.resolveMediaPath)(String(currentQuestion.mediaLink)) : '';\n    // Vorberechnete korrekte Antworten (normalisiert) für Anzeige/Checks\n    const correctListNormalized = currentQuestion && (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.correctAnswer) ? [\n        currentQuestion.correctAnswer\n    ] : []).map(norm) || [];\n    // Snake frühe Rückgabe\n    // Lock-Redirect bei linearer Progression: wenn vorherige Lektion nicht abgeschlossen\n    if (lesson && progressionMode === 'linear') {\n        const index = allLessons.findIndex((l)=>l._id === lesson._id || l.id === lesson._id);\n        if (index > 0) {\n            const prev = allLessons[index - 1];\n            const prevId = prev._id || prev.id;\n            if (prevId && !completedLessons.includes(prevId)) {\n                // redirect zurück auf Kursseite\n                if (true) {\n                    router.replace(\"/kurs/\".concat(courseId));\n                }\n            }\n        }\n    }\n    if (lesson && isSnake) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(backHref),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: [\n                        \"← \",\n                        backHref === '/ueben' ? 'Zurück zu Übungen' : 'Zurück zum Kurs'\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 501,\n                    columnNumber: 5\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 502,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.SnakeGame, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 503,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode,\n                    backHref: backHref\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 504,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 500,\n            columnNumber: 7\n        }, this);\n    }\n    // Render für Markdown-Lektion\n    if (isMarkdown) {\n        var _session_user3;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(backHref),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: [\n                        \"← \",\n                        backHref === '/ueben' ? 'Zurück zu Übungen' : 'Zurück zum Kurs'\n                    ]\n                }, void 0, true, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 513,\n                    columnNumber: 5\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 514,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MarkdownLesson, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons,\n                    sessionUsername: session === null || session === void 0 ? void 0 : (_session_user3 = session.user) === null || _session_user3 === void 0 ? void 0 : _session_user3.username\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 515,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode,\n                    backHref: backHref\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 516,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 512,\n            columnNumber: 7\n        }, this);\n    }\n    const isMultiple = lesson.type === 'multiple-choice';\n    const isMatching = lesson.type === 'matching';\n    const hasMemoryPairs = !!(lesson.content && lesson.content.pairs && Array.isArray(lesson.content.pairs));\n    const effectiveType = lesson.type === 'memory' || lesson.type === 'matching' && hasMemoryPairs ? 'memory' : lesson.type;\n    const isMemory = effectiveType === 'memory';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-6xl mx-auto mt-10 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>router.push(backHref),\n                        className: \"text-blue-600 hover:underline mb-4\",\n                        children: [\n                            \"← \",\n                            backHref === '/ueben' ? 'Zurück zu Übungen' : 'Zurück zum Kurs'\n                        ]\n                    }, void 0, true, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 530,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-2\",\n                        children: lesson.title\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 531,\n                        columnNumber: 9\n                    }, this),\n                    !isVideo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full bg-gray-200 rounded-full h-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n                                    style: {\n                                        width: \"\".concat(progress, \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 535,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 534,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600 mt-1\",\n                                children: [\n                                    \"Fortschritt: \",\n                                    mastered.size,\n                                    \" / \",\n                                    totalQuestions,\n                                    \" gemeistert\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 537,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 529,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-lg shadow-lg p-8\",\n                children: isVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.YouTubeLesson, {\n                    lesson: lesson,\n                    onCompleted: markVideoCompleted\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 543,\n                    columnNumber: 11\n                }, this) : effectiveType === 'memory' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MemoryGame, {\n                    lesson: {\n                        ...lesson,\n                        type: 'memory'\n                    },\n                    onCompleted: ()=>{\n                        setIsCorrect(true);\n                        setShowResult(true);\n                        setCompleted(true);\n                    },\n                    completedLessons: completedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 545,\n                    columnNumber: 11\n                }, this) : currentQuestion ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-6\",\n                            children: currentQuestion.question\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 548,\n                            columnNumber: 13\n                        }, this),\n                        !isMatching && currentMedia && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n                            children: (0,_lib_media__WEBPACK_IMPORTED_MODULE_6__.isImagePath)(currentMedia) ? // eslint-disable-next-line @next/next/no-img-element\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: currentMedia,\n                                alt: \"Frage Bild\",\n                                className: \"max-w-full max-h-64 object-contain mx-auto border rounded\",\n                                onError: (e)=>{\n                                    const el = e.currentTarget;\n                                    const name = currentMedia.split('/').pop() || '';\n                                    if (!el.dataset.fallback1 && name) {\n                                        el.dataset.fallback1 = '1';\n                                        el.src = \"/media/bilder/\".concat(name);\n                                    } else if (!el.dataset.fallback2 && name) {\n                                        el.dataset.fallback2 = '1';\n                                        el.src = \"/media/\".concat(name);\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 554,\n                                columnNumber: 19\n                            }, this) : (0,_lib_media__WEBPACK_IMPORTED_MODULE_6__.isAudioPath)(currentMedia) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                                controls: true,\n                                className: \"w-full max-w-md mx-auto\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentMedia\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 562,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentMedia.replace('/uploads/', '/media/audio/')\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 563,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentMedia.replace('/uploads/', '/media/')\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 564,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-red-600 text-sm\",\n                                        children: \"Audio wird vom Browser nicht unterst\\xfctzt\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 565,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 561,\n                                columnNumber: 19\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: currentMedia,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                className: \"text-blue-600 hover:underline break-all\",\n                                children: [\n                                    \"\\uD83D\\uDCCE \",\n                                    currentMedia\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 568,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 551,\n                            columnNumber: 15\n                        }, this),\n                        isMatching ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MatchingUI, {\n                                    question: currentQuestion,\n                                    onSolved: ()=>{\n                                        setIsCorrect(true);\n                                        setShowResult(true);\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 17\n                                }, this),\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleNextQuestion,\n                                            className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                            children: \"Weiter\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 592,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium text-green-700\",\n                                            children: \"Alle Paare korrekt verbunden!\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 593,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 591,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3 mb-6\",\n                            children: isMultiple ? currentQuestion.allAnswers.map((answer, index)=>{\n                                const isSelected = selectedAnswers.includes(answer);\n                                const isCorrectAns = correctListNormalized.includes(norm(answer));\n                                let buttonClass = \"w-full p-4 text-left border-2 rounded-lg transition-all \";\n                                if (showResult) {\n                                    if (isCorrectAns) {\n                                        buttonClass += \"border-green-500 bg-green-50 text-green-800\";\n                                    } else if (isSelected && !isCorrectAns) {\n                                        buttonClass += \"border-red-500 bg-red-50 text-red-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 bg-gray-50 text-gray-600\";\n                                    }\n                                } else {\n                                    if (isSelected) {\n                                        buttonClass += \"border-blue-500 bg-blue-50 text-blue-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 hover:border-gray-300 hover:bg-gray-50\";\n                                    }\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: buttonClass,\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 620,\n                                    columnNumber: 23\n                                }, this);\n                            }) : currentQuestion.allAnswers.map((answer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: \"w-full p-4 text-left border-2 rounded-lg transition-all \".concat(selectedAnswer === answer ? 'border-blue-500 bg-blue-50 text-blue-800' : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'),\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 632,\n                                    columnNumber: 21\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 598,\n                            columnNumber: 15\n                        }, this),\n                        !isMatching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 mt-4\",\n                            children: [\n                                isMultiple && !showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCheckMultiple,\n                                    className: \"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700\",\n                                    children: \"Antwort pr\\xfcfen\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 651,\n                                    columnNumber: 19\n                                }, this) : showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleNextQuestion,\n                                    className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                    children: \"Weiter\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 654,\n                                    columnNumber: 21\n                                }, this) : null,\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium \".concat(isCorrect ? 'text-green-700' : 'text-red-700'),\n                                    children: isCorrect ? 'Richtig!' : 'Leider falsch.'\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 658,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 649,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Keine Frage vorhanden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 666,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 541,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                allLessons: allLessons,\n                currentLessonId: lessonId,\n                courseId: courseId,\n                completedLessons: completedLessons,\n                progressionMode: progressionMode,\n                backHref: backHref\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 671,\n                columnNumber: 3\n            }, this),\n            isMemory && completed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 text-green-700 font-medium\",\n                children: \"✔️ Memory abgeschlossen!\"\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 672,\n                columnNumber: 33\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n        lineNumber: 528,\n        columnNumber: 3\n    }, this);\n} // Client-Komponente für Markdown Rendering\n // MatchingUI jetzt ausgelagert\n // OrderingPlayer und LueckentextPlayer ausgelagert\n_s(LessonPage, \"jx7cq+mu8yviEmKURNQpVGa9Yhk=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter,\n        next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession\n    ];\n});\n_c = LessonPage;\nvar _c;\n$RefreshReg$(_c, \"LessonPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAva3Vycy9bY291cnNlSWRdL2xla3Rpb24vW2xlc3NvbklkXS9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUN1RDtBQUNXO0FBQ3JCO0FBQzdDLG1FQUFtRTtBQUNpSDtBQUMvRztBQUVpQjtBQUd2RSxTQUFTaUI7UUFrQytDQyxpQkFnU0hDLGVBbUVoQkQsa0JBd0I5Q0MsZ0JBd0I4REEsZ0JBd0IzQ0Q7O0lBNWN2QixNQUFNRSxTQUFTcEIsMERBQVNBO0lBQ3hCLE1BQU1xQixTQUFTcEIsMERBQVNBO0lBQ3hCLE1BQU1xQixXQUFXRixPQUFPRSxRQUFRO0lBQ2hDLE1BQU1DLFdBQVdILE9BQU9HLFFBQVE7SUFDaEMsTUFBTSxFQUFFQyxNQUFNTCxPQUFPLEVBQUUsR0FBR2IsMkRBQVVBO0lBRXBDLE1BQU0sQ0FBQ1ksUUFBUU8sVUFBVSxHQUFHdkIsNkdBQVFBLENBQWdCO0lBQ3BELE1BQU0sQ0FBQ3dCLFNBQVNDLFdBQVcsR0FBR3pCLDZHQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sR0FBRzBCLHdCQUF3QixHQUFHMUIsNkdBQVFBLENBQUMsSUFBSSw4QkFBOEI7SUFDL0UsTUFBTSxDQUFDMkIsZUFBZUMsaUJBQWlCLEdBQUc1Qiw2R0FBUUEsQ0FBVyxFQUFFLEdBQUcsNkJBQTZCO0lBQy9GLE1BQU0sQ0FBQzZCLFVBQVVDLFlBQVksR0FBRzlCLDZHQUFRQSxDQUFjLElBQUkrQixRQUFRLDhCQUE4QjtJQUNoRyxNQUFNLENBQUNDLFNBQVNDLFdBQVcsR0FBR2pDLDZHQUFRQSxDQUFDLFFBQVEsdUJBQXVCO0lBQ3RFLE1BQU0sQ0FBQ2tDLGdCQUFnQkMsa0JBQWtCLEdBQUduQyw2R0FBUUEsQ0FBUztJQUM3RCxtQ0FBbUM7SUFDbkMsTUFBTSxDQUFDb0MsaUJBQWlCQyxtQkFBbUIsR0FBR3JDLDZHQUFRQSxDQUFXLEVBQUU7SUFDbkUsTUFBTSxDQUFDc0MsWUFBWUMsY0FBYyxHQUFHdkMsNkdB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QUFPcU0sWUFBWSxDQUFDLEtBQUt6Qzt3Q0FBTzt3Q0FBR2xKOzttQ0FQL0JrSjs7Ozs7Ozs7Ozt3QkFlZCxDQUFDUyw0QkFDQSw4REFBQ3RCOzRCQUFJQyxXQUFVOztnQ0FDWm9CLGNBQWMsQ0FBQ2hNLDJCQUNkLDhEQUFDK0s7b0NBQU9DLFNBQVN4RTtvQ0FBcUJvRSxXQUFVOzhDQUE2RDs7Ozs7MkNBRTdHNUssMkJBQ0UsOERBQUMrSztvQ0FBT0MsU0FBU2xCO29DQUFvQmMsV0FBVTs4Q0FBK0Q7Ozs7OzJDQUM1RztnQ0FFTDVLLDRCQUNDLDhEQUFDMk47b0NBQUsvQyxXQUFXLHVCQUFxRSxPQUE5QzFLLFlBQVksbUJBQW1COzhDQUNwRUEsWUFBWSxhQUFhOzs7Ozs7Ozs7Ozs7O2lEQU9wQyw4REFBQzJLOzhCQUFFOzs7Ozs7Ozs7OzswQkFLWCw4REFBQzFNLDJFQUFzQkE7Z0JBQUNxQyxZQUFZQTtnQkFBWXNMLGlCQUFpQi9NO2dCQUFVRCxVQUFVQTtnQkFBVThCLGtCQUFrQkE7Z0JBQWtCRixpQkFBaUJBO2dCQUFpQkksVUFBVUE7Ozs7OztZQUMxS3VMLFlBQVkvTCwyQkFBYSw4REFBQ3FLO2dCQUFJQyxXQUFVOzBCQUFrQzs7Ozs7Ozs7Ozs7O0FBR2pGLEVBRUEsMkNBQTJDO0NBQzNDLCtCQUErQjtDQUUvQixtREFBbUQ7R0E1cEIzQm5NOztRQUNQakIsc0RBQVNBO1FBQ1RDLHNEQUFTQTtRQUdFSyx1REFBVUE7OztLQUxkVyIsInNvdXJjZXMiOlsiRDpcXGxlcm5hcmVuYVxcc3JjXFxhcHBcXGt1cnNcXFtjb3Vyc2VJZF1cXGxla3Rpb25cXFtsZXNzb25JZF1cXHBhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zLCB1c2VSb3V0ZXIgfSBmcm9tIFwibmV4dC9uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9yZWFjdCc7XG4vLyBBdXNnZWxhZ2VydGUgTGVrdGlvbnN0eXAtS29tcG9uZW50ZW4gKHNjaHJpdHR3ZWlzZXMgUmVmYWN0b3JpbmcpXG5pbXBvcnQgeyBNYXJrZG93bkxlc3NvbiwgWW91VHViZUxlc3NvbiwgTWVtb3J5R2FtZSwgTHVlY2tlbnRleHRQbGF5ZXIsIE9yZGVyaW5nUGxheWVyLCBNYXRjaGluZ1VJLCBMZXNzb25Gb290ZXJOYXZpZ2F0aW9uLCBTbmFrZUdhbWUgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb21wb25lbnRzL2xlc3NvblR5cGVzJztcbmltcG9ydCB7IGZpbmFsaXplTGVzc29uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vbGliL2xlc3NvbkNvbXBsZXRpb24nO1xuaW1wb3J0IHR5cGUgeyBMZXNzb24sIFF1ZXN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vY29tcG9uZW50cy9sZXNzb25UeXBlcy90eXBlcyc7XG5pbXBvcnQgeyByZXNvbHZlTWVkaWFQYXRoLCBpc0ltYWdlUGF0aCwgaXNBdWRpb1BhdGggfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9saWIvbWVkaWEnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIExlc3NvblBhZ2UoKSB7XG4gIGNvbnN0IHBhcmFtcyA9IHVzZVBhcmFtcygpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgY291cnNlSWQgPSBwYXJhbXMuY291cnNlSWQgYXMgc3RyaW5nO1xuICBjb25zdCBsZXNzb25JZCA9IHBhcmFtcy5sZXNzb25JZCBhcyBzdHJpbmc7XG4gIGNvbnN0IHsgZGF0YTogc2Vzc2lvbiB9ID0gdXNlU2Vzc2lvbigpO1xuICBcbiAgY29uc3QgW2xlc3Nvbiwgc2V0TGVzc29uXSA9IHVzZVN0YXRlPExlc3NvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgWywgc2V0Q3VycmVudFF1ZXN0aW9uSW5kZXhdID0gdXNlU3RhdGUoMCk7IC8vIERFUFJFQ0FURUQgKGbDvHIgYWx0ZSBMb2dpaylcbiAgY29uc3QgW3F1ZXN0aW9uUXVldWUsIHNldFF1ZXN0aW9uUXVldWVdID0gdXNlU3RhdGU8bnVtYmVyW10+KFtdKTsgLy8gUmVpaGVuZm9sZ2Ugb2ZmZW5lciBGcmFnZW5cbiAgY29uc3QgW21hc3RlcmVkLCBzZXRNYXN0ZXJlZF0gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTsgLy8ga29ycmVrdCBiZWFudHdvcnRldGUgRnJhZ2VuXG4gIGNvbnN0IFttYXJraW5nLCBzZXRNYXJraW5nXSA9IHVzZVN0YXRlKGZhbHNlKTsgLy8gU2VydmVyLVVwZGF0ZSBTdGF0dXNcbiAgY29uc3QgW3NlbGVjdGVkQW5zd2VyLCBzZXRTZWxlY3RlZEFuc3dlcl0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICAvLyBOZXU6IEF1c3dhaGwgZsO8ciBNdWx0aXBsZS1DaG9pY2VcbiAgY29uc3QgW3NlbGVjdGVkQW5zd2Vycywgc2V0U2VsZWN0ZWRBbnN3ZXJzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtzaG93UmVzdWx0LCBzZXRTaG93UmVzdWx0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2lzQ29ycmVjdCwgc2V0SXNDb3JyZWN0XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Njb3JlLCBzZXRTY29yZV0gPSB1c2VTdGF0ZSgwKTtcbiAgY29uc3QgW2NvbXBsZXRlZCwgc2V0Q29tcGxldGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FsbExlc3NvbnMsIHNldEFsbExlc3NvbnNdID0gdXNlU3RhdGU8TGVzc29uW10+KFtdKTsgLy8gZsO8ciBGb290ZXItTmF2aWdhdGlvblxuICBjb25zdCBbcHJvZ3Jlc3Npb25Nb2RlLCBzZXRQcm9ncmVzc2lvbk1vZGVdID0gdXNlU3RhdGU8J2xpbmVhcid8J2ZyZWUnPignZnJlZScpO1xuICBjb25zdCBbY29tcGxldGVkTGVzc29ucywgc2V0Q29tcGxldGVkTGVzc29uc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pOyAvLyBlcmxlZGlndGUgTGVrdGlvbmVuXG4gIC8vIFdvaGluIHp1csO8Y2s/IEt1cnMgb2RlciDDnGJ1bmdzbWVuw7xcbiAgY29uc3QgW2JhY2tIcmVmLCBzZXRCYWNrSHJlZl0gPSB1c2VTdGF0ZTxzdHJpbmc+KGAva3Vycy8ke2NvdXJzZUlkfWApO1xuICAvLyBMw7xja2VudGV4dCBTdGF0ZXMgKGltbWVyIGF1ZnJ1ZmVuLCBuaWNodCBrb25kaXRpb25hbClcbiAgY29uc3QgW2x0QW5zd2Vyc1N0YXRlLCBzZXRMdEFuc3dlcnNTdGF0ZV0gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+Pih7fSk7XG4gIGNvbnN0IFtsdENoZWNrZWQsIHNldEx0Q2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsdENvcnJlY3RBbGwsIHNldEx0Q29ycmVjdEFsbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsdFVzZWRBbnN3ZXJzLCBzZXRMdFVzZWRBbnN3ZXJzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtsdEZvY3VzR2FwLCBzZXRMdEZvY3VzR2FwXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICAvLyBMw7xja2VudGV4dCBkZXJpdmVkIERhdGVuIChpbW1lciBIb29rcyBnbGVpY2ggaGFsdGVuKVxuICBjb25zdCBsdE1hc2tlZCA9IHVzZU1lbW8oKCkgPT4gKGxlc3Nvbj8udHlwZSA9PT0gJ2x1ZWNrZW50ZXh0JykgPyBTdHJpbmcoKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5tYXJrZG93bk1hc2tlZCB8fCAnJykgOiAnJywgW2xlc3Nvbl0pO1xuICBjb25zdCBsdEdhcHMgPSB1c2VNZW1vKCgpID0+IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpID8gKEFycmF5LmlzQXJyYXkoKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5nYXBzKSA/IChsZXNzb24/LmNvbnRlbnQgYXMgYW55KS5nYXBzLm1hcCgoZzogYW55KSA9PiAoeyBpZDogZy5pZCwgYW5zd2VyOiBTdHJpbmcoZy5hbnN3ZXIpIH0pKSA6IFtdKSA6IFtdLCBbbGVzc29uXSk7XG4gIGNvbnN0IGx0TW9kZTogJ2lucHV0JyB8ICdkcmFnJyA9IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcgJiYgKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5tb2RlID09PSAnZHJhZycpID8gJ2RyYWcnIDogJ2lucHV0JztcbiAgY29uc3QgbHRQYXJ0cyA9IHVzZU1lbW8oKCkgPT4gbHRNYXNrZWQgPyBsdE1hc2tlZC5zcGxpdCgvKF9fX1xcZCtfX18pL2cpLmZpbHRlcihCb29sZWFuKSA6IFtdLCBbbHRNYXNrZWRdKTtcbiAgY29uc3QgbHRCYW5rID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGx0TW9kZSAhPT0gJ2RyYWcnKSByZXR1cm4gW10gYXMgc3RyaW5nW107XG4gICAgY29uc3Qgc2h1ZmZsZSA9IDxULD4oYXJyOiBUW10pID0+IGFyci5tYXAodiA9PiBbTWF0aC5yYW5kb20oKSwgdl0gYXMgY29uc3QpLnNvcnQoKGEsYik9PmFbMF0tYlswXSkubWFwKChbLHZdKT0+dik7XG4gICAgcmV0dXJuIHNodWZmbGUobHRHYXBzLm1hcCgoZzogeyBpZDogbnVtYmVyOyBhbnN3ZXI6IHN0cmluZyB9KSA9PiBnLmFuc3dlcikpO1xuICB9LCBbbHRNb2RlLCBsdEdhcHNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBSZXNldCBiZWkgTGVrdGlvbnN0eXAtV2VjaHNlbFxuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpIHtcbiAgICAgIHNldEx0QW5zd2Vyc1N0YXRlKHt9KTtcbiAgICAgIHNldEx0Q2hlY2tlZChmYWxzZSk7XG4gICAgICBzZXRMdENvcnJlY3RBbGwoZmFsc2UpO1xuICAgICAgc2V0THRVc2VkQW5zd2VycyhbXSk7XG4gICAgICBzZXRMdEZvY3VzR2FwKG51bGwpO1xuICAgIH1cbiAgfSwgW2xlc3Nvbj8uX2lkLCBsZXNzb24/LnR5cGVdKTtcblxuICBjb25zdCBsb2FkTGVzc29uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkva3Vycy8ke2NvdXJzZUlkfS9sZWt0aW9uZW5gKTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGxlc3NvbkFycmF5ID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiAocGF5bG9hZC5sZXNzb25zIHx8IFtdKTtcbiAgICAgICAgc2V0QWxsTGVzc29ucyhsZXNzb25BcnJheSk7XG4gICAgICAgIC8vIHByb2dyZXNzaW9uTW9kZSB2b20gS3VycyBsYWRlbiAoamV0enQgbWVpc3QgaW4gZGVyIEFudHdvcnQgZW50aGFsdGVuKVxuICAgICAgICBpZiAocGF5bG9hZC5jb3Vyc2UgJiYgcGF5bG9hZC5jb3Vyc2UucHJvZ3Jlc3Npb25Nb2RlKSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKHBheWxvYWQuY291cnNlLnByb2dyZXNzaW9uTW9kZSA9PT0gJ2xpbmVhcicgPyAnbGluZWFyJyA6ICdmcmVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKCdmcmVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQmFjay1aaWVsIGJlc3RpbW1lbjogd2VubiBleGVyY2lzZS1wb29sIG9kZXIga2VpbiBlY2h0ZXIgS3VycyAtPiAvdWViZW5cbiAgICAgICAgY29uc3QgaXNFeGVyY2lzZVBvb2wgPSBTdHJpbmcoY291cnNlSWQpID09PSAnZXhlcmNpc2UtcG9vbCc7XG4gICAgICAgIGNvbnN0IGhhc1JlYWxDb3Vyc2UgPSAhIShwYXlsb2FkLmNvdXJzZSAmJiAocGF5bG9hZC5jb3Vyc2UuX2lkIHx8IHBheWxvYWQuY291cnNlLmlkIHx8IHBheWxvYWQuY291cnNlLmtleSkpO1xuICAgICAgICBzZXRCYWNrSHJlZihpc0V4ZXJjaXNlUG9vbCB8fCAhaGFzUmVhbENvdXJzZSA/ICcvdWViZW4nIDogYC9rdXJzLyR7Y291cnNlSWR9YCk7XG4gICAgICAgIGxldCBmb3VuZExlc3NvbiA9IChsZXNzb25BcnJheSBhcyBBcnJheTx7IF9pZD86IHN0cmluZzsgaWQ/OiBzdHJpbmcgfT4pLmZpbmQoKGwpID0+IGwuX2lkID09PSBsZXNzb25JZCB8fCBsLmlkID09PSBsZXNzb25JZCkgYXMgYW55O1xuICAgICAgICBpZiAoIWZvdW5kTGVzc29uKSB7XG4gICAgICAgICAgLy8gRmFsbGJhY2s6IERpcmVrdCDDvGJlciBnbG9iYWxlbiBFbmRwb2ludCBsYWRlbiAoZsO8ciBleGVyY2lzZS1wb29sIG9kZXIgYWJ3ZWljaGVuZGUgT3JnYW5pc2F0aW9uKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBsciA9IGF3YWl0IGZldGNoKGAvYXBpL2xlc3NvbnMvJHtsZXNzb25JZH1gKTtcbiAgICAgICAgICAgIGlmIChsci5vaykge1xuICAgICAgICAgICAgICBjb25zdCBsZCA9IGF3YWl0IGxyLmpzb24oKTtcbiAgICAgICAgICAgICAgaWYgKGxkPy5sZXNzb24pIHtcbiAgICAgICAgICAgICAgICBmb3VuZExlc3NvbiA9IGxkLmxlc3NvbjtcbiAgICAgICAgICAgICAgICBzZXRBbGxMZXNzb25zKFtsZC5sZXNzb25dKTtcbiAgICAgICAgICAgICAgICBzZXRCYWNrSHJlZignL3VlYmVuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kTGVzc29uKSBzZXRMZXNzb24oZm91bmRMZXNzb24gYXMgdW5rbm93biBhcyBMZXNzb24pO1xuICAgICAgICBpZiAoZm91bmRMZXNzb24pIHtcbiAgICAgICAgICAvLyBJbml0aWFsIFF1ZXVlIHNldHplblxuICAgICAgICAgIGNvbnN0IHRvdGFsID0gKGZvdW5kTGVzc29uIGFzIHVua25vd24gYXMgeyBxdWVzdGlvbnM/OiB1bmtub3duW10gfSkucXVlc3Rpb25zPy5sZW5ndGggfHwgMDtcbiAgICAgICAgICBzZXRRdWVzdGlvblF1ZXVlKEFycmF5LmZyb20oeyBsZW5ndGg6IHRvdGFsIH0sIChfLCBpKSA9PiBpKSk7XG4gICAgICAgICAgc2V0TWFzdGVyZWQobmV3IFNldCgpKTtcbiAgICAgICAgICBzZXRTY29yZSgwKTtcbiAgICAgICAgICBzZXRDb21wbGV0ZWQoZmFsc2UpO1xuICAgICAgICAgIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4KDApOyAvLyBsZWdhY3lcbiAgICAgICAgICAvLyBJbi1Qcm9ncmVzcyBtYXJraWVyZW4gZmFsbHMgbm9jaCBuaWNodCBhYmdlc2NobG9zc2VuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZEtleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06Y29tcGxldGVkTGVzc29uc2A7XG4gICAgICAgICAgICBjb25zdCBpblByb2dyZXNzS2V5ID0gYGNvdXJzZToke2NvdXJzZUlkfTppblByb2dyZXNzTGVzc29uc2A7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRTdG9yZWQ6IHN0cmluZ1tdID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShjb21wbGV0ZWRLZXkpIHx8ICdbXScpO1xuICAgICAgICAgICAgY29uc3QgZm91bmRJZCA9IChmb3VuZExlc3NvbiBhcyB7IF9pZD86IHN0cmluZzsgaWQ/OiBzdHJpbmcgfSkuX2lkIHx8IChmb3VuZExlc3NvbiBhcyB7IF9pZD86IHN0cmluZzsgaWQ/OiBzdHJpbmcgfSkuaWQ7XG4gICAgICAgICAgICBpZiAoZm91bmRJZCAmJiAhY29tcGxldGVkU3RvcmVkLmluY2x1ZGVzKGZvdW5kSWQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluUHJvZzogc3RyaW5nW10gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGluUHJvZ3Jlc3NLZXkpIHx8ICdbXScpO1xuICAgICAgICAgICAgICBpZiAoIWluUHJvZy5pbmNsdWRlcyhmb3VuZElkKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4uaW5Qcm9nLCBmb3VuZElkXTtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShpblByb2dyZXNzS2V5LCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEhhcnRlIEZhbGxiYWNrLVN0cmF0ZWdpZTogZGlyZWt0IHBlciBJRCBsYWRlbiAoei4gQi4gZXhlcmNpc2UtcG9vbCBvZGVyIEt1cnMtRmV0Y2gtUHJvYmxlbSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBsciA9IGF3YWl0IGZldGNoKGAvYXBpL2xlc3NvbnMvJHtsZXNzb25JZH1gKTtcbiAgICAgICAgICBpZiAobHIub2spIHtcbiAgICAgICAgICAgIGNvbnN0IGxkID0gYXdhaXQgbHIuanNvbigpO1xuICAgICAgICAgICAgaWYgKGxkPy5sZXNzb24pIHtcbiAgICAgICAgICAgICAgc2V0TGVzc29uKGxkLmxlc3NvbiBhcyBhbnkpO1xuICAgICAgICAgICAgICBzZXRBbGxMZXNzb25zKFtsZC5sZXNzb25dKTtcbiAgICAgICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKCdmcmVlJyk7XG4gICAgICAgICAgICAgIHNldEJhY2tIcmVmKCcvdWViZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGZWhsZXIgYmVpbSBMYWRlbiBkZXIgTGVrdGlvbjonLCBlcnJvcik7XG4gICAgICAvLyBMZXR6dGVyIFZlcnN1Y2g6IERpcmVrdCBwZXIgSURcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGxyID0gYXdhaXQgZmV0Y2goYC9hcGkvbGVzc29ucy8ke2xlc3NvbklkfWApO1xuICAgICAgICBpZiAobHIub2spIHtcbiAgICAgICAgICBjb25zdCBsZCA9IGF3YWl0IGxyLmpzb24oKTtcbiAgICAgICAgICBpZiAobGQ/Lmxlc3Nvbikge1xuICAgICAgICAgICAgc2V0TGVzc29uKGxkLmxlc3NvbiBhcyBhbnkpO1xuICAgICAgICAgICAgc2V0QWxsTGVzc29ucyhbbGQubGVzc29uXSk7XG4gICAgICAgICAgICBzZXRQcm9ncmVzc2lvbk1vZGUoJ2ZyZWUnKTtcbiAgICAgICAgICAgIHNldEJhY2tIcmVmKCcvdWViZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2gge31cbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2NvdXJzZUlkLCBsZXNzb25JZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9hZExlc3NvbigpO1xuICB9LCBbbG9hZExlc3Nvbl0pO1xuXG4gIC8vIFp1bGV0enQgd2VpdGVyZ2VtYWNodCAoZsO8ciBEYXNoYm9hcmQpOiBiZWltIMOWZmZuZW4gbWVya2VuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChjb3Vyc2VJZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3Q6Y291cnNlSWQnLCBTdHJpbmcoY291cnNlSWQpKTtcbiAgICAgIGlmIChsZXNzb25JZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhc3Q6bGVzc29uSWQnLCBTdHJpbmcobGVzc29uSWQpKTtcbiAgICAgIGlmIChjb3Vyc2VJZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYGNvdXJzZToke2NvdXJzZUlkfTpsYXN0VG91Y2hlZGAsIFN0cmluZyhEYXRlLm5vdygpKSk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbY291cnNlSWQsIGxlc3NvbklkXSk7XG5cbiAgLy8gSGVscGVyIHp1bSBOb3JtYWxpc2llcmVuIHZvbiBBbnR3b3J0ZW4gKGZyw7xoZXIgdm9yaGFuZGVuLCB3aWVkZXJoZXJnZXN0ZWxsdClcbiAgY29uc3Qgbm9ybSA9IChzOiB1bmtub3duKSA9PiAodHlwZW9mIHMgPT09ICdzdHJpbmcnID8gcy50cmltKCkgOiBTdHJpbmcocyA/PyAnJykpO1xuXG4gIGNvbnN0IGhhbmRsZUFuc3dlclNlbGVjdCA9IChhbnN3ZXI6IHN0cmluZykgPT4ge1xuICAgIGlmIChzaG93UmVzdWx0KSByZXR1cm47XG4gICAgaWYgKGxlc3Nvbj8udHlwZSA9PT0gJ211bHRpcGxlLWNob2ljZScpIHtcbiAgICAgIHNldFNlbGVjdGVkQW5zd2VycyhwcmV2ID0+IHByZXYuaW5jbHVkZXMoYW5zd2VyKSA/IHByZXYuZmlsdGVyKGEgPT4gYSAhPT0gYW5zd2VyKSA6IFsuLi5wcmV2LCBhbnN3ZXJdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXIoYW5zd2VyKTtcbiAgICBpZiAoIWxlc3NvbiB8fCAhbGVzc29uLnF1ZXN0aW9ucyB8fCBxdWVzdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IGxlc3Nvbi5xdWVzdGlvbnNbcXVlc3Rpb25RdWV1ZVswXV07XG4gICAgY29uc3QgY29ycmVjdCA9IG5vcm0oYW5zd2VyKSA9PT0gbm9ybShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcik7XG4gICAgc2V0SXNDb3JyZWN0KGNvcnJlY3QpO1xuICAgIHNldFNob3dSZXN1bHQodHJ1ZSk7XG4gICAgaWYgKGNvcnJlY3QgJiYgIW1hc3RlcmVkLmhhcyhxdWVzdGlvblF1ZXVlWzBdKSkge1xuICAgICAgc2V0U2NvcmUocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNoZWNrTXVsdGlwbGUgPSAoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgIWxlc3Nvbi5xdWVzdGlvbnMgfHwgcXVlc3Rpb25RdWV1ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBsZXNzb24ucXVlc3Rpb25zW3F1ZXN0aW9uUXVldWVbMF1dIGFzIFF1ZXN0aW9uO1xuICAgIGNvbnN0IGNvcnJlY3RMaXN0ID0gKEFycmF5LmlzQXJyYXkoY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJzKSAmJiBjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMubGVuZ3RoXG4gICAgICA/IGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vyc1xuICAgICAgOiAoY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXIgPyBbY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJdIDogW10pKS5tYXAobm9ybSk7XG4gICAgY29uc3Qgc2VsTm9ybSA9IHNlbGVjdGVkQW5zd2Vycy5tYXAobm9ybSk7XG4gICAgY29uc3QgaXNTZXRFcXVhbCA9IHNlbE5vcm0ubGVuZ3RoID09PSBjb3JyZWN0TGlzdC5sZW5ndGggJiYgY29ycmVjdExpc3QuZXZlcnkoYSA9PiBzZWxOb3JtLmluY2x1ZGVzKGEpKTtcbiAgICBzZXRJc0NvcnJlY3QoaXNTZXRFcXVhbCk7XG4gICAgc2V0U2hvd1Jlc3VsdCh0cnVlKTtcbiAgICBpZiAoaXNTZXRFcXVhbCAmJiAhbWFzdGVyZWQuaGFzKHF1ZXN0aW9uUXVldWVbMF0pKSB7XG4gICAgICBzZXRTY29yZShwcmV2ID0+IHByZXYgKyAxKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTXVsdGkgVGV4dC1BbnR3b3J0IFN0YXRlc1xuICBjb25zdCBbdGV4dEFuc3dlcklucHV0LCBzZXRUZXh0QW5zd2VySW5wdXRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbdGV4dEFuc3dlckZlZWRiYWNrLCBzZXRUZXh0QW5zd2VyRmVlZGJhY2tdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VyUXVldWUsIHNldFRleHRBbnN3ZXJRdWV1ZV0gPSB1c2VTdGF0ZTxudW1iZXJbXT4oW10pOyAvLyBJbmRleC1SZWloZW5mb2xnZSBkZXIgbm9jaCBvZmZlbmVuIEJsw7Zja2VcbiAgY29uc3QgW3RleHRBbnN3ZXJTb2x2ZWQsIHNldFRleHRBbnN3ZXJTb2x2ZWRdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VyUmV2ZWFsZWQsIHNldFRleHRBbnN3ZXJSZXZlYWxlZF0gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTsgLy8gR2VzYW10LUZsYWcgKEFuYWx5dGljcylcbiAgY29uc3QgW3RleHRBbnN3ZXJSZXZlYWxSb3VuZCwgc2V0VGV4dEFuc3dlclJldmVhbFJvdW5kXSA9IHVzZVN0YXRlPFJlY29yZDxudW1iZXIsIG51bWJlcj4+KHt9KTsgLy8gaW5kZXggLT4gUnVuZGVcbiAgY29uc3QgW3RleHRBbnN3ZXJSb3VuZCwgc2V0VGV4dEFuc3dlclJvdW5kXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbdGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCwgc2V0VGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdGV4dEFuc3dlckJsb2NrcyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghbGVzc29uIHx8IGxlc3Nvbi50eXBlICE9PSAndGV4dC1hbnN3ZXInKSByZXR1cm4gW10gYXMgQXJyYXk8eyBxdWVzdGlvbjogc3RyaW5nOyBhbnN3ZXJzOiBzdHJpbmdbXTsgbWVkaWE/OiBzdHJpbmcgfT47XG4gICAgY29uc3QgYzogYW55ID0gbGVzc29uLmNvbnRlbnQgfHwge307XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYy5ibG9ja3MpKSB7XG4gICAgICByZXR1cm4gYy5ibG9ja3MuZmlsdGVyKChiOiBhbnkpID0+IGIgJiYgdHlwZW9mIGIucXVlc3Rpb24gPT09ICdzdHJpbmcnICYmIEFycmF5LmlzQXJyYXkoYi5hbnN3ZXJzKSAmJiBiLmFuc3dlcnMubGVuZ3RoPjApXG4gICAgICAgIC5tYXAoKGI6IGFueSkgPT4gKHsgcXVlc3Rpb246IFN0cmluZyhiLnF1ZXN0aW9uKSwgYW5zd2VyczogYi5hbnN3ZXJzLm1hcCgoYTogYW55KT0+U3RyaW5nKGEpKS5maWx0ZXIoKGE6c3RyaW5nKT0+YS5sZW5ndGg+MCksIG1lZGlhOiBiLm1lZGlhICYmIFN0cmluZyhiLm1lZGlhKSB9KSk7XG4gICAgfVxuICAgIGlmIChjLnF1ZXN0aW9uICYmIGMuYW5zd2VyKSByZXR1cm4gW3sgcXVlc3Rpb246IFN0cmluZyhjLnF1ZXN0aW9uKSwgYW5zd2VyczogW1N0cmluZyhjLmFuc3dlcildIH1dO1xuICAgIHJldHVybiBbXTtcbiAgfSwgW2xlc3Nvbl0pO1xuICAvLyBJbml0aWFsIFF1ZXVlIHNldHplbiB3ZW5uIEJsb2NrcyBnZWxhZGVuXG4gIHVzZUVmZmVjdCgoKT0+e1xuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICd0ZXh0LWFuc3dlcicpIHtcbiAgc2V0VGV4dEFuc3dlclF1ZXVlKHRleHRBbnN3ZXJCbG9ja3MubWFwKChfOiB1bmtub3duLCBpOiBudW1iZXIpPT5pKSk7XG4gICAgICBzZXRUZXh0QW5zd2VyU29sdmVkKG5ldyBTZXQoKSk7XG4gICAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsZWQobmV3IFNldCgpKTtcbiAgc2V0VGV4dEFuc3dlclJvdW5kKDEpO1xuICBzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmQoe30pO1xuICAgICAgc2V0VGV4dEFuc3dlcklucHV0KCcnKTtcbiAgICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgICB9XG4gIH0sIFtsZXNzb24/Ll9pZCwgbGVzc29uPy50eXBlLCB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aF0pO1xuICBjb25zdCBzdWJtaXRUZXh0QW5zd2VyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghbGVzc29uIHx8IGxlc3Nvbi50eXBlICE9PSAndGV4dC1hbnN3ZXInKSByZXR1cm47XG4gICAgaWYgKCF0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aCB8fCAhdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGM6IGFueSA9IGxlc3Nvbi5jb250ZW50IHx8IHt9O1xuICAgIGNvbnN0IGNhc2VTZW5zaXRpdmU6IGJvb2xlYW4gPSAhIWMuY2FzZVNlbnNpdGl2ZTtcbiAgICBjb25zdCBub3JtYWxpemUgPSAoczogc3RyaW5nKSA9PiBjYXNlU2Vuc2l0aXZlID8gcy50cmltKCkgOiBzLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRleHRBbnN3ZXJRdWV1ZVswXTtcbiAgICBjb25zdCBjdXJyZW50ID0gdGV4dEFuc3dlckJsb2Nrc1tjdXJyZW50SW5kZXhdO1xuICAgIGNvbnN0IHVzZXJOb3JtID0gbm9ybWFsaXplKHRleHRBbnN3ZXJJbnB1dCk7XG4gICAgaWYgKCF1c2VyTm9ybSkgeyBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ0JpdHRlIGV0d2FzIGVpbmdlYmVuLicpOyByZXR1cm47IH1cbiAgICBjb25zdCBjb3JyZWN0Tm9ybXMgPSBjdXJyZW50LmFuc3dlcnMubWFwKChhOiBzdHJpbmcpPT5ub3JtYWxpemUoYSkpO1xuICAgIGlmIChjb3JyZWN0Tm9ybXMuaW5jbHVkZXModXNlck5vcm0pKSB7XG4gICAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ+KchSBLb3JyZWt0IScpO1xuICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICBzZXRUZXh0QW5zd2VyU29sdmVkKHByZXYgPT4gbmV3IFNldChwcmV2KS5hZGQoY3VycmVudEluZGV4KSk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJJbnB1dCgnJyk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgICAgICAgLy8gTsOkY2hzdGUgRnJhZ2VcbiAgICAgICAgc2V0VGV4dEFuc3dlclF1ZXVlKHByZXYgPT4gcHJldi5zbGljZSgxKSk7XG4gICAgICB9LCA0MDApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ+KdjCBOaWNodCBrb3JyZWt0LicpO1xuICB9LCBbbGVzc29uLCB0ZXh0QW5zd2VyQmxvY2tzLCB0ZXh0QW5zd2VyUXVldWUsIHRleHRBbnN3ZXJJbnB1dF0pO1xuICBjb25zdCByZXZlYWxDdXJyZW50VGV4dEFuc3dlciA9ICgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBsZXNzb24udHlwZSAhPT0gJ3RleHQtYW5zd2VyJykgcmV0dXJuO1xuICAgIGlmICghdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkeCA9IHRleHRBbnN3ZXJRdWV1ZVswXTtcbiAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsZWQocHJldiA9PiBuZXcgU2V0KHByZXYpLmFkZChpZHgpKTtcbiAgICBzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmQocHJldiA9PiAoeyAuLi5wcmV2LCBbaWR4XTogdGV4dEFuc3dlclJvdW5kIH0pKTtcbiAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2soJ/Cfm4ggQW50d29ydCBlaW5nZWJsZW5kZXQuIFNww6R0ZXIgZXJuZXV0IGJlYW50d29ydGVuLicpO1xuICAgIHNldFRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHgoaWR4KTtcbiAgICBzZXRUZXh0QW5zd2VySW5wdXQoJycpO1xuICB9O1xuICBjb25zdCBhZHZhbmNlQWZ0ZXJSZXZlYWwgPSAoKSA9PiB7XG4gICAgaWYgKHRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHggPT0gbnVsbCkgcmV0dXJuO1xuICAgIHNldFRleHRBbnN3ZXJRdWV1ZShwcmV2ID0+IChwcmV2WzBdID09PSB0ZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4ID8gcHJldi5zbGljZSgxKSA6IHByZXYpKTtcbiAgICBzZXRUZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4KG51bGwpO1xuICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjayhudWxsKTtcbiAgfTtcbiAgLy8gV2VubiBRdWV1ZSBsZWVyIGFiZXIgbm9jaCBuaWNodCBhbGxlIHNvbHZlZCAtPiBuZXVlIFJ1bmRlIG1pdCBudXIgdW5nZWzDtnN0ZW4gKHJldmVhbCBGcmFnZW4pXG4gIHVzZUVmZmVjdCgoKT0+e1xuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICd0ZXh0LWFuc3dlcicgJiYgdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCA9PT0gMCAmJiB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aCkge1xuICAgICAgY29uc3QgdG90YWwgPSB0ZXh0QW5zd2VyQmxvY2tzLmxlbmd0aDtcbiAgICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsKSB7XG4gICAgICAgIHNldENvbXBsZXRlZCh0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gIGNvbnN0IHJlbWFpbmluZyA9IHRleHRBbnN3ZXJCbG9ja3MubWFwKChfOiB1bmtub3duLCBpOiBudW1iZXIpPT5pKS5maWx0ZXIoKGk6IG51bWJlcik9PiF0ZXh0QW5zd2VyU29sdmVkLmhhcyhpKSk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJRdWV1ZShyZW1haW5pbmcpO1xuICAgICAgICBzZXRUZXh0QW5zd2VyUm91bmQocj0+cisxKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW3RleHRBbnN3ZXJRdWV1ZS5sZW5ndGgsIHRleHRBbnN3ZXJTb2x2ZWQsIHRleHRBbnN3ZXJCbG9ja3MsIGxlc3Nvbl0pO1xuXG4gIC8vIE5FVTogQWJzY2hsdXNzICsgU3Rlcm4gZsO8ciBUZXh0LUFudHdvcnQgTGVrdGlvbmVuIChiaXNoZXIgZmVobHRlIEFQSS1BdWZydWYpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybjtcbiAgICBjb25zdCB0b3RhbCA9IHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoO1xuICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgaWYgKCF1c2VybmFtZSkgcmV0dXJuO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sZXNzb24vY29tcGxldGUnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgICAgICAgbGVzc29uSWQ6IGxlc3Nvbi5faWQsXG4gICAgICAgICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICAgICAgICBlYXJuZWRTdGFyOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pLmNhdGNoKCgpPT57fSk7XG4gICAgICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvcHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSwgbGVzc29uSWQ6IGxlc3Nvbi5faWQgfSlcbiAgICAgICAgICB9KS5jYXRjaCgoKT0+e30pO1xuICAgICAgICAgIGNvbnN0IGNvbXBsZXRlZEtleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06Y29tcGxldGVkTGVzc29uc2A7XG4gICAgICAgICAgY29uc3QgaW5Qcm9ncmVzc0tleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06aW5Qcm9ncmVzc0xlc3NvbnNgO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdG9yZWQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNvbXBsZXRlZEtleSkgfHwgJ1tdJyk7XG4gICAgICAgICAgICBpZiAoIXN0b3JlZC5pbmNsdWRlcyhsZXNzb24uX2lkKSkge1xuICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLnN0b3JlZCwgbGVzc29uLl9pZF07XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGNvbXBsZXRlZEtleSwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgICAgICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHVwZGF0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5Qcm9nID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpblByb2dyZXNzS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGluUHJvZykgJiYgaW5Qcm9nLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGluUHJvZ3Jlc3NLZXksIEpTT04uc3RyaW5naWZ5KGluUHJvZy5maWx0ZXIoKGlkOiBzdHJpbmcpID0+IGlkICE9PSBsZXNzb24uX2lkKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RleHQtQW50d29ydCBBYnNjaGx1c3MgZmVobGdlc2NobGFnZW4nLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSkoKTtcbiAgICB9XG4gIH0sIFtsZXNzb24sIHRleHRBbnN3ZXJTb2x2ZWQsIHRleHRBbnN3ZXJCbG9ja3MsIGNvbXBsZXRlZExlc3NvbnMsIHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lLCBjb3Vyc2VJZF0pO1xuXG4gIC8vIFdpZWRlcmhlcmdlc3RlbGx0OiBGb3J0c2Nocml0dHNsb2dpayBuYWNoIEJld2VydHVuZ1xuICBjb25zdCBoYW5kbGVOZXh0UXVlc3Rpb24gPSAoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgcXVlc3Rpb25RdWV1ZS5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICBjb25zdCBjdXJyZW50SWR4ID0gcXVlc3Rpb25RdWV1ZVswXTtcbiAgICBsZXQgbmV3UXVldWUgPSBbLi4ucXVlc3Rpb25RdWV1ZV07XG4gICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgaWYgKCFtYXN0ZXJlZC5oYXMoY3VycmVudElkeCkpIHtcbiAgICAgICAgY29uc3QgbmV3TWFzdGVyZWQgPSBuZXcgU2V0KG1hc3RlcmVkKTtcbiAgICAgICAgbmV3TWFzdGVyZWQuYWRkKGN1cnJlbnRJZHgpO1xuICAgICAgICBzZXRNYXN0ZXJlZChuZXdNYXN0ZXJlZCk7XG4gICAgICB9XG4gICAgICBuZXdRdWV1ZS5zaGlmdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdRdWV1ZSA9IFsuLi5uZXdRdWV1ZS5zbGljZSgxKSwgY3VycmVudElkeF07XG4gICAgfVxuICAgIHNldFF1ZXN0aW9uUXVldWUobmV3UXVldWUpO1xuICAgIHNldFNlbGVjdGVkQW5zd2VyKFwiXCIpO1xuICAgIHNldFNlbGVjdGVkQW5zd2VycyhbXSk7XG4gICAgc2V0U2hvd1Jlc3VsdChmYWxzZSk7XG4gICAgaWYgKG5ld1F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0Q29tcGxldGVkKHRydWUpO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgICAgIHNldE1hcmtpbmcodHJ1ZSk7XG4gICAgICAgICAgYXdhaXQgZmluYWxpemVMZXNzb24oe1xuICAgICAgICAgICAgdXNlcm5hbWUsIC8vIG9wdGlvbmFsIGbDvHIgR8Okc3RlXG4gICAgICAgICAgICBsZXNzb25JZDogbGVzc29uLl9pZCxcbiAgICAgICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgICAgICB0eXBlOiBsZXNzb24udHlwZSxcbiAgICAgICAgICAgIGVhcm5lZFN0YXI6IGxlc3Nvbi50eXBlICE9PSAnbWFya2Rvd24nICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkTGVzc29ucyhwcmV2ID0+IHByZXYuaW5jbHVkZXMobGVzc29uLl9pZCkgPyBwcmV2IDogWy4uLnByZXYsIGxlc3Nvbi5faWRdKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Fic2NobGllw59lbiBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldE1hcmtpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDdXJyZW50UXVlc3Rpb25JbmRleChuZXdRdWV1ZVswXSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVJldHJ5ID0gKCkgPT4ge1xuICAgIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4KDApO1xuICAgIHNldFNlbGVjdGVkQW5zd2VyKFwiXCIpO1xuICAgIHNldFNob3dSZXN1bHQoZmFsc2UpO1xuICAgIHNldFNjb3JlKDApO1xuICAgIHNldENvbXBsZXRlZChmYWxzZSk7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXJzKFtdKTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIGVybGVkaWd0ZSBMZWt0aW9uZW4gYXVzIGxvY2FsU3RvcmFnZSBsYWRlblxuICAgIGNvbnN0IGtleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06Y29tcGxldGVkTGVzc29uc2A7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAnW10nKTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0b3JlZCkpIHNldENvbXBsZXRlZExlc3NvbnMoc3RvcmVkKTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjb3Vyc2VJZF0pO1xuXG4gIC8vIChFbnRmZXJudCkgZnLDvGhlcmVyIEVmZmVrdCBmw7xyIGdlbmVyaXNjaGVzIFNwZWljaGVybiBiZWkgY29tcGxldGVkIC0+IExvZ2lrIGpldHp0IGluIGZpbmFsaXplTGVzc29uIFN0ZWxsZW4gemVudHJhbGlzaWVydFxuXG4gIC8vIE5ldTogVHlwZW4tRmxhZ3MgdW5kIEFic2NobHVzcy1GdW5rdGlvbiBmw7xyIFlvdVR1YmVcbiAgY29uc3QgaXNNYXJrZG93biA9IGxlc3Nvbj8udHlwZSA9PT0gJ21hcmtkb3duJyAmJiBsZXNzb24uY29udGVudD8ubWFya2Rvd247XG4gIGNvbnN0IGlzVmlkZW8gPSBsZXNzb24/LnR5cGUgPT09ICd2aWRlbyc7XG4gIGNvbnN0IGlzTHVlY2tlbnRleHQgPSBsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCc7XG4gIGNvbnN0IGlzT3JkZXJpbmcgPSBsZXNzb24/LnR5cGUgPT09ICdvcmRlcmluZyc7XG4gIGNvbnN0IGlzU25ha2UgPSBsZXNzb24/LnR5cGUgPT09ICdzbmFrZScgfHwgbGVzc29uPy50eXBlID09PSAnbWluaWdhbWUnO1xuICBjb25zdCBtYXJrVmlkZW9Db21wbGV0ZWQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgdXNlcm5hbWUgPSBzZXNzaW9uPy51c2VyPy51c2VybmFtZTtcbiAgICBpZiAoIWxlc3NvbikgcmV0dXJuO1xuICAgIGlmIChjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSByZXR1cm47XG4gICAgc2V0TWFya2luZyh0cnVlKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmluYWxpemVMZXNzb24oe1xuICAgICAgICB1c2VybmFtZSwgLy8gb3B0aW9uYWwgZsO8ciBHw6RzdGVcbiAgICAgICAgbGVzc29uSWQ6IGxlc3Nvbi5faWQsXG4gICAgICAgIGNvdXJzZUlkOiBsZXNzb24uY291cnNlSWQsXG4gICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICBlYXJuZWRTdGFyOiBsZXNzb24udHlwZSAhPT0gJ21hcmtkb3duJyAmJiAhY29tcGxldGVkTGVzc29ucy5pbmNsdWRlcyhsZXNzb24uX2lkKVxuICAgICAgfSk7XG4gICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHByZXYgPT4gcHJldi5pbmNsdWRlcyhsZXNzb24uX2lkKSA/IHByZXYgOiBbLi4ucHJldiwgbGVzc29uLl9pZF0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1ZpZGVvIEFic2NobHVzcyBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRNYXJraW5nKGZhbHNlKTtcbiAgICB9XG4gIH0sIFtzZXNzaW9uPy51c2VyPy51c2VybmFtZSwgbGVzc29uLCBjb21wbGV0ZWRMZXNzb25zLCBjb3Vyc2VJZF0pO1xuXG4gIC8vIEFic2NobHVzcyBUZXh0LUFudHdvcnQgTGVrdGlvbiAoY2VudHJhbGl6ZWQpXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybjtcbiAgICBjb25zdCB0b3RhbCA9IHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoO1xuICAgIGlmICh0b3RhbCA9PT0gMCkgcmV0dXJuO1xuICAgIGlmICh0ZXh0QW5zd2VyU29sdmVkLnNpemUgPT09IHRvdGFsICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCBmaW5hbGl6ZUxlc3Nvbih7XG4gICAgICAgICAgICB1c2VybmFtZSwgLy8gb3B0aW9uYWwgZsO8ciBHw6RzdGVcbiAgICAgICAgICAgIGxlc3NvbklkOiBsZXNzb24uX2lkLFxuICAgICAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICAgICAgZWFybmVkU3RhcjogbGVzc29uLnR5cGUgIT09ICdtYXJrZG93bicgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZClcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHByZXYgPT4gcHJldi5pbmNsdWRlcyhsZXNzb24uX2lkKSA/IHByZXYgOiBbLi4ucHJldiwgbGVzc29uLl9pZF0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVGV4dC1BbnR3b3J0IEFic2NobHVzcyBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgfSwgW2xlc3NvbiwgdGV4dEFuc3dlclNvbHZlZCwgdGV4dEFuc3dlckJsb2NrcywgY29tcGxldGVkTGVzc29ucywgc2Vzc2lvbj8udXNlcj8udXNlcm5hbWUsIGNvdXJzZUlkXSk7XG5cbiAgLy8gRWFybHkgUmV0dXJucyBqZXR6dCBOQUNIIGFsbGVuIEhvb2tzXG4gIGlmIChsb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gbXQtMTAgcC02XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiBpbmxpbmUtYmxvY2sgdy04IGgtOCBib3JkZXItNCBib3JkZXItY3VycmVudCBib3JkZXItdC10cmFuc3BhcmVudCB0ZXh0LWJsdWUtNjAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgdGV4dC1ncmF5LTYwMFwiPkxla3Rpb24gd2lyZCBnZWxhZGVuLi4uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBpZiAoIWxlc3Nvbikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNiBiZy13aGl0ZSByb3VuZGVkIHNoYWRvd1wiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LWJvbGQgdGV4dC1yZWQtNjAwXCI+TGVrdGlvbiBuaWNodCBnZWZ1bmRlbjwvaDI+XG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbXQtMlwiPkRpZSBhbmdlZm9yZGVydGUgTGVrdGlvbiBrb25udGUgbmljaHQgZ2VsYWRlbiB3ZXJkZW4uPC9wPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGJhY2tIcmVmKX0gY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZVwiPuKGkCB7YmFja0hyZWYgPT09ICcvdWViZW4nID8gJ1p1csO8Y2sgenUgw5xidW5nZW4nIDogJ1p1csO8Y2sgenVtIEt1cnMnfTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHRvdGFsUXVlc3Rpb25zID0gbGVzc29uLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDA7XG4gIGNvbnN0IHByb2dyZXNzID0gdG90YWxRdWVzdGlvbnMgPiAwID8gKG1hc3RlcmVkLnNpemUgLyB0b3RhbFF1ZXN0aW9ucykgKiAxMDAgOiAwO1xuICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBsZXNzb24ucXVlc3Rpb25zICYmIHF1ZXN0aW9uUXVldWUubGVuZ3RoID4gMCA/IGxlc3Nvbi5xdWVzdGlvbnNbcXVlc3Rpb25RdWV1ZVswXV0gOiB1bmRlZmluZWQ7XG4gIGNvbnN0IGN1cnJlbnRNZWRpYSA9IGN1cnJlbnRRdWVzdGlvbj8ubWVkaWFMaW5rID8gcmVzb2x2ZU1lZGlhUGF0aChTdHJpbmcoY3VycmVudFF1ZXN0aW9uLm1lZGlhTGluaykpIDogJyc7XG4gIC8vIFZvcmJlcmVjaG5ldGUga29ycmVrdGUgQW50d29ydGVuIChub3JtYWxpc2llcnQpIGbDvHIgQW56ZWlnZS9DaGVja3NcbiAgY29uc3QgY29ycmVjdExpc3ROb3JtYWxpemVkID0gKGN1cnJlbnRRdWVzdGlvbiAmJiAoQXJyYXkuaXNBcnJheShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMpICYmIGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vycy5sZW5ndGhcbiAgICA/IGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vyc1xuICAgIDogKGN1cnJlbnRRdWVzdGlvbj8uY29ycmVjdEFuc3dlciA/IFtjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcl0gOiBbXSkpLm1hcChub3JtKSkgfHwgW107XG5cbiAgLy8gU25ha2UgZnLDvGhlIFLDvGNrZ2FiZVxuICAvLyBMb2NrLVJlZGlyZWN0IGJlaSBsaW5lYXJlciBQcm9ncmVzc2lvbjogd2VubiB2b3JoZXJpZ2UgTGVrdGlvbiBuaWNodCBhYmdlc2NobG9zc2VuXG4gIGlmIChsZXNzb24gJiYgcHJvZ3Jlc3Npb25Nb2RlID09PSAnbGluZWFyJykge1xuICAgIGNvbnN0IGluZGV4ID0gYWxsTGVzc29ucy5maW5kSW5kZXgobCA9PiAobCBhcyBhbnkpLl9pZCA9PT0gbGVzc29uLl9pZCB8fCAobCBhcyBhbnkpLmlkID09PSBsZXNzb24uX2lkKTtcbiAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICBjb25zdCBwcmV2ID0gYWxsTGVzc29uc1tpbmRleCAtIDFdO1xuICAgICAgY29uc3QgcHJldklkID0gKHByZXYgYXMgYW55KS5faWQgfHwgKHByZXYgYXMgYW55KS5pZDtcbiAgICAgIGlmIChwcmV2SWQgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMocHJldklkKSkge1xuICAgICAgICAvLyByZWRpcmVjdCB6dXLDvGNrIGF1ZiBLdXJzc2VpdGVcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgcm91dGVyLnJlcGxhY2UoYC9rdXJzLyR7Y291cnNlSWR9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAobGVzc29uICYmIGlzU25ha2UpIHtcbiAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gbXQtMTAgcC02XCI+XG4gICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChiYWNrSHJlZil9IGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIG1iLTRcIj7ihpAge2JhY2tIcmVmID09PSAnL3VlYmVuJyA/ICdadXLDvGNrIHp1IMOcYnVuZ2VuJyA6ICdadXLDvGNrIHp1bSBLdXJzJ308L2J1dHRvbj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02XCI+e2xlc3Nvbi50aXRsZX08L2gxPlxuICAgICAgICA8U25ha2VHYW1lIGxlc3Nvbj17bGVzc29ufSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHNldENvbXBsZXRlZExlc3NvbnM9e3NldENvbXBsZXRlZExlc3NvbnN9IC8+XG4gIDxMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIGFsbExlc3NvbnM9e2FsbExlc3NvbnN9IGN1cnJlbnRMZXNzb25JZD17bGVzc29uSWR9IGNvdXJzZUlkPXtjb3Vyc2VJZH0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gcHJvZ3Jlc3Npb25Nb2RlPXtwcm9ncmVzc2lvbk1vZGV9IGJhY2tIcmVmPXtiYWNrSHJlZn0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBSZW5kZXIgZsO8ciBNYXJrZG93bi1MZWt0aW9uXG4gIGlmIChpc01hcmtkb3duKSB7XG4gIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNlwiPlxuICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYmFja0hyZWYpfSBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBtYi00XCI+4oaQIHtiYWNrSHJlZiA9PT0gJy91ZWJlbicgPyAnWnVyw7xjayB6dSDDnGJ1bmdlbicgOiAnWnVyw7xjayB6dW0gS3Vycyd9PC9idXR0b24+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNlwiPntsZXNzb24udGl0bGV9PC9oMT5cbiAgICAgICAgPE1hcmtkb3duTGVzc29uIGxlc3Nvbj17bGVzc29ufSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHNldENvbXBsZXRlZExlc3NvbnM9e3NldENvbXBsZXRlZExlc3NvbnN9IHNlc3Npb25Vc2VybmFtZT17c2Vzc2lvbj8udXNlcj8udXNlcm5hbWV9IC8+XG4gIDxMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIGFsbExlc3NvbnM9e2FsbExlc3NvbnN9IGN1cnJlbnRMZXNzb25JZD17bGVzc29uSWR9IGNvdXJzZUlkPXtjb3Vyc2VJZH0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gcHJvZ3Jlc3Npb25Nb2RlPXtwcm9ncmVzc2lvbk1vZGV9IGJhY2tIcmVmPXtiYWNrSHJlZn0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBpc011bHRpcGxlID0gbGVzc29uLnR5cGUgPT09ICdtdWx0aXBsZS1jaG9pY2UnO1xuICBjb25zdCBpc01hdGNoaW5nID0gbGVzc29uLnR5cGUgPT09ICdtYXRjaGluZyc7XG4gIGNvbnN0IGhhc01lbW9yeVBhaXJzID0gISEobGVzc29uLmNvbnRlbnQgJiYgKGxlc3Nvbi5jb250ZW50IGFzIGFueSkucGFpcnMgJiYgQXJyYXkuaXNBcnJheSgobGVzc29uLmNvbnRlbnQgYXMgYW55KS5wYWlycykpO1xuICBjb25zdCBlZmZlY3RpdmVUeXBlID0gbGVzc29uLnR5cGUgPT09ICdtZW1vcnknIHx8IChsZXNzb24udHlwZSA9PT0gJ21hdGNoaW5nJyAmJiBoYXNNZW1vcnlQYWlycykgPyAnbWVtb3J5JyA6IGxlc3Nvbi50eXBlO1xuICBjb25zdCBpc01lbW9yeSA9IGVmZmVjdGl2ZVR5cGUgPT09ICdtZW1vcnknO1xuXG4gIHJldHVybiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gbXQtMTAgcC02XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChiYWNrSHJlZil9IGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIG1iLTRcIj7ihpAge2JhY2tIcmVmID09PSAnL3VlYmVuJyA/ICdadXLDvGNrIHp1IMOcYnVuZ2VuJyA6ICdadXLDvGNrIHp1bSBLdXJzJ308L2J1dHRvbj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi0yXCI+e2xlc3Nvbi50aXRsZX08L2gxPlxuICB7IWlzVmlkZW8gJiYgKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTIwMCByb3VuZGVkLWZ1bGwgaC0yXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS02MDAgaC0yIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDBcIiBzdHlsZT17eyB3aWR0aDogYCR7cHJvZ3Jlc3N9JWAgfX0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG10LTFcIj5Gb3J0c2Nocml0dDoge21hc3RlcmVkLnNpemV9IC8ge3RvdGFsUXVlc3Rpb25zfSBnZW1laXN0ZXJ0PC9wPlxuICAgICAgICAgIDwvPlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIHAtOFwiPlxuICAgICAgICB7aXNWaWRlbyA/IChcbiAgICAgICAgICA8WW91VHViZUxlc3NvbiBsZXNzb249e2xlc3Nvbn0gb25Db21wbGV0ZWQ9e21hcmtWaWRlb0NvbXBsZXRlZH0gLz5cbiAgICAgICAgKSA6IGVmZmVjdGl2ZVR5cGUgPT09ICdtZW1vcnknID8gKFxuICAgICAgICAgIDxNZW1vcnlHYW1lIGxlc3Nvbj17eyAuLi5sZXNzb24sIHR5cGU6ICdtZW1vcnknIH19IG9uQ29tcGxldGVkPXsoKSA9PiB7IHNldElzQ29ycmVjdCh0cnVlKTsgc2V0U2hvd1Jlc3VsdCh0cnVlKTsgc2V0Q29tcGxldGVkKHRydWUpOyB9fSBjb21wbGV0ZWRMZXNzb25zPXtjb21wbGV0ZWRMZXNzb25zfSAvPlxuICAgICAgICApIDogY3VycmVudFF1ZXN0aW9uID8gKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTZcIj57Y3VycmVudFF1ZXN0aW9uLnF1ZXN0aW9ufTwvaDI+XG4gICAgICAgICAgICB7LyogTWVkaWEgKi99XG4gICAgICAgICAgICB7IWlzTWF0Y2hpbmcgJiYgY3VycmVudE1lZGlhICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi02IHAtNCBiZy1ncmF5LTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICB7aXNJbWFnZVBhdGgoY3VycmVudE1lZGlhKSA/IChcbiAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAbmV4dC9uZXh0L25vLWltZy1lbGVtZW50XG4gICAgICAgICAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgICAgICAgICBzcmM9e2N1cnJlbnRNZWRpYX0gXG4gICAgICAgICAgICAgICAgICAgIGFsdD1cIkZyYWdlIEJpbGRcIiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWF4LXctZnVsbCBtYXgtaC02NCBvYmplY3QtY29udGFpbiBteC1hdXRvIGJvcmRlciByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcj17KGUpPT57IGNvbnN0IGVsPWUuY3VycmVudFRhcmdldCBhcyBIVE1MSW1hZ2VFbGVtZW50OyBjb25zdCBuYW1lPShjdXJyZW50TWVkaWEuc3BsaXQoJy8nKS5wb3AoKXx8JycpOyBpZighZWwuZGF0YXNldC5mYWxsYmFjazEgJiYgbmFtZSl7IGVsLmRhdGFzZXQuZmFsbGJhY2sxPScxJzsgZWwuc3JjPWAvbWVkaWEvYmlsZGVyLyR7bmFtZX1gOyB9IGVsc2UgaWYoIWVsLmRhdGFzZXQuZmFsbGJhY2syICYmIG5hbWUpeyBlbC5kYXRhc2V0LmZhbGxiYWNrMj0nMSc7IGVsLnNyYz1gL21lZGlhLyR7bmFtZX1gOyB9IH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICkgOiBpc0F1ZGlvUGF0aChjdXJyZW50TWVkaWEpID8gKFxuICAgICAgICAgICAgICAgICAgPGF1ZGlvIGNvbnRyb2xzIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1tZCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXtjdXJyZW50TWVkaWF9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXtjdXJyZW50TWVkaWEucmVwbGFjZSgnL3VwbG9hZHMvJywnL21lZGlhL2F1ZGlvLycpfS8+XG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXtjdXJyZW50TWVkaWEucmVwbGFjZSgnL3VwbG9hZHMvJywnL21lZGlhLycpfS8+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTYwMCB0ZXh0LXNtXCI+QXVkaW8gd2lyZCB2b20gQnJvd3NlciBuaWNodCB1bnRlcnN0w7x0enQ8L3A+XG4gICAgICAgICAgICAgICAgICA8L2F1ZGlvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8YSBcbiAgICAgICAgICAgICAgICAgICAgaHJlZj17Y3VycmVudE1lZGlhfSBcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCIgXG4gICAgICAgICAgICAgICAgICAgIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBicmVhay1hbGxcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDwn5OOIHtjdXJyZW50TWVkaWF9XG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogTWF0Y2hpbmcgVUkgKi99XG4gICAgICAgICAgICB7aXNNYXRjaGluZyA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8TWF0Y2hpbmdVSVxuICAgICAgICAgICAgICAgICAgcXVlc3Rpb249e2N1cnJlbnRRdWVzdGlvbn1cbiAgICAgICAgICAgICAgICAgIG9uU29sdmVkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzQ29ycmVjdCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7c2hvd1Jlc3VsdCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVOZXh0UXVlc3Rpb259IGNsYXNzTmFtZT1cImJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHB4LTUgcHktMiByb3VuZGVkIGhvdmVyOmJnLWdyZWVuLTcwMFwiPldlaXRlcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JlZW4tNzAwXCI+QWxsZSBQYWFyZSBrb3JyZWt0IHZlcmJ1bmRlbiE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zIG1iLTZcIj5cbiAgICAgICAgICAgICAgICB7aXNNdWx0aXBsZSA/IChcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRRdWVzdGlvbi5hbGxBbnN3ZXJzLm1hcCgoYW5zd2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRBbnN3ZXJzLmluY2x1ZGVzKGFuc3dlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ29ycmVjdEFucyA9IGNvcnJlY3RMaXN0Tm9ybWFsaXplZC5pbmNsdWRlcyhub3JtKGFuc3dlcikpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9uQ2xhc3MgPSBcInctZnVsbCBwLTQgdGV4dC1sZWZ0IGJvcmRlci0yIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG93UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29ycmVjdEFucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3MgKz0gXCJib3JkZXItZ3JlZW4tNTAwIGJnLWdyZWVuLTUwIHRleHQtZ3JlZW4tODAwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1NlbGVjdGVkICYmICFpc0NvcnJlY3RBbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzICs9IFwiYm9yZGVyLXJlZC01MDAgYmctcmVkLTUwIHRleHQtcmVkLTgwMFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1ncmF5LTIwMCBiZy1ncmF5LTUwIHRleHQtZ3JheS02MDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzICs9IFwiYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgdGV4dC1ibHVlLTgwMFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1ncmF5LTIwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAgaG92ZXI6YmctZ3JheS01MFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBbnN3ZXJTZWxlY3QoYW5zd2VyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzaG93UmVzdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtidXR0b25DbGFzc31cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGluZGV4KX0pIHthbnN3ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UXVlc3Rpb24uYWxsQW5zd2Vycy5tYXAoKGFuc3dlciwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQW5zd2VyU2VsZWN0KGFuc3dlcil9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Nob3dSZXN1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHAtNCB0ZXh0LWxlZnQgYm9yZGVyLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRBbnN3ZXIgPT09IGFuc3dlciA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCB0ZXh0LWJsdWUtODAwJyA6ICdib3JkZXItZ3JheS0yMDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwIGhvdmVyOmJnLWdyYXktNTAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGluZGV4KX0pIHthbnN3ZXJ9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBDb250cm9scyAqL31cbiAgICAgICAgICAgIHshaXNNYXRjaGluZyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgbXQtNFwiPlxuICAgICAgICAgICAgICAgIHtpc011bHRpcGxlICYmICFzaG93UmVzdWx0ID8gKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDaGVja011bHRpcGxlfSBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB4LTUgcHktMiByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNzAwXCI+QW50d29ydCBwcsO8ZmVuPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIHNob3dSZXN1bHQgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlTmV4dFF1ZXN0aW9ufSBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSBweC01IHB5LTIgcm91bmRlZCBob3ZlcjpiZy1ncmVlbi03MDBcIj5XZWl0ZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7c2hvd1Jlc3VsdCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B0ZXh0LXNtIGZvbnQtbWVkaXVtICR7aXNDb3JyZWN0ID8gJ3RleHQtZ3JlZW4tNzAwJyA6ICd0ZXh0LXJlZC03MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICB7aXNDb3JyZWN0ID8gJ1JpY2h0aWchJyA6ICdMZWlkZXIgZmFsc2NoLid9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxwPktlaW5lIEZyYWdlIHZvcmhhbmRlbi48L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEZvb3RlciBOYXZpZ2F0aW9uICovfVxuICA8TGVzc29uRm9vdGVyTmF2aWdhdGlvbiBhbGxMZXNzb25zPXthbGxMZXNzb25zfSBjdXJyZW50TGVzc29uSWQ9e2xlc3NvbklkfSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHByb2dyZXNzaW9uTW9kZT17cHJvZ3Jlc3Npb25Nb2RlfSBiYWNrSHJlZj17YmFja0hyZWZ9IC8+XG4gICAgICB7aXNNZW1vcnkgJiYgY29tcGxldGVkICYmIDxkaXYgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LWdyZWVuLTcwMCBmb250LW1lZGl1bVwiPuKclO+4jyBNZW1vcnkgYWJnZXNjaGxvc3NlbiE8L2Rpdj59XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vIENsaWVudC1Lb21wb25lbnRlIGbDvHIgTWFya2Rvd24gUmVuZGVyaW5nXG4vLyBNYXRjaGluZ1VJIGpldHp0IGF1c2dlbGFnZXJ0XG5cbi8vIE9yZGVyaW5nUGxheWVyIHVuZCBMdWVja2VudGV4dFBsYXllciBhdXNnZWxhZ2VydFxuIl0sIm5hbWVzIjpbInVzZVBhcmFtcyIsInVzZVJvdXRlciIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwidXNlU2Vzc2lvbiIsIk1hcmtkb3duTGVzc29uIiwiWW91VHViZUxlc3NvbiIsIk1lbW9yeUdhbWUiLCJNYXRjaGluZ1VJIiwiTGVzc29uRm9vdGVyTmF2aWdhdGlvbiIsIlNuYWtlR2FtZSIsImZpbmFsaXplTGVzc29uIiwicmVzb2x2ZU1lZGlhUGF0aCIsImlzSW1hZ2VQYXRoIiwiaXNBdWRpb1BhdGgiLCJMZXNzb25QYWdlIiwibGVzc29uIiwic2Vzc2lvbiIsInBhcmFtcyIsInJvdXRlciIsImNvdXJzZUlkIiwibGVzc29uSWQiLCJkYXRhIiwic2V0TGVzc29uIiwibG9hZGluZyIsInNldExvYWRpbmciLCJzZXRDdXJyZW50UXVlc3Rpb25JbmRleCIsInF1ZXN0aW9uUXVldWUiLCJzZXRRdWVzdGlvblF1ZXVlIiwibWFzdGVyZWQiLCJzZXRNYXN0ZXJlZCIsIlNldCIsIm1hcmtpbmciLCJzZXRNYXJraW5nIiwic2VsZWN0ZWRBbnN3ZXIiLCJzZXRTZWxlY3RlZEFuc3dlciIsInNlbGVjdGVkQW5zd2VycyIsInNldFNlbGVjdGVkQW5zd2VycyIsInNob3dSZXN1bHQiLCJzZXRTaG93UmVzdWx0IiwiaXNDb3JyZWN0Iiwic2V0SXNDb3JyZWN0Iiwic2NvcmUiLCJzZXRTY29yZSIsImNvbXBsZXRlZCIsInNldENvbXBsZXRlZCIsImFsbExlc3NvbnMiLCJzZXRBbGxMZXNzb25zIiwicHJvZ3Jlc3Npb25Nb2RlIiwic2V0UHJvZ3Jlc3Npb25Nb2RlIiwiY29tcGxldGVkTGVzc29ucyIsInNldENvbXBsZXRlZExlc3NvbnMiLCJiYWNrSHJlZiIsInNldEJhY2tIcmVmIiwibHRBbnN3ZXJzU3RhdGUiLCJzZXRMdEFuc3dlcnNTdGF0ZSIsImx0Q2hlY2tlZCIsInNldEx0Q2hlY2tlZCIsImx0Q29ycmVjdEFsbCIsInNldEx0Q29ycmVjdEFsbCIsImx0VXNlZEFuc3dlcnMiLCJzZXRMdFVzZWRBbnN3ZXJzIiwibHRGb2N1c0dhcCIsInNldEx0Rm9jdXNHYXAiLCJsdE1hc2tlZCIsInR5cGUiLCJTdHJpbmciLCJjb250ZW50IiwibWFya2Rvd25NYXNrZWQiLCJsdEdhcHMiLCJBcnJheSIsImlzQXJyYXkiLCJnYXBzIiwibWFwIiwiZyIsImlkIiwiYW5zd2VyIiwibHRNb2RlIiwibW9kZSIsImx0UGFydHMiLCJzcGxpdCIsImZpbHRlciIsIkJvb2xlYW4iLCJsdEJhbmsiLCJzaHVmZmxlIiwiYXJyIiwidiIsIk1hdGgiLCJyYW5kb20iLCJzb3J0IiwiYSIsImIiLCJfaWQiLCJsb2FkTGVzc29uIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwicGF5bG9hZCIsImpzb24iLCJsZXNzb25BcnJheSIsImxlc3NvbnMiLCJjb3Vyc2UiLCJpc0V4ZXJjaXNlUG9vbCIsImhhc1JlYWxDb3Vyc2UiLCJrZXkiLCJmb3VuZExlc3NvbiIsImZpbmQiLCJsIiwibHIiLCJsZCIsInRvdGFsIiwicXVlc3Rpb25zIiwibGVuZ3RoIiwiZnJvbSIsIl8iLCJpIiwiY29tcGxldGVkS2V5IiwiaW5Qcm9ncmVzc0tleSIsImNvbXBsZXRlZFN0b3JlZCIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJmb3VuZElkIiwiaW5jbHVkZXMiLCJpblByb2ciLCJ1cGRhdGVkIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImVycm9yIiwiY29uc29sZSIsIkRhdGUiLCJub3ciLCJub3JtIiwicyIsInRyaW0iLCJoYW5kbGVBbnN3ZXJTZWxlY3QiLCJwcmV2IiwiY3VycmVudFF1ZXN0aW9uIiwiY29ycmVjdCIsImNvcnJlY3RBbnN3ZXIiLCJoYXMiLCJoYW5kbGVDaGVja011bHRpcGxlIiwiY29ycmVjdExpc3QiLCJjb3JyZWN0QW5zd2VycyIsInNlbE5vcm0iLCJpc1NldEVxdWFsIiwiZXZlcnkiLCJ0ZXh0QW5zd2VySW5wdXQiLCJzZXRUZXh0QW5zd2VySW5wdXQiLCJ0ZXh0QW5zd2VyRmVlZGJhY2siLCJzZXRUZXh0QW5zd2VyRmVlZGJhY2siLCJ0ZXh0QW5zd2VyUXVldWUiLCJzZXRUZXh0QW5zd2VyUXVldWUiLCJ0ZXh0QW5zd2VyU29sdmVkIiwic2V0VGV4dEFuc3dlclNvbHZlZCIsInRleHRBbnN3ZXJSZXZlYWxlZCIsInNldFRleHRBbnN3ZXJSZXZlYWxlZCIsInRleHRBbnN3ZXJSZXZlYWxSb3VuZCIsInNldFRleHRBbnN3ZXJSZXZlYWxSb3VuZCIsInRleHRBbnN3ZXJSb3VuZCIsInNldFRleHRBbnN3ZXJSb3VuZCIsInRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHgiLCJzZXRUZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4IiwidGV4dEFuc3dlckJsb2NrcyIsImMiLCJibG9ja3MiLCJxdWVzdGlvbiIsImFuc3dlcnMiLCJtZWRpYSIsInN1Ym1pdFRleHRBbnN3ZXIiLCJjYXNlU2Vuc2l0aXZlIiwibm9ybWFsaXplIiwidG9Mb3dlckNhc2UiLCJjdXJyZW50SW5kZXgiLCJjdXJyZW50IiwidXNlck5vcm0iLCJjb3JyZWN0Tm9ybXMiLCJzZXRUaW1lb3V0IiwiYWRkIiwic2xpY2UiLCJyZXZlYWxDdXJyZW50VGV4dEFuc3dlciIsImlkeCIsImFkdmFuY2VBZnRlclJldmVhbCIsInNpemUiLCJyZW1haW5pbmciLCJyIiwidXNlcm5hbWUiLCJ1c2VyIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJlYXJuZWRTdGFyIiwiY2F0Y2giLCJzdG9yZWQiLCJlIiwiaGFuZGxlTmV4dFF1ZXN0aW9uIiwiY3VycmVudElkeCIsIm5ld1F1ZXVlIiwibmV3TWFzdGVyZWQiLCJzaGlmdCIsImhhbmRsZVJldHJ5IiwiaXNNYXJrZG93biIsIm1hcmtkb3duIiwiaXNWaWRlbyIsImlzTHVlY2tlbnRleHQiLCJpc09yZGVyaW5nIiwiaXNTbmFrZSIsIm1hcmtWaWRlb0NvbXBsZXRlZCIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJoMiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwdXNoIiwidG90YWxRdWVzdGlvbnMiLCJwcm9ncmVzcyIsInVuZGVmaW5lZCIsImN1cnJlbnRNZWRpYSIsIm1lZGlhTGluayIsImNvcnJlY3RMaXN0Tm9ybWFsaXplZCIsImluZGV4IiwiZmluZEluZGV4IiwicHJldklkIiwicmVwbGFjZSIsImgxIiwidGl0bGUiLCJjdXJyZW50TGVzc29uSWQiLCJzZXNzaW9uVXNlcm5hbWUiLCJpc011bHRpcGxlIiwiaXNNYXRjaGluZyIsImhhc01lbW9yeVBhaXJzIiwicGFpcnMiLCJlZmZlY3RpdmVUeXBlIiwiaXNNZW1vcnkiLCJzdHlsZSIsIndpZHRoIiwib25Db21wbGV0ZWQiLCJpbWciLCJzcmMiLCJhbHQiLCJvbkVycm9yIiwiZWwiLCJjdXJyZW50VGFyZ2V0IiwibmFtZSIsInBvcCIsImRhdGFzZXQiLCJmYWxsYmFjazEiLCJmYWxsYmFjazIiLCJhdWRpbyIsImNvbnRyb2xzIiwic291cmNlIiwiaHJlZiIsInRhcmdldCIsInJlbCIsIm9uU29sdmVkIiwic3BhbiIsImFsbEFuc3dlcnMiLCJpc1NlbGVjdGVkIiwiaXNDb3JyZWN0QW5zIiwiYnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsImZyb21DaGFyQ29kZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx\n"));

/***/ })

});