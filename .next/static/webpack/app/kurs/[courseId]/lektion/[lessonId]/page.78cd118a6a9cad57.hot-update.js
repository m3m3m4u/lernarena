"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/kurs/[courseId]/lektion/[lessonId]/page",{

/***/ "(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx":
/*!*************************************************************!*\
  !*** ./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LessonPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!react */ \"(app-pages-browser)/__barrel_optimize__?names=useCallback,useEffect,useMemo,useState!=!./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next-auth/react */ \"(app-pages-browser)/./node_modules/next-auth/react/index.js\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../components/lessonTypes */ \"(app-pages-browser)/./src/components/lessonTypes/index.ts\");\n/* harmony import */ var _lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../lib/lessonCompletion */ \"(app-pages-browser)/./src/lib/lessonCompletion.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n// Ausgelagerte Lektionstyp-Komponenten (schrittweises Refactoring)\n\n\nfunction LessonPage() {\n    var _lesson_content, _session_user, _lesson_content1, _session_user1, _session_user2, _lesson_questions;\n    _s();\n    const params = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams)();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter)();\n    const courseId = params.courseId;\n    const lessonId = params.lessonId;\n    const { data: session } = (0,next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession)();\n    const [lesson, setLesson] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [loading, setLoading] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [, setCurrentQuestionIndex] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0); // DEPRECATED (für alte Logik)\n    const [questionQueue, setQuestionQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Reihenfolge offener Fragen\n    const [mastered, setMastered] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // korrekt beantwortete Fragen\n    const [marking, setMarking] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false); // Server-Update Status\n    const [selectedAnswer, setSelectedAnswer] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Neu: Auswahl für Multiple-Choice\n    const [selectedAnswers, setSelectedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [showResult, setShowResult] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [isCorrect, setIsCorrect] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [score, setScore] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(0);\n    const [completed, setCompleted] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [allLessons, setAllLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // für Footer-Navigation\n    const [progressionMode, setProgressionMode] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('free');\n    const [completedLessons, setCompletedLessons] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // erledigte Lektionen\n    // Lückentext States (immer aufrufen, nicht konditional)\n    const [ltAnswersState, setLtAnswersState] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    const [ltChecked, setLtChecked] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltCorrectAll, setLtCorrectAll] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [ltUsedAnswers, setLtUsedAnswers] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [ltFocusGap, setLtFocusGap] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Lückentext derived Daten (immer Hooks gleich halten)\n    const ltMasked = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltMasked]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? String((lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.markdownMasked) || '') : '';\n        }\n    }[\"LessonPage.useMemo[ltMasked]\"], [\n        lesson\n    ]);\n    const ltGaps = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltGaps]\": ()=>{\n            var _lesson_content;\n            return (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' ? Array.isArray(lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.gaps) ? (lesson === null || lesson === void 0 ? void 0 : lesson.content).gaps.map({\n                \"LessonPage.useMemo[ltGaps]\": (g)=>({\n                        id: g.id,\n                        answer: String(g.answer)\n                    })\n            }[\"LessonPage.useMemo[ltGaps]\"]) : [] : [];\n        }\n    }[\"LessonPage.useMemo[ltGaps]\"], [\n        lesson\n    ]);\n    const ltMode = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext' && (lesson === null || lesson === void 0 ? void 0 : (_lesson_content = lesson.content) === null || _lesson_content === void 0 ? void 0 : _lesson_content.mode) === 'drag' ? 'drag' : 'input';\n    const ltParts = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltParts]\": ()=>ltMasked ? ltMasked.split(/(___\\d+___)/g).filter(Boolean) : []\n    }[\"LessonPage.useMemo[ltParts]\"], [\n        ltMasked\n    ]);\n    const ltBank = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[ltBank]\": ()=>{\n            if (ltMode !== 'drag') return [];\n            const shuffle = {\n                \"LessonPage.useMemo[ltBank].shuffle\": (arr)=>arr.map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (v)=>[\n                                Math.random(),\n                                v\n                            ]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).sort({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (a, b)=>a[0] - b[0]\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"]).map({\n                        \"LessonPage.useMemo[ltBank].shuffle\": (param)=>{\n                            let [, v] = param;\n                            return v;\n                        }\n                    }[\"LessonPage.useMemo[ltBank].shuffle\"])\n            }[\"LessonPage.useMemo[ltBank].shuffle\"];\n            return shuffle(ltGaps.map({\n                \"LessonPage.useMemo[ltBank]\": (g)=>g.answer\n            }[\"LessonPage.useMemo[ltBank]\"]));\n        }\n    }[\"LessonPage.useMemo[ltBank]\"], [\n        ltMode,\n        ltGaps\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // Reset bei Lektionstyp-Wechsel\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext') {\n                setLtAnswersState({});\n                setLtChecked(false);\n                setLtCorrectAll(false);\n                setLtUsedAnswers([]);\n                setLtFocusGap(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type\n    ]);\n    const loadLesson = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[loadLesson]\": async ()=>{\n            try {\n                const response = await fetch(\"/api/kurs/\".concat(courseId, \"/lektionen\"));\n                if (response.ok) {\n                    const payload = await response.json();\n                    const lessonArray = Array.isArray(payload) ? payload : payload.lessons || [];\n                    setAllLessons(lessonArray);\n                    // progressionMode vom Kurs laden (jetzt meist in der Antwort enthalten)\n                    if (payload.course && payload.course.progressionMode) {\n                        setProgressionMode(payload.course.progressionMode === 'linear' ? 'linear' : 'free');\n                    } else {\n                        setProgressionMode('free');\n                    }\n                    let foundLesson = lessonArray.find({\n                        \"LessonPage.useCallback[loadLesson].foundLesson\": (l)=>l._id === lessonId || l.id === lessonId\n                    }[\"LessonPage.useCallback[loadLesson].foundLesson\"]);\n                    if (!foundLesson) {\n                        // Fallback: Direkt über globalen Endpoint laden (für exercise-pool oder abweichende Organisation)\n                        try {\n                            const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                            if (lr.ok) {\n                                const ld = await lr.json();\n                                if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                                    foundLesson = ld.lesson;\n                                    setAllLessons([\n                                        ld.lesson\n                                    ]);\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                    if (foundLesson) setLesson(foundLesson);\n                    if (foundLesson) {\n                        var _foundLesson_questions;\n                        // Initial Queue setzen\n                        const total = ((_foundLesson_questions = foundLesson.questions) === null || _foundLesson_questions === void 0 ? void 0 : _foundLesson_questions.length) || 0;\n                        setQuestionQueue(Array.from({\n                            length: total\n                        }, {\n                            \"LessonPage.useCallback[loadLesson]\": (_, i)=>i\n                        }[\"LessonPage.useCallback[loadLesson]\"]));\n                        setMastered(new Set());\n                        setScore(0);\n                        setCompleted(false);\n                        setCurrentQuestionIndex(0); // legacy\n                        // In-Progress markieren falls noch nicht abgeschlossen\n                        try {\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            const completedStored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                            const foundId = foundLesson._id || foundLesson.id;\n                            if (foundId && !completedStored.includes(foundId)) {\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (!inProg.includes(foundId)) {\n                                    const updated = [\n                                        ...inProg,\n                                        foundId\n                                    ];\n                                    localStorage.setItem(inProgressKey, JSON.stringify(updated));\n                                }\n                            }\n                        } catch (e) {}\n                    }\n                } else {\n                    // Harte Fallback-Strategie: direkt per ID laden (z. B. exercise-pool oder Kurs-Fetch-Problem)\n                    try {\n                        const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                        if (lr.ok) {\n                            const ld = await lr.json();\n                            if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                                setLesson(ld.lesson);\n                                setAllLessons([\n                                    ld.lesson\n                                ]);\n                                setProgressionMode('free');\n                            }\n                        }\n                    } catch (e) {}\n                }\n                setLoading(false);\n            } catch (error) {\n                console.error('Fehler beim Laden der Lektion:', error);\n                // Letzter Versuch: Direkt per ID\n                try {\n                    const lr = await fetch(\"/api/lessons/\".concat(lessonId));\n                    if (lr.ok) {\n                        const ld = await lr.json();\n                        if (ld === null || ld === void 0 ? void 0 : ld.lesson) {\n                            setLesson(ld.lesson);\n                            setAllLessons([\n                                ld.lesson\n                            ]);\n                            setProgressionMode('free');\n                        }\n                    }\n                } catch (e) {}\n                setLoading(false);\n            }\n        }\n    }[\"LessonPage.useCallback[loadLesson]\"], [\n        courseId,\n        lessonId\n    ]);\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            loadLesson();\n        }\n    }[\"LessonPage.useEffect\"], [\n        loadLesson\n    ]);\n    // Zuletzt weitergemacht (für Dashboard): beim Öffnen merken\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            try {\n                if (courseId) localStorage.setItem('last:courseId', String(courseId));\n                if (lessonId) localStorage.setItem('last:lessonId', String(lessonId));\n                if (courseId) localStorage.setItem(\"course:\".concat(courseId, \":lastTouched\"), String(Date.now()));\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId,\n        lessonId\n    ]);\n    // Helper zum Normalisieren von Antworten (früher vorhanden, wiederhergestellt)\n    const norm = (s)=>typeof s === 'string' ? s.trim() : String(s !== null && s !== void 0 ? s : '');\n    const handleAnswerSelect = (answer)=>{\n        if (showResult) return;\n        if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'multiple-choice') {\n            setSelectedAnswers((prev)=>prev.includes(answer) ? prev.filter((a)=>a !== answer) : [\n                    ...prev,\n                    answer\n                ]);\n            return;\n        }\n        setSelectedAnswer(answer);\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correct = norm(answer) === norm(currentQuestion.correctAnswer);\n        setIsCorrect(correct);\n        setShowResult(true);\n        if (correct && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    const handleCheckMultiple = ()=>{\n        if (!lesson || !lesson.questions || questionQueue.length === 0) return;\n        const currentQuestion = lesson.questions[questionQueue[0]];\n        const correctList = (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : currentQuestion.correctAnswer ? [\n            currentQuestion.correctAnswer\n        ] : []).map(norm);\n        const selNorm = selectedAnswers.map(norm);\n        const isSetEqual = selNorm.length === correctList.length && correctList.every((a)=>selNorm.includes(a));\n        setIsCorrect(isSetEqual);\n        setShowResult(true);\n        if (isSetEqual && !mastered.has(questionQueue[0])) {\n            setScore((prev)=>prev + 1);\n        }\n    };\n    // Multi Text-Antwort States\n    const [textAnswerInput, setTextAnswerInput] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)('');\n    const [textAnswerFeedback, setTextAnswerFeedback] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const [textAnswerQueue, setTextAnswerQueue] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)([]); // Index-Reihenfolge der noch offenen Blöcke\n    const [textAnswerSolved, setTextAnswerSolved] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set());\n    const [textAnswerRevealed, setTextAnswerRevealed] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Set()); // Gesamt-Flag (Analytics)\n    const [textAnswerRevealRound, setTextAnswerRevealRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)({}); // index -> Runde\n    const [textAnswerRound, setTextAnswerRound] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(1);\n    const [textAnswerJustRevealedIdx, setTextAnswerJustRevealedIdx] = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const textAnswerBlocks = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useMemo)({\n        \"LessonPage.useMemo[textAnswerBlocks]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return [];\n            const c = lesson.content || {};\n            if (Array.isArray(c.blocks)) {\n                return c.blocks.filter({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>b && typeof b.question === 'string' && Array.isArray(b.answers) && b.answers.length > 0\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]).map({\n                    \"LessonPage.useMemo[textAnswerBlocks]\": (b)=>({\n                            question: String(b.question),\n                            answers: b.answers.map({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>String(a)\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]).filter({\n                                \"LessonPage.useMemo[textAnswerBlocks]\": (a)=>a.length > 0\n                            }[\"LessonPage.useMemo[textAnswerBlocks]\"]),\n                            media: b.media && String(b.media)\n                        })\n                }[\"LessonPage.useMemo[textAnswerBlocks]\"]);\n            }\n            if (c.question && c.answer) return [\n                {\n                    question: String(c.question),\n                    answers: [\n                        String(c.answer)\n                    ]\n                }\n            ];\n            return [];\n        }\n    }[\"LessonPage.useMemo[textAnswerBlocks]\"], [\n        lesson\n    ]);\n    // Initial Queue setzen wenn Blocks geladen\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer') {\n                setTextAnswerQueue(textAnswerBlocks.map({\n                    \"LessonPage.useEffect\": (_, i)=>i\n                }[\"LessonPage.useEffect\"]));\n                setTextAnswerSolved(new Set());\n                setTextAnswerRevealed(new Set());\n                setTextAnswerRound(1);\n                setTextAnswerRevealRound({});\n                setTextAnswerInput('');\n                setTextAnswerFeedback(null);\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson === null || lesson === void 0 ? void 0 : lesson._id,\n        lesson === null || lesson === void 0 ? void 0 : lesson.type,\n        textAnswerBlocks.length\n    ]);\n    const submitTextAnswer = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            if (!textAnswerBlocks.length || !textAnswerQueue.length) return;\n            const c = lesson.content || {};\n            const caseSensitive = !!c.caseSensitive;\n            const normalize = {\n                \"LessonPage.useCallback[submitTextAnswer].normalize\": (s)=>caseSensitive ? s.trim() : s.trim().toLowerCase()\n            }[\"LessonPage.useCallback[submitTextAnswer].normalize\"];\n            const currentIndex = textAnswerQueue[0];\n            const current = textAnswerBlocks[currentIndex];\n            const userNorm = normalize(textAnswerInput);\n            if (!userNorm) {\n                setTextAnswerFeedback('Bitte etwas eingeben.');\n                return;\n            }\n            const correctNorms = current.answers.map({\n                \"LessonPage.useCallback[submitTextAnswer].correctNorms\": (a)=>normalize(a)\n            }[\"LessonPage.useCallback[submitTextAnswer].correctNorms\"]);\n            if (correctNorms.includes(userNorm)) {\n                setTextAnswerFeedback('✅ Korrekt!');\n                setTimeout({\n                    \"LessonPage.useCallback[submitTextAnswer]\": ()=>{\n                        setTextAnswerSolved({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>new Set(prev).add(currentIndex)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                        setTextAnswerInput('');\n                        setTextAnswerFeedback(null);\n                        // Nächste Frage\n                        setTextAnswerQueue({\n                            \"LessonPage.useCallback[submitTextAnswer]\": (prev)=>prev.slice(1)\n                        }[\"LessonPage.useCallback[submitTextAnswer]\"]);\n                    }\n                }[\"LessonPage.useCallback[submitTextAnswer]\"], 400);\n                return;\n            }\n            setTextAnswerFeedback('❌ Nicht korrekt.');\n        }\n    }[\"LessonPage.useCallback[submitTextAnswer]\"], [\n        lesson,\n        textAnswerBlocks,\n        textAnswerQueue,\n        textAnswerInput\n    ]);\n    const revealCurrentTextAnswer = ()=>{\n        if (!lesson || lesson.type !== 'text-answer') return;\n        if (!textAnswerQueue.length) return;\n        const idx = textAnswerQueue[0];\n        setTextAnswerRevealed((prev)=>new Set(prev).add(idx));\n        setTextAnswerRevealRound((prev)=>({\n                ...prev,\n                [idx]: textAnswerRound\n            }));\n        setTextAnswerFeedback('🛈 Antwort eingeblendet. Später erneut beantworten.');\n        setTextAnswerJustRevealedIdx(idx);\n        setTextAnswerInput('');\n    };\n    const advanceAfterReveal = ()=>{\n        if (textAnswerJustRevealedIdx == null) return;\n        setTextAnswerQueue((prev)=>prev[0] === textAnswerJustRevealedIdx ? prev.slice(1) : prev);\n        setTextAnswerJustRevealedIdx(null);\n        setTextAnswerFeedback(null);\n    };\n    // Wenn Queue leer aber noch nicht alle solved -> neue Runde mit nur ungelösten (reveal Fragen)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if ((lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'text-answer' && textAnswerQueue.length === 0 && textAnswerBlocks.length) {\n                const total = textAnswerBlocks.length;\n                if (textAnswerSolved.size === total) {\n                    setCompleted(true);\n                } else {\n                    const remaining = textAnswerBlocks.map({\n                        \"LessonPage.useEffect.remaining\": (_, i)=>i\n                    }[\"LessonPage.useEffect.remaining\"]).filter({\n                        \"LessonPage.useEffect.remaining\": (i)=>!textAnswerSolved.has(i)\n                    }[\"LessonPage.useEffect.remaining\"]);\n                    setTextAnswerQueue(remaining);\n                    setTextAnswerRound({\n                        \"LessonPage.useEffect\": (r)=>r + 1\n                    }[\"LessonPage.useEffect\"]);\n                    setTextAnswerFeedback(null);\n                }\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        textAnswerQueue.length,\n        textAnswerSolved,\n        textAnswerBlocks,\n        lesson\n    ]);\n    // NEU: Abschluss + Stern für Text-Antwort Lektionen (bisher fehlte API-Aufruf)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                if (!username) return;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await fetch('/api/lesson/complete', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id,\n                                    courseId: lesson.courseId,\n                                    type: lesson.type,\n                                    earnedStar: true\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            await fetch('/api/progress', {\n                                method: 'POST',\n                                headers: {\n                                    'Content-Type': 'application/json'\n                                },\n                                body: JSON.stringify({\n                                    username,\n                                    lessonId: lesson._id\n                                })\n                            }).catch({\n                                \"LessonPage.useEffect\": ()=>{}\n                            }[\"LessonPage.useEffect\"]);\n                            const completedKey = \"course:\".concat(courseId, \":completedLessons\");\n                            const inProgressKey = \"course:\".concat(courseId, \":inProgressLessons\");\n                            try {\n                                const stored = JSON.parse(localStorage.getItem(completedKey) || '[]');\n                                if (!stored.includes(lesson._id)) {\n                                    const updated = [\n                                        ...stored,\n                                        lesson._id\n                                    ];\n                                    localStorage.setItem(completedKey, JSON.stringify(updated));\n                                    setCompletedLessons(updated);\n                                }\n                                const inProg = JSON.parse(localStorage.getItem(inProgressKey) || '[]');\n                                if (Array.isArray(inProg) && inProg.includes(lesson._id)) {\n                                    localStorage.setItem(inProgressKey, JSON.stringify(inProg.filter({\n                                        \"LessonPage.useEffect\": (id)=>id !== lesson._id\n                                    }[\"LessonPage.useEffect\"])));\n                                }\n                            } catch (e) {}\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username,\n        courseId\n    ]);\n    // Wiederhergestellt: Fortschrittslogik nach Bewertung\n    const handleNextQuestion = ()=>{\n        if (!lesson || questionQueue.length === 0) return;\n        const currentIdx = questionQueue[0];\n        let newQueue = [\n            ...questionQueue\n        ];\n        if (isCorrect) {\n            if (!mastered.has(currentIdx)) {\n                const newMastered = new Set(mastered);\n                newMastered.add(currentIdx);\n                setMastered(newMastered);\n            }\n            newQueue.shift();\n        } else {\n            newQueue = [\n                ...newQueue.slice(1),\n                currentIdx\n            ];\n        }\n        setQuestionQueue(newQueue);\n        setSelectedAnswer(\"\");\n        setSelectedAnswers([]);\n        setShowResult(false);\n        if (newQueue.length === 0) {\n            setCompleted(true);\n            (async ()=>{\n                try {\n                    var _session_user;\n                    const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                    setMarking(true);\n                    await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                        username,\n                        lessonId: lesson._id,\n                        courseId: lesson.courseId,\n                        type: lesson.type,\n                        earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                    });\n                    setCompletedLessons((prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]);\n                } catch (e) {\n                    console.error('Abschließen fehlgeschlagen', e);\n                } finally{\n                    setMarking(false);\n                }\n            })();\n        } else {\n            setCurrentQuestionIndex(newQueue[0]);\n        }\n    };\n    const handleRetry = ()=>{\n        setCurrentQuestionIndex(0);\n        setSelectedAnswer(\"\");\n        setShowResult(false);\n        setScore(0);\n        setCompleted(false);\n        setSelectedAnswers([]);\n    };\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            // erledigte Lektionen aus localStorage laden\n            const key = \"course:\".concat(courseId, \":completedLessons\");\n            try {\n                const stored = JSON.parse(localStorage.getItem(key) || '[]');\n                if (Array.isArray(stored)) setCompletedLessons(stored);\n            } catch (e) {}\n        }\n    }[\"LessonPage.useEffect\"], [\n        courseId\n    ]);\n    // (Entfernt) früherer Effekt für generisches Speichern bei completed -> Logik jetzt in finalizeLesson Stellen zentralisiert\n    // Neu: Typen-Flags und Abschluss-Funktion für YouTube\n    const isMarkdown = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'markdown' && ((_lesson_content1 = lesson.content) === null || _lesson_content1 === void 0 ? void 0 : _lesson_content1.markdown);\n    const isVideo = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'video';\n    const isLueckentext = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'lueckentext';\n    const isOrdering = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'ordering';\n    const isSnake = (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'snake' || (lesson === null || lesson === void 0 ? void 0 : lesson.type) === 'minigame';\n    const markVideoCompleted = (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useCallback)({\n        \"LessonPage.useCallback[markVideoCompleted]\": async ()=>{\n            var _session_user;\n            const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n            if (!lesson) return;\n            if (completedLessons.includes(lesson._id)) return;\n            setMarking(true);\n            try {\n                await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                    username,\n                    lessonId: lesson._id,\n                    courseId: lesson.courseId,\n                    type: lesson.type,\n                    earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                });\n                setCompletedLessons({\n                    \"LessonPage.useCallback[markVideoCompleted]\": (prev)=>prev.includes(lesson._id) ? prev : [\n                            ...prev,\n                            lesson._id\n                        ]\n                }[\"LessonPage.useCallback[markVideoCompleted]\"]);\n            } catch (e) {\n                console.error('Video Abschluss fehlgeschlagen', e);\n            } finally{\n                setMarking(false);\n            }\n        }\n    }[\"LessonPage.useCallback[markVideoCompleted]\"], [\n        session === null || session === void 0 ? void 0 : (_session_user1 = session.user) === null || _session_user1 === void 0 ? void 0 : _session_user1.username,\n        lesson,\n        completedLessons,\n        courseId\n    ]);\n    // Abschluss Text-Antwort Lektion (centralized)\n    (0,_barrel_optimize_names_useCallback_useEffect_useMemo_useState_react__WEBPACK_IMPORTED_MODULE_2__.useEffect)({\n        \"LessonPage.useEffect\": ()=>{\n            if (!lesson || lesson.type !== 'text-answer') return;\n            const total = textAnswerBlocks.length;\n            if (total === 0) return;\n            if (textAnswerSolved.size === total && !completedLessons.includes(lesson._id)) {\n                var _session_user;\n                const username = session === null || session === void 0 ? void 0 : (_session_user = session.user) === null || _session_user === void 0 ? void 0 : _session_user.username;\n                ({\n                    \"LessonPage.useEffect\": async ()=>{\n                        try {\n                            await (0,_lib_lessonCompletion__WEBPACK_IMPORTED_MODULE_5__.finalizeLesson)({\n                                username,\n                                lessonId: lesson._id,\n                                courseId: lesson.courseId,\n                                type: lesson.type,\n                                earnedStar: lesson.type !== 'markdown' && !completedLessons.includes(lesson._id)\n                            });\n                            setCompletedLessons({\n                                \"LessonPage.useEffect\": (prev)=>prev.includes(lesson._id) ? prev : [\n                                        ...prev,\n                                        lesson._id\n                                    ]\n                            }[\"LessonPage.useEffect\"]);\n                        } catch (e) {\n                            console.error('Text-Antwort Abschluss fehlgeschlagen', e);\n                        }\n                    }\n                })[\"LessonPage.useEffect\"]();\n            }\n        }\n    }[\"LessonPage.useEffect\"], [\n        lesson,\n        textAnswerSolved,\n        textAnswerBlocks,\n        completedLessons,\n        session === null || session === void 0 ? void 0 : (_session_user2 = session.user) === null || _session_user2 === void 0 ? void 0 : _session_user2.username,\n        courseId\n    ]);\n    // Early Returns jetzt NACH allen Hooks\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin inline-block w-8 h-8 border-4 border-current border-t-transparent text-blue-600 rounded-full\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 446,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-2 text-gray-600\",\n                        children: \"Lektion wird geladen...\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 447,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 445,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 444,\n            columnNumber: 7\n        }, this);\n    }\n    if (!lesson) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6 bg-white rounded shadow\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-xl font-bold text-red-600\",\n                    children: \"Lektion nicht gefunden\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 456,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    className: \"text-gray-600 mt-2\",\n                    children: \"Die angeforderte Lektion konnte nicht geladen werden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 457,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"mt-4 text-blue-600 hover:underline\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 458,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 455,\n            columnNumber: 7\n        }, this);\n    }\n    const totalQuestions = ((_lesson_questions = lesson.questions) === null || _lesson_questions === void 0 ? void 0 : _lesson_questions.length) || 0;\n    const progress = totalQuestions > 0 ? mastered.size / totalQuestions * 100 : 0;\n    const currentQuestion = lesson.questions && questionQueue.length > 0 ? lesson.questions[questionQueue[0]] : undefined;\n    // Vorberechnete korrekte Antworten (normalisiert) für Anzeige/Checks\n    const correctListNormalized = currentQuestion && (Array.isArray(currentQuestion.correctAnswers) && currentQuestion.correctAnswers.length ? currentQuestion.correctAnswers : (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.correctAnswer) ? [\n        currentQuestion.correctAnswer\n    ] : []).map(norm) || [];\n    // Snake frühe Rückgabe\n    // Lock-Redirect bei linearer Progression: wenn vorherige Lektion nicht abgeschlossen\n    if (lesson && progressionMode === 'linear') {\n        const index = allLessons.findIndex((l)=>l._id === lesson._id || l.id === lesson._id);\n        if (index > 0) {\n            const prev = allLessons[index - 1];\n            const prevId = prev._id || prev.id;\n            if (prevId && !completedLessons.includes(prevId)) {\n                // redirect zurück auf Kursseite\n                if (true) {\n                    router.replace(\"/kurs/\".concat(courseId));\n                }\n            }\n        }\n    }\n    if (lesson && isSnake) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 491,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 492,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.SnakeGame, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 493,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 494,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 490,\n            columnNumber: 7\n        }, this);\n    }\n    // Render für Markdown-Lektion\n    if (isMarkdown) {\n        var _session_user3;\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-6xl mx-auto mt-10 p-6\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                    className: \"text-blue-600 hover:underline mb-4\",\n                    children: \"← Zur\\xfcck zum Kurs\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 503,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                    className: \"text-2xl font-bold mb-6\",\n                    children: lesson.title\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 504,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MarkdownLesson, {\n                    lesson: lesson,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    setCompletedLessons: setCompletedLessons,\n                    sessionUsername: session === null || session === void 0 ? void 0 : (_session_user3 = session.user) === null || _session_user3 === void 0 ? void 0 : _session_user3.username\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 505,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                    allLessons: allLessons,\n                    currentLessonId: lessonId,\n                    courseId: courseId,\n                    completedLessons: completedLessons,\n                    progressionMode: progressionMode\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 506,\n                    columnNumber: 3\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n            lineNumber: 502,\n            columnNumber: 7\n        }, this);\n    }\n    const isMultiple = lesson.type === 'multiple-choice';\n    const isMatching = lesson.type === 'matching';\n    const hasMemoryPairs = !!(lesson.content && lesson.content.pairs && Array.isArray(lesson.content.pairs));\n    const effectiveType = lesson.type === 'memory' || lesson.type === 'matching' && hasMemoryPairs ? 'memory' : lesson.type;\n    const isMemory = effectiveType === 'memory';\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-6xl mx-auto mt-10 p-6\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mb-6\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: ()=>router.push(\"/kurs/\".concat(courseId)),\n                        className: \"text-blue-600 hover:underline mb-4\",\n                        children: \"← Zur\\xfcck zum Kurs\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 520,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold mb-2\",\n                        children: lesson.title\n                    }, void 0, false, {\n                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                        lineNumber: 521,\n                        columnNumber: 9\n                    }, this),\n                    !isVideo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-full bg-gray-200 rounded-full h-2\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-blue-600 h-2 rounded-full transition-all duration-300\",\n                                    style: {\n                                        width: \"\".concat(progress, \"%\")\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 525,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 524,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600 mt-1\",\n                                children: [\n                                    \"Fortschritt: \",\n                                    mastered.size,\n                                    \" / \",\n                                    totalQuestions,\n                                    \" gemeistert\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 527,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 519,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-lg shadow-lg p-8\",\n                children: isVideo ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.YouTubeLesson, {\n                    lesson: lesson,\n                    onCompleted: markVideoCompleted\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 533,\n                    columnNumber: 11\n                }, this) : effectiveType === 'memory' ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MemoryGame, {\n                    lesson: {\n                        ...lesson,\n                        type: 'memory'\n                    },\n                    onCompleted: ()=>{\n                        setIsCorrect(true);\n                        setShowResult(true);\n                        setCompleted(true);\n                    },\n                    completedLessons: completedLessons\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 535,\n                    columnNumber: 11\n                }, this) : currentQuestion ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold mb-6\",\n                            children: currentQuestion.question\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 538,\n                            columnNumber: 13\n                        }, this),\n                        !isMatching && currentQuestion.mediaLink && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mb-6 p-4 bg-gray-50 rounded-lg\",\n                            children: currentQuestion.mediaLink.match(/\\.(jpg|jpeg|png|gif|webp)$/i) ? // eslint-disable-next-line @next/next/no-img-element\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: currentQuestion.mediaLink,\n                                alt: \"Frage Bild\",\n                                className: \"max-w-full max-h-64 object-contain mx-auto border rounded\"\n                            }, void 0, false, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 544,\n                                columnNumber: 19\n                            }, this) : currentQuestion.mediaLink.match(/\\.(mp3|wav|ogg|m4a)$/i) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"audio\", {\n                                controls: true,\n                                className: \"w-full max-w-md mx-auto\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"source\", {\n                                        src: currentQuestion.mediaLink\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 551,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-red-600 text-sm\",\n                                        children: \"Audio wird vom Browser nicht unterst\\xfctzt\"\n                                    }, void 0, false, {\n                                        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                        lineNumber: 552,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 550,\n                                columnNumber: 19\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: currentQuestion.mediaLink,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                className: \"text-blue-600 hover:underline break-all\",\n                                children: [\n                                    \"\\uD83D\\uDCCE \",\n                                    currentQuestion.mediaLink\n                                ]\n                            }, void 0, true, {\n                                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                lineNumber: 555,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 541,\n                            columnNumber: 15\n                        }, this),\n                        isMatching ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.MatchingUI, {\n                                    question: currentQuestion,\n                                    onSolved: ()=>{\n                                        setIsCorrect(true);\n                                        setShowResult(true);\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 570,\n                                    columnNumber: 17\n                                }, this),\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3 mt-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: handleNextQuestion,\n                                            className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                            children: \"Weiter\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 579,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm font-medium text-green-700\",\n                                            children: \"Alle Paare korrekt verbunden!\"\n                                        }, void 0, false, {\n                                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                            lineNumber: 580,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 578,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"space-y-3 mb-6\",\n                            children: isMultiple ? currentQuestion.allAnswers.map((answer, index)=>{\n                                const isSelected = selectedAnswers.includes(answer);\n                                const isCorrectAns = correctListNormalized.includes(norm(answer));\n                                let buttonClass = \"w-full p-4 text-left border-2 rounded-lg transition-all \";\n                                if (showResult) {\n                                    if (isCorrectAns) {\n                                        buttonClass += \"border-green-500 bg-green-50 text-green-800\";\n                                    } else if (isSelected && !isCorrectAns) {\n                                        buttonClass += \"border-red-500 bg-red-50 text-red-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 bg-gray-50 text-gray-600\";\n                                    }\n                                } else {\n                                    if (isSelected) {\n                                        buttonClass += \"border-blue-500 bg-blue-50 text-blue-800\";\n                                    } else {\n                                        buttonClass += \"border-gray-200 hover:border-gray-300 hover:bg-gray-50\";\n                                    }\n                                }\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: buttonClass,\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 607,\n                                    columnNumber: 23\n                                }, this);\n                            }) : currentQuestion.allAnswers.map((answer, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handleAnswerSelect(answer),\n                                    disabled: showResult,\n                                    className: \"w-full p-4 text-left border-2 rounded-lg transition-all \".concat(selectedAnswer === answer ? 'border-blue-500 bg-blue-50 text-blue-800' : 'border-gray-200 hover:border-gray-300 hover:bg-gray-50'),\n                                    children: [\n                                        String.fromCharCode(65 + index),\n                                        \") \",\n                                        answer\n                                    ]\n                                }, index, true, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 619,\n                                    columnNumber: 21\n                                }, this))\n                        }, void 0, false, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 585,\n                            columnNumber: 15\n                        }, this),\n                        !isMatching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center gap-3 mt-4\",\n                            children: [\n                                isMultiple && !showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleCheckMultiple,\n                                    className: \"bg-blue-600 text-white px-5 py-2 rounded hover:bg-blue-700\",\n                                    children: \"Antwort pr\\xfcfen\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 638,\n                                    columnNumber: 19\n                                }, this) : showResult ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: handleNextQuestion,\n                                    className: \"bg-green-600 text-white px-5 py-2 rounded hover:bg-green-700\",\n                                    children: \"Weiter\"\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 641,\n                                    columnNumber: 21\n                                }, this) : null,\n                                showResult && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-sm font-medium \".concat(isCorrect ? 'text-green-700' : 'text-red-700'),\n                                    children: isCorrect ? 'Richtig!' : 'Leider falsch.'\n                                }, void 0, false, {\n                                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                                    lineNumber: 645,\n                                    columnNumber: 19\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                            lineNumber: 636,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                    children: \"Keine Frage vorhanden.\"\n                }, void 0, false, {\n                    fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                    lineNumber: 653,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 531,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_lessonTypes__WEBPACK_IMPORTED_MODULE_4__.LessonFooterNavigation, {\n                allLessons: allLessons,\n                currentLessonId: lessonId,\n                courseId: courseId,\n                completedLessons: completedLessons,\n                progressionMode: progressionMode\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 658,\n                columnNumber: 3\n            }, this),\n            isMemory && completed && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-6 text-green-700 font-medium\",\n                children: \"✔️ Memory abgeschlossen!\"\n            }, void 0, false, {\n                fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n                lineNumber: 659,\n                columnNumber: 33\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\lernarena\\\\src\\\\app\\\\kurs\\\\[courseId]\\\\lektion\\\\[lessonId]\\\\page.tsx\",\n        lineNumber: 518,\n        columnNumber: 3\n    }, this);\n} // Client-Komponente für Markdown Rendering\n // MatchingUI jetzt ausgelagert\n // OrderingPlayer und LueckentextPlayer ausgelagert\n_s(LessonPage, \"qrbYrjR5iZF6jJRcXZ0Z8/WkqoU=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useParams,\n        next_navigation__WEBPACK_IMPORTED_MODULE_1__.useRouter,\n        next_auth_react__WEBPACK_IMPORTED_MODULE_3__.useSession\n    ];\n});\n_c = LessonPage;\nvar _c;\n$RefreshReg$(_c, \"LessonPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAva3Vycy9bY291cnNlSWRdL2xla3Rpb24vW2xlc3NvbklkXS9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ3VEO0FBQ1c7QUFDckI7QUFDN0MsbUVBQW1FO0FBQ2lIO0FBQy9HO0FBSXRELFNBQVNjO1FBZ0MrQ0MsaUJBeVJIQyxlQW1FaEJELGtCQXdCOUNDLGdCQXdCOERBLGdCQXdCM0NEOztJQW5jdkIsTUFBTUUsU0FBU2pCLDBEQUFTQTtJQUN4QixNQUFNa0IsU0FBU2pCLDBEQUFTQTtJQUN4QixNQUFNa0IsV0FBV0YsT0FBT0UsUUFBUTtJQUNoQyxNQUFNQyxXQUFXSCxPQUFPRyxRQUFRO0lBQ2hDLE1BQU0sRUFBRUMsTUFBTUwsT0FBTyxFQUFFLEdBQUdWLDJEQUFVQTtJQUVwQyxNQUFNLENBQUNTLFFBQVFPLFVBQVUsR0FBR3BCLDZHQUFRQSxDQUFnQjtJQUNwRCxNQUFNLENBQUNxQixTQUFTQyxXQUFXLEdBQUd0Qiw2R0FBUUEsQ0FBQztJQUN2QyxNQUFNLEdBQUd1Qix3QkFBd0IsR0FBR3ZCLDZHQUFRQSxDQUFDLElBQUksOEJBQThCO0lBQy9FLE1BQU0sQ0FBQ3dCLGVBQWVDLGlCQUFpQixHQUFHekIsNkdBQVFBLENBQVcsRUFBRSxHQUFHLDZCQUE2QjtJQUMvRixNQUFNLENBQUMwQixVQUFVQyxZQUFZLEdBQUczQiw2R0FBUUEsQ0FBYyxJQUFJNEIsUUFBUSw4QkFBOEI7SUFDaEcsTUFBTSxDQUFDQyxTQUFTQyxXQUFXLEdBQUc5Qiw2R0FBUUEsQ0FBQyxRQUFRLHVCQUF1QjtJQUN0RSxNQUFNLENBQUMrQixnQkFBZ0JDLGtCQUFrQixHQUFHaEMsNkdBQVFBLENBQVM7SUFDN0QsbUNBQW1DO0lBQ25DLE1BQU0sQ0FBQ2lDLGlCQUFpQkMsbUJBQW1CLEdBQUdsQyw2R0FBUUEsQ0FBVyxFQUFFO0lBQ25FLE1BQU0sQ0FBQ21DLFlBQVlDLGNBQWMsR0FBR3BDLDZHQUFRQSxDQUFD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O3dDQUFHOUk7O21DQVAvQjhJOzs7Ozs7Ozs7O3dCQWVkLENBQUNTLDRCQUNBLDhEQUFDcEI7NEJBQUlDLFdBQVU7O2dDQUNaa0IsY0FBYyxDQUFDMUwsMkJBQ2QsOERBQUMySztvQ0FBT0MsU0FBU3pFO29DQUFxQnFFLFdBQVU7OENBQTZEOzs7OzsyQ0FFN0d4SywyQkFDRSw4REFBQzJLO29DQUFPQyxTQUFTbkI7b0NBQW9CZSxXQUFVOzhDQUErRDs7Ozs7MkNBQzVHO2dDQUVMeEssNEJBQ0MsOERBQUMrTTtvQ0FBS3ZDLFdBQVcsdUJBQXFFLE9BQTlDdEssWUFBWSxtQkFBbUI7OENBQ3BFQSxZQUFZLGFBQWE7Ozs7Ozs7Ozs7Ozs7aURBT3BDLDhEQUFDdUs7OEJBQUU7Ozs7Ozs7Ozs7OzBCQUtYLDhEQUFDbk0sMkVBQXNCQTtnQkFBQ2tDLFlBQVlBO2dCQUFZZ0wsaUJBQWlCek07Z0JBQVVELFVBQVVBO2dCQUFVOEIsa0JBQWtCQTtnQkFBa0JGLGlCQUFpQkE7Ozs7OztZQUMvSXFMLFlBQVl6TCwyQkFBYSw4REFBQ2lLO2dCQUFJQyxXQUFVOzBCQUFrQzs7Ozs7Ozs7Ozs7O0FBR2pGLEVBRUEsMkNBQTJDO0NBQzNDLCtCQUErQjtDQUUvQixtREFBbUQ7R0FocEIzQi9MOztRQUNQZCxzREFBU0E7UUFDVEMsc0RBQVNBO1FBR0VLLHVEQUFVQTs7O0tBTGRRIiwic291cmNlcyI6WyJEOlxcbGVybmFyZW5hXFxzcmNcXGFwcFxca3Vyc1xcW2NvdXJzZUlkXVxcbGVrdGlvblxcW2xlc3NvbklkXVxccGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5pbXBvcnQgeyB1c2VQYXJhbXMsIHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL3JlYWN0Jztcbi8vIEF1c2dlbGFnZXJ0ZSBMZWt0aW9uc3R5cC1Lb21wb25lbnRlbiAoc2Nocml0dHdlaXNlcyBSZWZhY3RvcmluZylcbmltcG9ydCB7IE1hcmtkb3duTGVzc29uLCBZb3VUdWJlTGVzc29uLCBNZW1vcnlHYW1lLCBMdWVja2VudGV4dFBsYXllciwgT3JkZXJpbmdQbGF5ZXIsIE1hdGNoaW5nVUksIExlc3NvbkZvb3Rlck5hdmlnYXRpb24sIFNuYWtlR2FtZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvbGVzc29uVHlwZXMnO1xuaW1wb3J0IHsgZmluYWxpemVMZXNzb24gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9saWIvbGVzc29uQ29tcGxldGlvbic7XG5pbXBvcnQgdHlwZSB7IExlc3NvbiwgUXVlc3Rpb24gfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9jb21wb25lbnRzL2xlc3NvblR5cGVzL3R5cGVzJztcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMZXNzb25QYWdlKCkge1xuICBjb25zdCBwYXJhbXMgPSB1c2VQYXJhbXMoKTtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG4gIGNvbnN0IGNvdXJzZUlkID0gcGFyYW1zLmNvdXJzZUlkIGFzIHN0cmluZztcbiAgY29uc3QgbGVzc29uSWQgPSBwYXJhbXMubGVzc29uSWQgYXMgc3RyaW5nO1xuICBjb25zdCB7IGRhdGE6IHNlc3Npb24gfSA9IHVzZVNlc3Npb24oKTtcbiAgXG4gIGNvbnN0IFtsZXNzb24sIHNldExlc3Nvbl0gPSB1c2VTdGF0ZTxMZXNzb24gfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFssIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4XSA9IHVzZVN0YXRlKDApOyAvLyBERVBSRUNBVEVEIChmw7xyIGFsdGUgTG9naWspXG4gIGNvbnN0IFtxdWVzdGlvblF1ZXVlLCBzZXRRdWVzdGlvblF1ZXVlXSA9IHVzZVN0YXRlPG51bWJlcltdPihbXSk7IC8vIFJlaWhlbmZvbGdlIG9mZmVuZXIgRnJhZ2VuXG4gIGNvbnN0IFttYXN0ZXJlZCwgc2V0TWFzdGVyZWRdID0gdXNlU3RhdGU8U2V0PG51bWJlcj4+KG5ldyBTZXQoKSk7IC8vIGtvcnJla3QgYmVhbnR3b3J0ZXRlIEZyYWdlblxuICBjb25zdCBbbWFya2luZywgc2V0TWFya2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7IC8vIFNlcnZlci1VcGRhdGUgU3RhdHVzXG4gIGNvbnN0IFtzZWxlY3RlZEFuc3dlciwgc2V0U2VsZWN0ZWRBbnN3ZXJdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgLy8gTmV1OiBBdXN3YWhsIGbDvHIgTXVsdGlwbGUtQ2hvaWNlXG4gIGNvbnN0IFtzZWxlY3RlZEFuc3dlcnMsIHNldFNlbGVjdGVkQW5zd2Vyc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuICBjb25zdCBbc2hvd1Jlc3VsdCwgc2V0U2hvd1Jlc3VsdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc0NvcnJlY3QsIHNldElzQ29ycmVjdF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzY29yZSwgc2V0U2NvcmVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtjb21wbGV0ZWQsIHNldENvbXBsZXRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthbGxMZXNzb25zLCBzZXRBbGxMZXNzb25zXSA9IHVzZVN0YXRlPExlc3NvbltdPihbXSk7IC8vIGbDvHIgRm9vdGVyLU5hdmlnYXRpb25cbiAgY29uc3QgW3Byb2dyZXNzaW9uTW9kZSwgc2V0UHJvZ3Jlc3Npb25Nb2RlXSA9IHVzZVN0YXRlPCdsaW5lYXInfCdmcmVlJz4oJ2ZyZWUnKTtcbiAgY29uc3QgW2NvbXBsZXRlZExlc3NvbnMsIHNldENvbXBsZXRlZExlc3NvbnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTsgLy8gZXJsZWRpZ3RlIExla3Rpb25lblxuICAvLyBMw7xja2VudGV4dCBTdGF0ZXMgKGltbWVyIGF1ZnJ1ZmVuLCBuaWNodCBrb25kaXRpb25hbClcbiAgY29uc3QgW2x0QW5zd2Vyc1N0YXRlLCBzZXRMdEFuc3dlcnNTdGF0ZV0gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBzdHJpbmc+Pih7fSk7XG4gIGNvbnN0IFtsdENoZWNrZWQsIHNldEx0Q2hlY2tlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsdENvcnJlY3RBbGwsIHNldEx0Q29ycmVjdEFsbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtsdFVzZWRBbnN3ZXJzLCBzZXRMdFVzZWRBbnN3ZXJzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtsdEZvY3VzR2FwLCBzZXRMdEZvY3VzR2FwXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICAvLyBMw7xja2VudGV4dCBkZXJpdmVkIERhdGVuIChpbW1lciBIb29rcyBnbGVpY2ggaGFsdGVuKVxuICBjb25zdCBsdE1hc2tlZCA9IHVzZU1lbW8oKCkgPT4gKGxlc3Nvbj8udHlwZSA9PT0gJ2x1ZWNrZW50ZXh0JykgPyBTdHJpbmcoKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5tYXJrZG93bk1hc2tlZCB8fCAnJykgOiAnJywgW2xlc3Nvbl0pO1xuICBjb25zdCBsdEdhcHMgPSB1c2VNZW1vKCgpID0+IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpID8gKEFycmF5LmlzQXJyYXkoKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5nYXBzKSA/IChsZXNzb24/LmNvbnRlbnQgYXMgYW55KS5nYXBzLm1hcCgoZzogYW55KSA9PiAoeyBpZDogZy5pZCwgYW5zd2VyOiBTdHJpbmcoZy5hbnN3ZXIpIH0pKSA6IFtdKSA6IFtdLCBbbGVzc29uXSk7XG4gIGNvbnN0IGx0TW9kZTogJ2lucHV0JyB8ICdkcmFnJyA9IChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcgJiYgKGxlc3Nvbj8uY29udGVudCBhcyBhbnkpPy5tb2RlID09PSAnZHJhZycpID8gJ2RyYWcnIDogJ2lucHV0JztcbiAgY29uc3QgbHRQYXJ0cyA9IHVzZU1lbW8oKCkgPT4gbHRNYXNrZWQgPyBsdE1hc2tlZC5zcGxpdCgvKF9fX1xcZCtfX18pL2cpLmZpbHRlcihCb29sZWFuKSA6IFtdLCBbbHRNYXNrZWRdKTtcbiAgY29uc3QgbHRCYW5rID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKGx0TW9kZSAhPT0gJ2RyYWcnKSByZXR1cm4gW10gYXMgc3RyaW5nW107XG4gICAgY29uc3Qgc2h1ZmZsZSA9IDxULD4oYXJyOiBUW10pID0+IGFyci5tYXAodiA9PiBbTWF0aC5yYW5kb20oKSwgdl0gYXMgY29uc3QpLnNvcnQoKGEsYik9PmFbMF0tYlswXSkubWFwKChbLHZdKT0+dik7XG4gICAgcmV0dXJuIHNodWZmbGUobHRHYXBzLm1hcCgoZzogeyBpZDogbnVtYmVyOyBhbnN3ZXI6IHN0cmluZyB9KSA9PiBnLmFuc3dlcikpO1xuICB9LCBbbHRNb2RlLCBsdEdhcHNdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBSZXNldCBiZWkgTGVrdGlvbnN0eXAtV2VjaHNlbFxuICAgIGlmIChsZXNzb24/LnR5cGUgPT09ICdsdWVja2VudGV4dCcpIHtcbiAgICAgIHNldEx0QW5zd2Vyc1N0YXRlKHt9KTtcbiAgICAgIHNldEx0Q2hlY2tlZChmYWxzZSk7XG4gICAgICBzZXRMdENvcnJlY3RBbGwoZmFsc2UpO1xuICAgICAgc2V0THRVc2VkQW5zd2VycyhbXSk7XG4gICAgICBzZXRMdEZvY3VzR2FwKG51bGwpO1xuICAgIH1cbiAgfSwgW2xlc3Nvbj8uX2lkLCBsZXNzb24/LnR5cGVdKTtcblxuICBjb25zdCBsb2FkTGVzc29uID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkva3Vycy8ke2NvdXJzZUlkfS9sZWt0aW9uZW5gKTtcbiAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIGNvbnN0IGxlc3NvbkFycmF5ID0gQXJyYXkuaXNBcnJheShwYXlsb2FkKSA/IHBheWxvYWQgOiAocGF5bG9hZC5sZXNzb25zIHx8IFtdKTtcbiAgICAgICAgc2V0QWxsTGVzc29ucyhsZXNzb25BcnJheSk7XG4gICAgICAgIC8vIHByb2dyZXNzaW9uTW9kZSB2b20gS3VycyBsYWRlbiAoamV0enQgbWVpc3QgaW4gZGVyIEFudHdvcnQgZW50aGFsdGVuKVxuICAgICAgICBpZiAocGF5bG9hZC5jb3Vyc2UgJiYgcGF5bG9hZC5jb3Vyc2UucHJvZ3Jlc3Npb25Nb2RlKSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKHBheWxvYWQuY291cnNlLnByb2dyZXNzaW9uTW9kZSA9PT0gJ2xpbmVhcicgPyAnbGluZWFyJyA6ICdmcmVlJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0UHJvZ3Jlc3Npb25Nb2RlKCdmcmVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGZvdW5kTGVzc29uID0gKGxlc3NvbkFycmF5IGFzIEFycmF5PHsgX2lkPzogc3RyaW5nOyBpZD86IHN0cmluZyB9PikuZmluZCgobCkgPT4gbC5faWQgPT09IGxlc3NvbklkIHx8IGwuaWQgPT09IGxlc3NvbklkKSBhcyBhbnk7XG4gICAgICAgIGlmICghZm91bmRMZXNzb24pIHtcbiAgICAgICAgICAvLyBGYWxsYmFjazogRGlyZWt0IMO8YmVyIGdsb2JhbGVuIEVuZHBvaW50IGxhZGVuIChmw7xyIGV4ZXJjaXNlLXBvb2wgb2RlciBhYndlaWNoZW5kZSBPcmdhbmlzYXRpb24pXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGxyID0gYXdhaXQgZmV0Y2goYC9hcGkvbGVzc29ucy8ke2xlc3NvbklkfWApO1xuICAgICAgICAgICAgaWYgKGxyLm9rKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGxkID0gYXdhaXQgbHIuanNvbigpO1xuICAgICAgICAgICAgICBpZiAobGQ/Lmxlc3Nvbikge1xuICAgICAgICAgICAgICAgIGZvdW5kTGVzc29uID0gbGQubGVzc29uO1xuICAgICAgICAgICAgICAgIHNldEFsbExlc3NvbnMoW2xkLmxlc3Nvbl0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb3VuZExlc3Nvbikgc2V0TGVzc29uKGZvdW5kTGVzc29uIGFzIHVua25vd24gYXMgTGVzc29uKTtcbiAgICAgICAgaWYgKGZvdW5kTGVzc29uKSB7XG4gICAgICAgICAgLy8gSW5pdGlhbCBRdWV1ZSBzZXR6ZW5cbiAgICAgICAgICBjb25zdCB0b3RhbCA9IChmb3VuZExlc3NvbiBhcyB1bmtub3duIGFzIHsgcXVlc3Rpb25zPzogdW5rbm93bltdIH0pLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDA7XG4gICAgICAgICAgc2V0UXVlc3Rpb25RdWV1ZShBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbCB9LCAoXywgaSkgPT4gaSkpO1xuICAgICAgICAgIHNldE1hc3RlcmVkKG5ldyBTZXQoKSk7XG4gICAgICAgICAgc2V0U2NvcmUoMCk7XG4gICAgICAgICAgc2V0Q29tcGxldGVkKGZhbHNlKTtcbiAgICAgICAgICBzZXRDdXJyZW50UXVlc3Rpb25JbmRleCgwKTsgLy8gbGVnYWN5XG4gICAgICAgICAgLy8gSW4tUHJvZ3Jlc3MgbWFya2llcmVuIGZhbGxzIG5vY2ggbmljaHQgYWJnZXNjaGxvc3NlblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjb21wbGV0ZWRLZXkgPSBgY291cnNlOiR7Y291cnNlSWR9OmNvbXBsZXRlZExlc3NvbnNgO1xuICAgICAgICAgICAgY29uc3QgaW5Qcm9ncmVzc0tleSA9IGBjb3Vyc2U6JHtjb3Vyc2VJZH06aW5Qcm9ncmVzc0xlc3NvbnNgO1xuICAgICAgICAgICAgY29uc3QgY29tcGxldGVkU3RvcmVkOiBzdHJpbmdbXSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oY29tcGxldGVkS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGNvbnN0IGZvdW5kSWQgPSAoZm91bmRMZXNzb24gYXMgeyBfaWQ/OiBzdHJpbmc7IGlkPzogc3RyaW5nIH0pLl9pZCB8fCAoZm91bmRMZXNzb24gYXMgeyBfaWQ/OiBzdHJpbmc7IGlkPzogc3RyaW5nIH0pLmlkO1xuICAgICAgICAgICAgaWYgKGZvdW5kSWQgJiYgIWNvbXBsZXRlZFN0b3JlZC5pbmNsdWRlcyhmb3VuZElkKSkge1xuICAgICAgICAgICAgICBjb25zdCBpblByb2c6IHN0cmluZ1tdID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShpblByb2dyZXNzS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgICAgaWYgKCFpblByb2cuaW5jbHVkZXMoZm91bmRJZCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gWy4uLmluUHJvZywgZm91bmRJZF07XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaW5Qcm9ncmVzc0tleSwgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIYXJ0ZSBGYWxsYmFjay1TdHJhdGVnaWU6IGRpcmVrdCBwZXIgSUQgbGFkZW4gKHouIEIuIGV4ZXJjaXNlLXBvb2wgb2RlciBLdXJzLUZldGNoLVByb2JsZW0pXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbHIgPSBhd2FpdCBmZXRjaChgL2FwaS9sZXNzb25zLyR7bGVzc29uSWR9YCk7XG4gICAgICAgICAgaWYgKGxyLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBsZCA9IGF3YWl0IGxyLmpzb24oKTtcbiAgICAgICAgICAgIGlmIChsZD8ubGVzc29uKSB7XG4gICAgICAgICAgICAgIHNldExlc3NvbihsZC5sZXNzb24gYXMgYW55KTtcbiAgICAgICAgICAgICAgc2V0QWxsTGVzc29ucyhbbGQubGVzc29uXSk7XG4gICAgICAgICAgICAgIHNldFByb2dyZXNzaW9uTW9kZSgnZnJlZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgfVxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZlaGxlciBiZWltIExhZGVuIGRlciBMZWt0aW9uOicsIGVycm9yKTtcbiAgICAgIC8vIExldHp0ZXIgVmVyc3VjaDogRGlyZWt0IHBlciBJRFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbHIgPSBhd2FpdCBmZXRjaChgL2FwaS9sZXNzb25zLyR7bGVzc29uSWR9YCk7XG4gICAgICAgIGlmIChsci5vaykge1xuICAgICAgICAgIGNvbnN0IGxkID0gYXdhaXQgbHIuanNvbigpO1xuICAgICAgICAgIGlmIChsZD8ubGVzc29uKSB7XG4gICAgICAgICAgICBzZXRMZXNzb24obGQubGVzc29uIGFzIGFueSk7XG4gICAgICAgICAgICBzZXRBbGxMZXNzb25zKFtsZC5sZXNzb25dKTtcbiAgICAgICAgICAgIHNldFByb2dyZXNzaW9uTW9kZSgnZnJlZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7fVxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbY291cnNlSWQsIGxlc3NvbklkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2FkTGVzc29uKCk7XG4gIH0sIFtsb2FkTGVzc29uXSk7XG5cbiAgLy8gWnVsZXR6dCB3ZWl0ZXJnZW1hY2h0IChmw7xyIERhc2hib2FyZCk6IGJlaW0gw5ZmZm5lbiBtZXJrZW5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKGNvdXJzZUlkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGFzdDpjb3Vyc2VJZCcsIFN0cmluZyhjb3Vyc2VJZCkpO1xuICAgICAgaWYgKGxlc3NvbklkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGFzdDpsZXNzb25JZCcsIFN0cmluZyhsZXNzb25JZCkpO1xuICAgICAgaWYgKGNvdXJzZUlkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgY291cnNlOiR7Y291cnNlSWR9Omxhc3RUb3VjaGVkYCwgU3RyaW5nKERhdGUubm93KCkpKTtcbiAgICB9IGNhdGNoIHt9XG4gIH0sIFtjb3Vyc2VJZCwgbGVzc29uSWRdKTtcblxuICAvLyBIZWxwZXIgenVtIE5vcm1hbGlzaWVyZW4gdm9uIEFudHdvcnRlbiAoZnLDvGhlciB2b3JoYW5kZW4sIHdpZWRlcmhlcmdlc3RlbGx0KVxuICBjb25zdCBub3JtID0gKHM6IHVua25vd24pID0+ICh0eXBlb2YgcyA9PT0gJ3N0cmluZycgPyBzLnRyaW0oKSA6IFN0cmluZyhzID8/ICcnKSk7XG5cbiAgY29uc3QgaGFuZGxlQW5zd2VyU2VsZWN0ID0gKGFuc3dlcjogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHNob3dSZXN1bHQpIHJldHVybjtcbiAgICBpZiAobGVzc29uPy50eXBlID09PSAnbXVsdGlwbGUtY2hvaWNlJykge1xuICAgICAgc2V0U2VsZWN0ZWRBbnN3ZXJzKHByZXYgPT4gcHJldi5pbmNsdWRlcyhhbnN3ZXIpID8gcHJldi5maWx0ZXIoYSA9PiBhICE9PSBhbnN3ZXIpIDogWy4uLnByZXYsIGFuc3dlcl0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZEFuc3dlcihhbnN3ZXIpO1xuICAgIGlmICghbGVzc29uIHx8ICFsZXNzb24ucXVlc3Rpb25zIHx8IHF1ZXN0aW9uUXVldWUubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgY29uc3QgY3VycmVudFF1ZXN0aW9uID0gbGVzc29uLnF1ZXN0aW9uc1txdWVzdGlvblF1ZXVlWzBdXTtcbiAgICBjb25zdCBjb3JyZWN0ID0gbm9ybShhbnN3ZXIpID09PSBub3JtKGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2VyKTtcbiAgICBzZXRJc0NvcnJlY3QoY29ycmVjdCk7XG4gICAgc2V0U2hvd1Jlc3VsdCh0cnVlKTtcbiAgICBpZiAoY29ycmVjdCAmJiAhbWFzdGVyZWQuaGFzKHF1ZXN0aW9uUXVldWVbMF0pKSB7XG4gICAgICBzZXRTY29yZShwcmV2ID0+IHByZXYgKyAxKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2hlY2tNdWx0aXBsZSA9ICgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCAhbGVzc29uLnF1ZXN0aW9ucyB8fCBxdWVzdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IGxlc3Nvbi5xdWVzdGlvbnNbcXVlc3Rpb25RdWV1ZVswXV0gYXMgUXVlc3Rpb247XG4gICAgY29uc3QgY29ycmVjdExpc3QgPSAoQXJyYXkuaXNBcnJheShjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcnMpICYmIGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2Vycy5sZW5ndGhcbiAgICAgID8gY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJzXG4gICAgICA6IChjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlciA/IFtjdXJyZW50UXVlc3Rpb24uY29ycmVjdEFuc3dlcl0gOiBbXSkpLm1hcChub3JtKTtcbiAgICBjb25zdCBzZWxOb3JtID0gc2VsZWN0ZWRBbnN3ZXJzLm1hcChub3JtKTtcbiAgICBjb25zdCBpc1NldEVxdWFsID0gc2VsTm9ybS5sZW5ndGggPT09IGNvcnJlY3RMaXN0Lmxlbmd0aCAmJiBjb3JyZWN0TGlzdC5ldmVyeShhID0+IHNlbE5vcm0uaW5jbHVkZXMoYSkpO1xuICAgIHNldElzQ29ycmVjdChpc1NldEVxdWFsKTtcbiAgICBzZXRTaG93UmVzdWx0KHRydWUpO1xuICAgIGlmIChpc1NldEVxdWFsICYmICFtYXN0ZXJlZC5oYXMocXVlc3Rpb25RdWV1ZVswXSkpIHtcbiAgICAgIHNldFNjb3JlKHByZXYgPT4gcHJldiArIDEpO1xuICAgIH1cbiAgfTtcblxuICAvLyBNdWx0aSBUZXh0LUFudHdvcnQgU3RhdGVzXG4gIGNvbnN0IFt0ZXh0QW5zd2VySW5wdXQsIHNldFRleHRBbnN3ZXJJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VyRmVlZGJhY2ssIHNldFRleHRBbnN3ZXJGZWVkYmFja10gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3RleHRBbnN3ZXJRdWV1ZSwgc2V0VGV4dEFuc3dlclF1ZXVlXSA9IHVzZVN0YXRlPG51bWJlcltdPihbXSk7IC8vIEluZGV4LVJlaWhlbmZvbGdlIGRlciBub2NoIG9mZmVuZW4gQmzDtmNrZVxuICBjb25zdCBbdGV4dEFuc3dlclNvbHZlZCwgc2V0VGV4dEFuc3dlclNvbHZlZF0gPSB1c2VTdGF0ZTxTZXQ8bnVtYmVyPj4obmV3IFNldCgpKTtcbiAgY29uc3QgW3RleHRBbnN3ZXJSZXZlYWxlZCwgc2V0VGV4dEFuc3dlclJldmVhbGVkXSA9IHVzZVN0YXRlPFNldDxudW1iZXI+PihuZXcgU2V0KCkpOyAvLyBHZXNhbXQtRmxhZyAoQW5hbHl0aWNzKVxuICBjb25zdCBbdGV4dEFuc3dlclJldmVhbFJvdW5kLCBzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmRdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgbnVtYmVyPj4oe30pOyAvLyBpbmRleCAtPiBSdW5kZVxuICBjb25zdCBbdGV4dEFuc3dlclJvdW5kLCBzZXRUZXh0QW5zd2VyUm91bmRdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFt0ZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4LCBzZXRUZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4XSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCB0ZXh0QW5zd2VyQmxvY2tzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybiBbXSBhcyBBcnJheTx7IHF1ZXN0aW9uOiBzdHJpbmc7IGFuc3dlcnM6IHN0cmluZ1tdOyBtZWRpYT86IHN0cmluZyB9PjtcbiAgICBjb25zdCBjOiBhbnkgPSBsZXNzb24uY29udGVudCB8fCB7fTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjLmJsb2NrcykpIHtcbiAgICAgIHJldHVybiBjLmJsb2Nrcy5maWx0ZXIoKGI6IGFueSkgPT4gYiAmJiB0eXBlb2YgYi5xdWVzdGlvbiA9PT0gJ3N0cmluZycgJiYgQXJyYXkuaXNBcnJheShiLmFuc3dlcnMpICYmIGIuYW5zd2Vycy5sZW5ndGg+MClcbiAgICAgICAgLm1hcCgoYjogYW55KSA9PiAoeyBxdWVzdGlvbjogU3RyaW5nKGIucXVlc3Rpb24pLCBhbnN3ZXJzOiBiLmFuc3dlcnMubWFwKChhOiBhbnkpPT5TdHJpbmcoYSkpLmZpbHRlcigoYTpzdHJpbmcpPT5hLmxlbmd0aD4wKSwgbWVkaWE6IGIubWVkaWEgJiYgU3RyaW5nKGIubWVkaWEpIH0pKTtcbiAgICB9XG4gICAgaWYgKGMucXVlc3Rpb24gJiYgYy5hbnN3ZXIpIHJldHVybiBbeyBxdWVzdGlvbjogU3RyaW5nKGMucXVlc3Rpb24pLCBhbnN3ZXJzOiBbU3RyaW5nKGMuYW5zd2VyKV0gfV07XG4gICAgcmV0dXJuIFtdO1xuICB9LCBbbGVzc29uXSk7XG4gIC8vIEluaXRpYWwgUXVldWUgc2V0emVuIHdlbm4gQmxvY2tzIGdlbGFkZW5cbiAgdXNlRWZmZWN0KCgpPT57XG4gICAgaWYgKGxlc3Nvbj8udHlwZSA9PT0gJ3RleHQtYW5zd2VyJykge1xuICBzZXRUZXh0QW5zd2VyUXVldWUodGV4dEFuc3dlckJsb2Nrcy5tYXAoKF86IHVua25vd24sIGk6IG51bWJlcik9PmkpKTtcbiAgICAgIHNldFRleHRBbnN3ZXJTb2x2ZWQobmV3IFNldCgpKTtcbiAgICAgIHNldFRleHRBbnN3ZXJSZXZlYWxlZChuZXcgU2V0KCkpO1xuICBzZXRUZXh0QW5zd2VyUm91bmQoMSk7XG4gIHNldFRleHRBbnN3ZXJSZXZlYWxSb3VuZCh7fSk7XG4gICAgICBzZXRUZXh0QW5zd2VySW5wdXQoJycpO1xuICAgICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICAgIH1cbiAgfSwgW2xlc3Nvbj8uX2lkLCBsZXNzb24/LnR5cGUsIHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoXSk7XG4gIGNvbnN0IHN1Ym1pdFRleHRBbnN3ZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFsZXNzb24gfHwgbGVzc29uLnR5cGUgIT09ICd0ZXh0LWFuc3dlcicpIHJldHVybjtcbiAgICBpZiAoIXRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoIHx8ICF0ZXh0QW5zd2VyUXVldWUubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgYzogYW55ID0gbGVzc29uLmNvbnRlbnQgfHwge307XG4gICAgY29uc3QgY2FzZVNlbnNpdGl2ZTogYm9vbGVhbiA9ICEhYy5jYXNlU2Vuc2l0aXZlO1xuICAgIGNvbnN0IG5vcm1hbGl6ZSA9IChzOiBzdHJpbmcpID0+IGNhc2VTZW5zaXRpdmUgPyBzLnRyaW0oKSA6IHMudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgY3VycmVudEluZGV4ID0gdGV4dEFuc3dlclF1ZXVlWzBdO1xuICAgIGNvbnN0IGN1cnJlbnQgPSB0ZXh0QW5zd2VyQmxvY2tzW2N1cnJlbnRJbmRleF07XG4gICAgY29uc3QgdXNlck5vcm0gPSBub3JtYWxpemUodGV4dEFuc3dlcklucHV0KTtcbiAgICBpZiAoIXVzZXJOb3JtKSB7IHNldFRleHRBbnN3ZXJGZWVkYmFjaygnQml0dGUgZXR3YXMgZWluZ2ViZW4uJyk7IHJldHVybjsgfVxuICAgIGNvbnN0IGNvcnJlY3ROb3JtcyA9IGN1cnJlbnQuYW5zd2Vycy5tYXAoKGE6IHN0cmluZyk9Pm5vcm1hbGl6ZShhKSk7XG4gICAgaWYgKGNvcnJlY3ROb3Jtcy5pbmNsdWRlcyh1c2VyTm9ybSkpIHtcbiAgICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjaygn4pyFIEtvcnJla3QhJyk7XG4gICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgIHNldFRleHRBbnN3ZXJTb2x2ZWQocHJldiA9PiBuZXcgU2V0KHByZXYpLmFkZChjdXJyZW50SW5kZXgpKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlcklucHV0KCcnKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICAgICAgICAvLyBOw6RjaHN0ZSBGcmFnZVxuICAgICAgICBzZXRUZXh0QW5zd2VyUXVldWUocHJldiA9PiBwcmV2LnNsaWNlKDEpKTtcbiAgICAgIH0sIDQwMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjaygn4p2MIE5pY2h0IGtvcnJla3QuJyk7XG4gIH0sIFtsZXNzb24sIHRleHRBbnN3ZXJCbG9ja3MsIHRleHRBbnN3ZXJRdWV1ZSwgdGV4dEFuc3dlcklucHV0XSk7XG4gIGNvbnN0IHJldmVhbEN1cnJlbnRUZXh0QW5zd2VyID0gKCkgPT4ge1xuICAgIGlmICghbGVzc29uIHx8IGxlc3Nvbi50eXBlICE9PSAndGV4dC1hbnN3ZXInKSByZXR1cm47XG4gICAgaWYgKCF0ZXh0QW5zd2VyUXVldWUubGVuZ3RoKSByZXR1cm47XG4gICAgY29uc3QgaWR4ID0gdGV4dEFuc3dlclF1ZXVlWzBdO1xuICAgIHNldFRleHRBbnN3ZXJSZXZlYWxlZChwcmV2ID0+IG5ldyBTZXQocHJldikuYWRkKGlkeCkpO1xuICAgIHNldFRleHRBbnN3ZXJSZXZlYWxSb3VuZChwcmV2ID0+ICh7IC4uLnByZXYsIFtpZHhdOiB0ZXh0QW5zd2VyUm91bmQgfSkpO1xuICAgIHNldFRleHRBbnN3ZXJGZWVkYmFjaygn8J+biCBBbnR3b3J0IGVpbmdlYmxlbmRldC4gU3DDpHRlciBlcm5ldXQgYmVhbnR3b3J0ZW4uJyk7XG4gICAgc2V0VGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeChpZHgpO1xuICAgIHNldFRleHRBbnN3ZXJJbnB1dCgnJyk7XG4gIH07XG4gIGNvbnN0IGFkdmFuY2VBZnRlclJldmVhbCA9ICgpID0+IHtcbiAgICBpZiAodGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCA9PSBudWxsKSByZXR1cm47XG4gICAgc2V0VGV4dEFuc3dlclF1ZXVlKHByZXYgPT4gKHByZXZbMF0gPT09IHRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHggPyBwcmV2LnNsaWNlKDEpIDogcHJldikpO1xuICAgIHNldFRleHRBbnN3ZXJKdXN0UmV2ZWFsZWRJZHgobnVsbCk7XG4gICAgc2V0VGV4dEFuc3dlckZlZWRiYWNrKG51bGwpO1xuICB9O1xuICAvLyBXZW5uIFF1ZXVlIGxlZXIgYWJlciBub2NoIG5pY2h0IGFsbGUgc29sdmVkIC0+IG5ldWUgUnVuZGUgbWl0IG51ciB1bmdlbMO2c3RlbiAocmV2ZWFsIEZyYWdlbilcbiAgdXNlRWZmZWN0KCgpPT57XG4gICAgaWYgKGxlc3Nvbj8udHlwZSA9PT0gJ3RleHQtYW5zd2VyJyAmJiB0ZXh0QW5zd2VyUXVldWUubGVuZ3RoID09PSAwICYmIHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoKSB7XG4gICAgICBjb25zdCB0b3RhbCA9IHRleHRBbnN3ZXJCbG9ja3MubGVuZ3RoO1xuICAgICAgaWYgKHRleHRBbnN3ZXJTb2x2ZWQuc2l6ZSA9PT0gdG90YWwpIHtcbiAgICAgICAgc2V0Q29tcGxldGVkKHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgY29uc3QgcmVtYWluaW5nID0gdGV4dEFuc3dlckJsb2Nrcy5tYXAoKF86IHVua25vd24sIGk6IG51bWJlcik9PmkpLmZpbHRlcigoaTogbnVtYmVyKT0+IXRleHRBbnN3ZXJTb2x2ZWQuaGFzKGkpKTtcbiAgICAgICAgc2V0VGV4dEFuc3dlclF1ZXVlKHJlbWFpbmluZyk7XG4gICAgICAgIHNldFRleHRBbnN3ZXJSb3VuZChyPT5yKzEpO1xuICAgICAgICBzZXRUZXh0QW5zd2VyRmVlZGJhY2sobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbdGV4dEFuc3dlclF1ZXVlLmxlbmd0aCwgdGV4dEFuc3dlclNvbHZlZCwgdGV4dEFuc3dlckJsb2NrcywgbGVzc29uXSk7XG5cbiAgLy8gTkVVOiBBYnNjaGx1c3MgKyBTdGVybiBmw7xyIFRleHQtQW50d29ydCBMZWt0aW9uZW4gKGJpc2hlciBmZWhsdGUgQVBJLUF1ZnJ1ZilcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBsZXNzb24udHlwZSAhPT0gJ3RleHQtYW5zd2VyJykgcmV0dXJuO1xuICAgIGNvbnN0IHRvdGFsID0gdGV4dEFuc3dlckJsb2Nrcy5sZW5ndGg7XG4gICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm47XG4gICAgaWYgKHRleHRBbnN3ZXJTb2x2ZWQuc2l6ZSA9PT0gdG90YWwgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZCkpIHtcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gc2Vzc2lvbj8udXNlcj8udXNlcm5hbWU7XG4gICAgICBpZiAoIXVzZXJuYW1lKSByZXR1cm47XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL2xlc3Nvbi9jb21wbGV0ZScsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICAgICAgICBsZXNzb25JZDogbGVzc29uLl9pZCxcbiAgICAgICAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgICAgICAgdHlwZTogbGVzc29uLnR5cGUsXG4gICAgICAgICAgICAgIGVhcm5lZFN0YXI6IHRydWVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSkuY2F0Y2goKCk9Pnt9KTtcbiAgICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9wcm9ncmVzcycsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lLCBsZXNzb25JZDogbGVzc29uLl9pZCB9KVxuICAgICAgICAgIH0pLmNhdGNoKCgpPT57fSk7XG4gICAgICAgICAgY29uc3QgY29tcGxldGVkS2V5ID0gYGNvdXJzZToke2NvdXJzZUlkfTpjb21wbGV0ZWRMZXNzb25zYDtcbiAgICAgICAgICBjb25zdCBpblByb2dyZXNzS2V5ID0gYGNvdXJzZToke2NvdXJzZUlkfTppblByb2dyZXNzTGVzc29uc2A7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JlZCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oY29tcGxldGVkS2V5KSB8fCAnW10nKTtcbiAgICAgICAgICAgIGlmICghc3RvcmVkLmluY2x1ZGVzKGxlc3Nvbi5faWQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBbLi4uc3RvcmVkLCBsZXNzb24uX2lkXTtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oY29tcGxldGVkS2V5LCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkKSk7XG4gICAgICAgICAgICAgIHNldENvbXBsZXRlZExlc3NvbnModXBkYXRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpblByb2cgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGluUHJvZ3Jlc3NLZXkpIHx8ICdbXScpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5Qcm9nKSAmJiBpblByb2cuaW5jbHVkZXMobGVzc29uLl9pZCkpIHtcbiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oaW5Qcm9ncmVzc0tleSwgSlNPTi5zdHJpbmdpZnkoaW5Qcm9nLmZpbHRlcigoaWQ6IHN0cmluZykgPT4gaWQgIT09IGxlc3Nvbi5faWQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVGV4dC1BbnR3b3J0IEFic2NobHVzcyBmZWhsZ2VzY2hsYWdlbicsIGUpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgfSwgW2xlc3NvbiwgdGV4dEFuc3dlclNvbHZlZCwgdGV4dEFuc3dlckJsb2NrcywgY29tcGxldGVkTGVzc29ucywgc2Vzc2lvbj8udXNlcj8udXNlcm5hbWUsIGNvdXJzZUlkXSk7XG5cbiAgLy8gV2llZGVyaGVyZ2VzdGVsbHQ6IEZvcnRzY2hyaXR0c2xvZ2lrIG5hY2ggQmV3ZXJ0dW5nXG4gIGNvbnN0IGhhbmRsZU5leHRRdWVzdGlvbiA9ICgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBxdWVzdGlvblF1ZXVlLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICAgIGNvbnN0IGN1cnJlbnRJZHggPSBxdWVzdGlvblF1ZXVlWzBdO1xuICAgIGxldCBuZXdRdWV1ZSA9IFsuLi5xdWVzdGlvblF1ZXVlXTtcbiAgICBpZiAoaXNDb3JyZWN0KSB7XG4gICAgICBpZiAoIW1hc3RlcmVkLmhhcyhjdXJyZW50SWR4KSkge1xuICAgICAgICBjb25zdCBuZXdNYXN0ZXJlZCA9IG5ldyBTZXQobWFzdGVyZWQpO1xuICAgICAgICBuZXdNYXN0ZXJlZC5hZGQoY3VycmVudElkeCk7XG4gICAgICAgIHNldE1hc3RlcmVkKG5ld01hc3RlcmVkKTtcbiAgICAgIH1cbiAgICAgIG5ld1F1ZXVlLnNoaWZ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld1F1ZXVlID0gWy4uLm5ld1F1ZXVlLnNsaWNlKDEpLCBjdXJyZW50SWR4XTtcbiAgICB9XG4gICAgc2V0UXVlc3Rpb25RdWV1ZShuZXdRdWV1ZSk7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXIoXCJcIik7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXJzKFtdKTtcbiAgICBzZXRTaG93UmVzdWx0KGZhbHNlKTtcbiAgICBpZiAobmV3UXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXRDb21wbGV0ZWQodHJ1ZSk7XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVzZXJuYW1lID0gc2Vzc2lvbj8udXNlcj8udXNlcm5hbWU7XG4gICAgICAgICAgc2V0TWFya2luZyh0cnVlKTtcbiAgICAgICAgICBhd2FpdCBmaW5hbGl6ZUxlc3Nvbih7XG4gICAgICAgICAgICB1c2VybmFtZSwgLy8gb3B0aW9uYWwgZsO8ciBHw6RzdGVcbiAgICAgICAgICAgIGxlc3NvbklkOiBsZXNzb24uX2lkLFxuICAgICAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgICAgIHR5cGU6IGxlc3Nvbi50eXBlLFxuICAgICAgICAgICAgZWFybmVkU3RhcjogbGVzc29uLnR5cGUgIT09ICdtYXJrZG93bicgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZClcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRDb21wbGV0ZWRMZXNzb25zKHByZXYgPT4gcHJldi5pbmNsdWRlcyhsZXNzb24uX2lkKSA/IHByZXYgOiBbLi4ucHJldiwgbGVzc29uLl9pZF0pO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQWJzY2hsaWXDn2VuIGZlaGxnZXNjaGxhZ2VuJywgZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0TWFya2luZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEN1cnJlbnRRdWVzdGlvbkluZGV4KG5ld1F1ZXVlWzBdKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUmV0cnkgPSAoKSA9PiB7XG4gICAgc2V0Q3VycmVudFF1ZXN0aW9uSW5kZXgoMCk7XG4gICAgc2V0U2VsZWN0ZWRBbnN3ZXIoXCJcIik7XG4gICAgc2V0U2hvd1Jlc3VsdChmYWxzZSk7XG4gICAgc2V0U2NvcmUoMCk7XG4gICAgc2V0Q29tcGxldGVkKGZhbHNlKTtcbiAgICBzZXRTZWxlY3RlZEFuc3dlcnMoW10pO1xuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gZXJsZWRpZ3RlIExla3Rpb25lbiBhdXMgbG9jYWxTdG9yYWdlIGxhZGVuXG4gICAgY29uc3Qga2V5ID0gYGNvdXJzZToke2NvdXJzZUlkfTpjb21wbGV0ZWRMZXNzb25zYDtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8ICdbXScpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc3RvcmVkKSkgc2V0Q29tcGxldGVkTGVzc29ucyhzdG9yZWQpO1xuICAgIH0gY2F0Y2gge31cbiAgfSwgW2NvdXJzZUlkXSk7XG5cbiAgLy8gKEVudGZlcm50KSBmcsO8aGVyZXIgRWZmZWt0IGbDvHIgZ2VuZXJpc2NoZXMgU3BlaWNoZXJuIGJlaSBjb21wbGV0ZWQgLT4gTG9naWsgamV0enQgaW4gZmluYWxpemVMZXNzb24gU3RlbGxlbiB6ZW50cmFsaXNpZXJ0XG5cbiAgLy8gTmV1OiBUeXBlbi1GbGFncyB1bmQgQWJzY2hsdXNzLUZ1bmt0aW9uIGbDvHIgWW91VHViZVxuICBjb25zdCBpc01hcmtkb3duID0gbGVzc29uPy50eXBlID09PSAnbWFya2Rvd24nICYmIGxlc3Nvbi5jb250ZW50Py5tYXJrZG93bjtcbiAgY29uc3QgaXNWaWRlbyA9IGxlc3Nvbj8udHlwZSA9PT0gJ3ZpZGVvJztcbiAgY29uc3QgaXNMdWVja2VudGV4dCA9IGxlc3Nvbj8udHlwZSA9PT0gJ2x1ZWNrZW50ZXh0JztcbiAgY29uc3QgaXNPcmRlcmluZyA9IGxlc3Nvbj8udHlwZSA9PT0gJ29yZGVyaW5nJztcbiAgY29uc3QgaXNTbmFrZSA9IGxlc3Nvbj8udHlwZSA9PT0gJ3NuYWtlJyB8fCBsZXNzb24/LnR5cGUgPT09ICdtaW5pZ2FtZSc7XG4gIGNvbnN0IG1hcmtWaWRlb0NvbXBsZXRlZCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB1c2VybmFtZSA9IHNlc3Npb24/LnVzZXI/LnVzZXJuYW1lO1xuICAgIGlmICghbGVzc29uKSByZXR1cm47XG4gICAgaWYgKGNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZCkpIHJldHVybjtcbiAgICBzZXRNYXJraW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBmaW5hbGl6ZUxlc3Nvbih7XG4gICAgICAgIHVzZXJuYW1lLCAvLyBvcHRpb25hbCBmw7xyIEfDpHN0ZVxuICAgICAgICBsZXNzb25JZDogbGVzc29uLl9pZCxcbiAgICAgICAgY291cnNlSWQ6IGxlc3Nvbi5jb3Vyc2VJZCxcbiAgICAgICAgdHlwZTogbGVzc29uLnR5cGUsXG4gICAgICAgIGVhcm5lZFN0YXI6IGxlc3Nvbi50eXBlICE9PSAnbWFya2Rvd24nICYmICFjb21wbGV0ZWRMZXNzb25zLmluY2x1ZGVzKGxlc3Nvbi5faWQpXG4gICAgICB9KTtcbiAgICAgIHNldENvbXBsZXRlZExlc3NvbnMocHJldiA9PiBwcmV2LmluY2x1ZGVzKGxlc3Nvbi5faWQpID8gcHJldiA6IFsuLi5wcmV2LCBsZXNzb24uX2lkXSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcignVmlkZW8gQWJzY2hsdXNzIGZlaGxnZXNjaGxhZ2VuJywgZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldE1hcmtpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW3Nlc3Npb24/LnVzZXI/LnVzZXJuYW1lLCBsZXNzb24sIGNvbXBsZXRlZExlc3NvbnMsIGNvdXJzZUlkXSk7XG5cbiAgLy8gQWJzY2hsdXNzIFRleHQtQW50d29ydCBMZWt0aW9uIChjZW50cmFsaXplZClcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWxlc3NvbiB8fCBsZXNzb24udHlwZSAhPT0gJ3RleHQtYW5zd2VyJykgcmV0dXJuO1xuICAgIGNvbnN0IHRvdGFsID0gdGV4dEFuc3dlckJsb2Nrcy5sZW5ndGg7XG4gICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm47XG4gICAgaWYgKHRleHRBbnN3ZXJTb2x2ZWQuc2l6ZSA9PT0gdG90YWwgJiYgIWNvbXBsZXRlZExlc3NvbnMuaW5jbHVkZXMobGVzc29uLl9pZCkpIHtcbiAgICAgIGNvbnN0IHVzZXJuYW1lID0gc2Vzc2lvbj8udXNlcj8udXNlcm5hbWU7XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IGZpbmFsaXplTGVzc29uKHtcbiAgICAgICAgICAgIHVzZXJuYW1lLCAvLyBvcHRpb25hbCBmw7xyIEfDpHN0ZVxuICAgICAgICAgICAgbGVzc29uSWQ6IGxlc3Nvbi5faWQsXG4gICAgICAgICAgICBjb3Vyc2VJZDogbGVzc29uLmNvdXJzZUlkLFxuICAgICAgICAgICAgdHlwZTogbGVzc29uLnR5cGUsXG4gICAgICAgICAgICBlYXJuZWRTdGFyOiBsZXNzb24udHlwZSAhPT0gJ21hcmtkb3duJyAmJiAhY29tcGxldGVkTGVzc29ucy5pbmNsdWRlcyhsZXNzb24uX2lkKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldENvbXBsZXRlZExlc3NvbnMocHJldiA9PiBwcmV2LmluY2x1ZGVzKGxlc3Nvbi5faWQpID8gcHJldiA6IFsuLi5wcmV2LCBsZXNzb24uX2lkXSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdUZXh0LUFudHdvcnQgQWJzY2hsdXNzIGZlaGxnZXNjaGxhZ2VuJywgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfVxuICB9LCBbbGVzc29uLCB0ZXh0QW5zd2VyU29sdmVkLCB0ZXh0QW5zd2VyQmxvY2tzLCBjb21wbGV0ZWRMZXNzb25zLCBzZXNzaW9uPy51c2VyPy51c2VybmFtZSwgY291cnNlSWRdKTtcblxuICAvLyBFYXJseSBSZXR1cm5zIGpldHp0IE5BQ0ggYWxsZW4gSG9va3NcbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBtdC0xMCBwLTZcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIGlubGluZS1ibG9jayB3LTggaC04IGJvcmRlci00IGJvcmRlci1jdXJyZW50IGJvcmRlci10LXRyYW5zcGFyZW50IHRleHQtYmx1ZS02MDAgcm91bmRlZC1mdWxsXCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LWdyYXktNjAwXCI+TGVrdGlvbiB3aXJkIGdlbGFkZW4uLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGlmICghbGVzc29uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gbXQtMTAgcC02IGJnLXdoaXRlIHJvdW5kZWQgc2hhZG93XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDBcIj5MZWt0aW9uIG5pY2h0IGdlZnVuZGVuPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtdC0yXCI+RGllIGFuZ2Vmb3JkZXJ0ZSBMZWt0aW9uIGtvbm50ZSBuaWNodCBnZWxhZGVuIHdlcmRlbi48L3A+XG4gICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcm91dGVyLnB1c2goYC9rdXJzLyR7Y291cnNlSWR9YCl9IGNsYXNzTmFtZT1cIm10LTQgdGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIj7ihpAgWnVyw7xjayB6dW0gS3VyczwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHRvdGFsUXVlc3Rpb25zID0gbGVzc29uLnF1ZXN0aW9ucz8ubGVuZ3RoIHx8IDA7XG4gIGNvbnN0IHByb2dyZXNzID0gdG90YWxRdWVzdGlvbnMgPiAwID8gKG1hc3RlcmVkLnNpemUgLyB0b3RhbFF1ZXN0aW9ucykgKiAxMDAgOiAwO1xuICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBsZXNzb24ucXVlc3Rpb25zICYmIHF1ZXN0aW9uUXVldWUubGVuZ3RoID4gMCA/IGxlc3Nvbi5xdWVzdGlvbnNbcXVlc3Rpb25RdWV1ZVswXV0gOiB1bmRlZmluZWQ7XG5cbiAgLy8gVm9yYmVyZWNobmV0ZSBrb3JyZWt0ZSBBbnR3b3J0ZW4gKG5vcm1hbGlzaWVydCkgZsO8ciBBbnplaWdlL0NoZWNrc1xuICBjb25zdCBjb3JyZWN0TGlzdE5vcm1hbGl6ZWQgPSAoY3VycmVudFF1ZXN0aW9uICYmIChBcnJheS5pc0FycmF5KGN1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2VycykgJiYgY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJzLmxlbmd0aFxuICAgID8gY3VycmVudFF1ZXN0aW9uLmNvcnJlY3RBbnN3ZXJzXG4gICAgOiAoY3VycmVudFF1ZXN0aW9uPy5jb3JyZWN0QW5zd2VyID8gW2N1cnJlbnRRdWVzdGlvbi5jb3JyZWN0QW5zd2VyXSA6IFtdKSkubWFwKG5vcm0pKSB8fCBbXTtcblxuICAvLyBTbmFrZSBmcsO8aGUgUsO8Y2tnYWJlXG4gIC8vIExvY2stUmVkaXJlY3QgYmVpIGxpbmVhcmVyIFByb2dyZXNzaW9uOiB3ZW5uIHZvcmhlcmlnZSBMZWt0aW9uIG5pY2h0IGFiZ2VzY2hsb3NzZW5cbiAgaWYgKGxlc3NvbiAmJiBwcm9ncmVzc2lvbk1vZGUgPT09ICdsaW5lYXInKSB7XG4gICAgY29uc3QgaW5kZXggPSBhbGxMZXNzb25zLmZpbmRJbmRleChsID0+IChsIGFzIGFueSkuX2lkID09PSBsZXNzb24uX2lkIHx8IChsIGFzIGFueSkuaWQgPT09IGxlc3Nvbi5faWQpO1xuICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgIGNvbnN0IHByZXYgPSBhbGxMZXNzb25zW2luZGV4IC0gMV07XG4gICAgICBjb25zdCBwcmV2SWQgPSAocHJldiBhcyBhbnkpLl9pZCB8fCAocHJldiBhcyBhbnkpLmlkO1xuICAgICAgaWYgKHByZXZJZCAmJiAhY29tcGxldGVkTGVzc29ucy5pbmNsdWRlcyhwcmV2SWQpKSB7XG4gICAgICAgIC8vIHJlZGlyZWN0IHp1csO8Y2sgYXVmIEt1cnNzZWl0ZVxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICByb3V0ZXIucmVwbGFjZShgL2t1cnMvJHtjb3Vyc2VJZH1gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChsZXNzb24gJiYgaXNTbmFrZSkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNlwiPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAva3Vycy8ke2NvdXJzZUlkfWApfSBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBtYi00XCI+4oaQIFp1csO8Y2sgenVtIEt1cnM8L2J1dHRvbj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02XCI+e2xlc3Nvbi50aXRsZX08L2gxPlxuICAgICAgICA8U25ha2VHYW1lIGxlc3Nvbj17bGVzc29ufSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHNldENvbXBsZXRlZExlc3NvbnM9e3NldENvbXBsZXRlZExlc3NvbnN9IC8+XG4gIDxMZXNzb25Gb290ZXJOYXZpZ2F0aW9uIGFsbExlc3NvbnM9e2FsbExlc3NvbnN9IGN1cnJlbnRMZXNzb25JZD17bGVzc29uSWR9IGNvdXJzZUlkPXtjb3Vyc2VJZH0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gcHJvZ3Jlc3Npb25Nb2RlPXtwcm9ncmVzc2lvbk1vZGV9IC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gUmVuZGVyIGbDvHIgTWFya2Rvd24tTGVrdGlvblxuICBpZiAoaXNNYXJrZG93bikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIG10LTEwIHAtNlwiPlxuICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKGAva3Vycy8ke2NvdXJzZUlkfWApfSBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwIGhvdmVyOnVuZGVybGluZSBtYi00XCI+4oaQIFp1csO8Y2sgenVtIEt1cnM8L2J1dHRvbj5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCBtYi02XCI+e2xlc3Nvbi50aXRsZX08L2gxPlxuICAgICAgICA8TWFya2Rvd25MZXNzb24gbGVzc29uPXtsZXNzb259IGNvdXJzZUlkPXtjb3Vyc2VJZH0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gc2V0Q29tcGxldGVkTGVzc29ucz17c2V0Q29tcGxldGVkTGVzc29uc30gc2Vzc2lvblVzZXJuYW1lPXtzZXNzaW9uPy51c2VyPy51c2VybmFtZX0gLz5cbiAgPExlc3NvbkZvb3Rlck5hdmlnYXRpb24gYWxsTGVzc29ucz17YWxsTGVzc29uc30gY3VycmVudExlc3NvbklkPXtsZXNzb25JZH0gY291cnNlSWQ9e2NvdXJzZUlkfSBjb21wbGV0ZWRMZXNzb25zPXtjb21wbGV0ZWRMZXNzb25zfSBwcm9ncmVzc2lvbk1vZGU9e3Byb2dyZXNzaW9uTW9kZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICBjb25zdCBpc011bHRpcGxlID0gbGVzc29uLnR5cGUgPT09ICdtdWx0aXBsZS1jaG9pY2UnO1xuICBjb25zdCBpc01hdGNoaW5nID0gbGVzc29uLnR5cGUgPT09ICdtYXRjaGluZyc7XG4gIGNvbnN0IGhhc01lbW9yeVBhaXJzID0gISEobGVzc29uLmNvbnRlbnQgJiYgKGxlc3Nvbi5jb250ZW50IGFzIGFueSkucGFpcnMgJiYgQXJyYXkuaXNBcnJheSgobGVzc29uLmNvbnRlbnQgYXMgYW55KS5wYWlycykpO1xuICBjb25zdCBlZmZlY3RpdmVUeXBlID0gbGVzc29uLnR5cGUgPT09ICdtZW1vcnknIHx8IChsZXNzb24udHlwZSA9PT0gJ21hdGNoaW5nJyAmJiBoYXNNZW1vcnlQYWlycykgPyAnbWVtb3J5JyA6IGxlc3Nvbi50eXBlO1xuICBjb25zdCBpc01lbW9yeSA9IGVmZmVjdGl2ZVR5cGUgPT09ICdtZW1vcnknO1xuXG4gIHJldHVybiAoXG4gIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNnhsIG14LWF1dG8gbXQtMTAgcC02XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByb3V0ZXIucHVzaChgL2t1cnMvJHtjb3Vyc2VJZH1gKX0gY2xhc3NOYW1lPVwidGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmUgbWItNFwiPuKGkCBadXLDvGNrIHp1bSBLdXJzPC9idXR0b24+XG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItMlwiPntsZXNzb24udGl0bGV9PC9oMT5cbiAgeyFpc1ZpZGVvICYmIChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0yMDAgcm91bmRlZC1mdWxsIGgtMlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIGgtMiByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwXCIgc3R5bGU9e3sgd2lkdGg6IGAke3Byb2dyZXNzfSVgIH19IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtdC0xXCI+Rm9ydHNjaHJpdHQ6IHttYXN0ZXJlZC5zaXplfSAvIHt0b3RhbFF1ZXN0aW9uc30gZ2VtZWlzdGVydDwvcD5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBwLThcIj5cbiAgICAgICAge2lzVmlkZW8gPyAoXG4gICAgICAgICAgPFlvdVR1YmVMZXNzb24gbGVzc29uPXtsZXNzb259IG9uQ29tcGxldGVkPXttYXJrVmlkZW9Db21wbGV0ZWR9IC8+XG4gICAgICAgICkgOiBlZmZlY3RpdmVUeXBlID09PSAnbWVtb3J5JyA/IChcbiAgICAgICAgICA8TWVtb3J5R2FtZSBsZXNzb249e3sgLi4ubGVzc29uLCB0eXBlOiAnbWVtb3J5JyB9fSBvbkNvbXBsZXRlZD17KCkgPT4geyBzZXRJc0NvcnJlY3QodHJ1ZSk7IHNldFNob3dSZXN1bHQodHJ1ZSk7IHNldENvbXBsZXRlZCh0cnVlKTsgfX0gY29tcGxldGVkTGVzc29ucz17Y29tcGxldGVkTGVzc29uc30gLz5cbiAgICAgICAgKSA6IGN1cnJlbnRRdWVzdGlvbiA/IChcbiAgICAgICAgICA8PlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCBtYi02XCI+e2N1cnJlbnRRdWVzdGlvbi5xdWVzdGlvbn08L2gyPlxuICAgICAgICAgICAgey8qIE1lZGlhICovfVxuICAgICAgICAgICAgeyFpc01hdGNoaW5nICYmIGN1cnJlbnRRdWVzdGlvbi5tZWRpYUxpbmsgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTYgcC00IGJnLWdyYXktNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgIHtjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rLm1hdGNoKC9cXC4oanBnfGpwZWd8cG5nfGdpZnx3ZWJwKSQvaSkgPyAoXG4gICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQG5leHQvbmV4dC9uby1pbWctZWxlbWVudFxuICAgICAgICAgICAgICAgICAgPGltZyBcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rfSBcbiAgICAgICAgICAgICAgICAgICAgYWx0PVwiRnJhZ2UgQmlsZFwiIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtYXgtdy1mdWxsIG1heC1oLTY0IG9iamVjdC1jb250YWluIG14LWF1dG8gYm9yZGVyIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApIDogY3VycmVudFF1ZXN0aW9uLm1lZGlhTGluay5tYXRjaCgvXFwuKG1wM3x3YXZ8b2dnfG00YSkkL2kpID8gKFxuICAgICAgICAgICAgICAgICAgPGF1ZGlvIGNvbnRyb2xzIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1tZCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzb3VyY2Ugc3JjPXtjdXJyZW50UXVlc3Rpb24ubWVkaWFMaW5rfSAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC02MDAgdGV4dC1zbVwiPkF1ZGlvIHdpcmQgdm9tIEJyb3dzZXIgbmljaHQgdW50ZXJzdMO8dHp0PC9wPlxuICAgICAgICAgICAgICAgICAgPC9hdWRpbz5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGEgXG4gICAgICAgICAgICAgICAgICAgIGhyZWY9e2N1cnJlbnRRdWVzdGlvbi5tZWRpYUxpbmt9IFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIiBcbiAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dW5kZXJsaW5lIGJyZWFrLWFsbFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIPCfk44ge2N1cnJlbnRRdWVzdGlvbi5tZWRpYUxpbmt9XG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogTWF0Y2hpbmcgVUkgKi99XG4gICAgICAgICAgICB7aXNNYXRjaGluZyA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8TWF0Y2hpbmdVSVxuICAgICAgICAgICAgICAgICAgcXVlc3Rpb249e2N1cnJlbnRRdWVzdGlvbn1cbiAgICAgICAgICAgICAgICAgIG9uU29sdmVkPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldElzQ29ycmVjdCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2hvd1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB7c2hvd1Jlc3VsdCAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zIG10LTRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVOZXh0UXVlc3Rpb259IGNsYXNzTmFtZT1cImJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHB4LTUgcHktMiByb3VuZGVkIGhvdmVyOmJnLWdyZWVuLTcwMFwiPldlaXRlcjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JlZW4tNzAwXCI+QWxsZSBQYWFyZSBrb3JyZWt0IHZlcmJ1bmRlbiE8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zIG1iLTZcIj5cbiAgICAgICAgICAgICAgICB7aXNNdWx0aXBsZSA/IChcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRRdWVzdGlvbi5hbGxBbnN3ZXJzLm1hcCgoYW5zd2VyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gc2VsZWN0ZWRBbnN3ZXJzLmluY2x1ZGVzKGFuc3dlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzQ29ycmVjdEFucyA9IGNvcnJlY3RMaXN0Tm9ybWFsaXplZC5pbmNsdWRlcyhub3JtKGFuc3dlcikpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYnV0dG9uQ2xhc3MgPSBcInctZnVsbCBwLTQgdGV4dC1sZWZ0IGJvcmRlci0yIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1hbGwgXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaG93UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29ycmVjdEFucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uQ2xhc3MgKz0gXCJib3JkZXItZ3JlZW4tNTAwIGJnLWdyZWVuLTUwIHRleHQtZ3JlZW4tODAwXCI7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1NlbGVjdGVkICYmICFpc0NvcnJlY3RBbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzICs9IFwiYm9yZGVyLXJlZC01MDAgYmctcmVkLTUwIHRleHQtcmVkLTgwMFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1ncmF5LTIwMCBiZy1ncmF5LTUwIHRleHQtZ3JheS02MDBcIjtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkNsYXNzICs9IFwiYm9yZGVyLWJsdWUtNTAwIGJnLWJsdWUtNTAgdGV4dC1ibHVlLTgwMFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25DbGFzcyArPSBcImJvcmRlci1ncmF5LTIwMCBob3Zlcjpib3JkZXItZ3JheS0zMDAgaG92ZXI6YmctZ3JheS01MFwiO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBbnN3ZXJTZWxlY3QoYW5zd2VyKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtzaG93UmVzdWx0fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtidXR0b25DbGFzc31cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGluZGV4KX0pIHthbnN3ZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50UXVlc3Rpb24uYWxsQW5zd2Vycy5tYXAoKGFuc3dlciwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQW5zd2VyU2VsZWN0KGFuc3dlcil9XG4gICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3Nob3dSZXN1bHR9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHAtNCB0ZXh0LWxlZnQgYm9yZGVyLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRBbnN3ZXIgPT09IGFuc3dlciA/ICdib3JkZXItYmx1ZS01MDAgYmctYmx1ZS01MCB0ZXh0LWJsdWUtODAwJyA6ICdib3JkZXItZ3JheS0yMDAgaG92ZXI6Ym9yZGVyLWdyYXktMzAwIGhvdmVyOmJnLWdyYXktNTAnXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGluZGV4KX0pIHthbnN3ZXJ9XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBDb250cm9scyAqL31cbiAgICAgICAgICAgIHshaXNNYXRjaGluZyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgbXQtNFwiPlxuICAgICAgICAgICAgICAgIHtpc011bHRpcGxlICYmICFzaG93UmVzdWx0ID8gKFxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtoYW5kbGVDaGVja011bHRpcGxlfSBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB4LTUgcHktMiByb3VuZGVkIGhvdmVyOmJnLWJsdWUtNzAwXCI+QW50d29ydCBwcsO8ZmVuPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIHNob3dSZXN1bHQgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17aGFuZGxlTmV4dFF1ZXN0aW9ufSBjbGFzc05hbWU9XCJiZy1ncmVlbi02MDAgdGV4dC13aGl0ZSBweC01IHB5LTIgcm91bmRlZCBob3ZlcjpiZy1ncmVlbi03MDBcIj5XZWl0ZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICkgOiBudWxsXG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICB7c2hvd1Jlc3VsdCAmJiAoXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2B0ZXh0LXNtIGZvbnQtbWVkaXVtICR7aXNDb3JyZWN0ID8gJ3RleHQtZ3JlZW4tNzAwJyA6ICd0ZXh0LXJlZC03MDAnfWB9PlxuICAgICAgICAgICAgICAgICAgICB7aXNDb3JyZWN0ID8gJ1JpY2h0aWchJyA6ICdMZWlkZXIgZmFsc2NoLid9XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvPlxuICAgICAgICApIDogKFxuICAgICAgICAgIDxwPktlaW5lIEZyYWdlIHZvcmhhbmRlbi48L3A+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEZvb3RlciBOYXZpZ2F0aW9uICovfVxuICA8TGVzc29uRm9vdGVyTmF2aWdhdGlvbiBhbGxMZXNzb25zPXthbGxMZXNzb25zfSBjdXJyZW50TGVzc29uSWQ9e2xlc3NvbklkfSBjb3Vyc2VJZD17Y291cnNlSWR9IGNvbXBsZXRlZExlc3NvbnM9e2NvbXBsZXRlZExlc3NvbnN9IHByb2dyZXNzaW9uTW9kZT17cHJvZ3Jlc3Npb25Nb2RlfSAvPlxuICAgICAge2lzTWVtb3J5ICYmIGNvbXBsZXRlZCAmJiA8ZGl2IGNsYXNzTmFtZT1cIm10LTYgdGV4dC1ncmVlbi03MDAgZm9udC1tZWRpdW1cIj7inJTvuI8gTWVtb3J5IGFiZ2VzY2hsb3NzZW4hPC9kaXY+fVxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vLyBDbGllbnQtS29tcG9uZW50ZSBmw7xyIE1hcmtkb3duIFJlbmRlcmluZ1xuLy8gTWF0Y2hpbmdVSSBqZXR6dCBhdXNnZWxhZ2VydFxuXG4vLyBPcmRlcmluZ1BsYXllciB1bmQgTHVlY2tlbnRleHRQbGF5ZXIgYXVzZ2VsYWdlcnRcbiJdLCJuYW1lcyI6WyJ1c2VQYXJhbXMiLCJ1c2VSb3V0ZXIiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInVzZVNlc3Npb24iLCJNYXJrZG93bkxlc3NvbiIsIllvdVR1YmVMZXNzb24iLCJNZW1vcnlHYW1lIiwiTWF0Y2hpbmdVSSIsIkxlc3NvbkZvb3Rlck5hdmlnYXRpb24iLCJTbmFrZUdhbWUiLCJmaW5hbGl6ZUxlc3NvbiIsIkxlc3NvblBhZ2UiLCJsZXNzb24iLCJzZXNzaW9uIiwicGFyYW1zIiwicm91dGVyIiwiY291cnNlSWQiLCJsZXNzb25JZCIsImRhdGEiLCJzZXRMZXNzb24iLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNldEN1cnJlbnRRdWVzdGlvbkluZGV4IiwicXVlc3Rpb25RdWV1ZSIsInNldFF1ZXN0aW9uUXVldWUiLCJtYXN0ZXJlZCIsInNldE1hc3RlcmVkIiwiU2V0IiwibWFya2luZyIsInNldE1hcmtpbmciLCJzZWxlY3RlZEFuc3dlciIsInNldFNlbGVjdGVkQW5zd2VyIiwic2VsZWN0ZWRBbnN3ZXJzIiwic2V0U2VsZWN0ZWRBbnN3ZXJzIiwic2hvd1Jlc3VsdCIsInNldFNob3dSZXN1bHQiLCJpc0NvcnJlY3QiLCJzZXRJc0NvcnJlY3QiLCJzY29yZSIsInNldFNjb3JlIiwiY29tcGxldGVkIiwic2V0Q29tcGxldGVkIiwiYWxsTGVzc29ucyIsInNldEFsbExlc3NvbnMiLCJwcm9ncmVzc2lvbk1vZGUiLCJzZXRQcm9ncmVzc2lvbk1vZGUiLCJjb21wbGV0ZWRMZXNzb25zIiwic2V0Q29tcGxldGVkTGVzc29ucyIsImx0QW5zd2Vyc1N0YXRlIiwic2V0THRBbnN3ZXJzU3RhdGUiLCJsdENoZWNrZWQiLCJzZXRMdENoZWNrZWQiLCJsdENvcnJlY3RBbGwiLCJzZXRMdENvcnJlY3RBbGwiLCJsdFVzZWRBbnN3ZXJzIiwic2V0THRVc2VkQW5zd2VycyIsImx0Rm9jdXNHYXAiLCJzZXRMdEZvY3VzR2FwIiwibHRNYXNrZWQiLCJ0eXBlIiwiU3RyaW5nIiwiY29udGVudCIsIm1hcmtkb3duTWFza2VkIiwibHRHYXBzIiwiQXJyYXkiLCJpc0FycmF5IiwiZ2FwcyIsIm1hcCIsImciLCJpZCIsImFuc3dlciIsImx0TW9kZSIsIm1vZGUiLCJsdFBhcnRzIiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwibHRCYW5rIiwic2h1ZmZsZSIsImFyciIsInYiLCJNYXRoIiwicmFuZG9tIiwic29ydCIsImEiLCJiIiwiX2lkIiwibG9hZExlc3NvbiIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInBheWxvYWQiLCJqc29uIiwibGVzc29uQXJyYXkiLCJsZXNzb25zIiwiY291cnNlIiwiZm91bmRMZXNzb24iLCJmaW5kIiwibCIsImxyIiwibGQiLCJ0b3RhbCIsInF1ZXN0aW9ucyIsImxlbmd0aCIsImZyb20iLCJfIiwiaSIsImNvbXBsZXRlZEtleSIsImluUHJvZ3Jlc3NLZXkiLCJjb21wbGV0ZWRTdG9yZWQiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZm91bmRJZCIsImluY2x1ZGVzIiwiaW5Qcm9nIiwidXBkYXRlZCIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJlcnJvciIsImNvbnNvbGUiLCJEYXRlIiwibm93Iiwibm9ybSIsInMiLCJ0cmltIiwiaGFuZGxlQW5zd2VyU2VsZWN0IiwicHJldiIsImN1cnJlbnRRdWVzdGlvbiIsImNvcnJlY3QiLCJjb3JyZWN0QW5zd2VyIiwiaGFzIiwiaGFuZGxlQ2hlY2tNdWx0aXBsZSIsImNvcnJlY3RMaXN0IiwiY29ycmVjdEFuc3dlcnMiLCJzZWxOb3JtIiwiaXNTZXRFcXVhbCIsImV2ZXJ5IiwidGV4dEFuc3dlcklucHV0Iiwic2V0VGV4dEFuc3dlcklucHV0IiwidGV4dEFuc3dlckZlZWRiYWNrIiwic2V0VGV4dEFuc3dlckZlZWRiYWNrIiwidGV4dEFuc3dlclF1ZXVlIiwic2V0VGV4dEFuc3dlclF1ZXVlIiwidGV4dEFuc3dlclNvbHZlZCIsInNldFRleHRBbnN3ZXJTb2x2ZWQiLCJ0ZXh0QW5zd2VyUmV2ZWFsZWQiLCJzZXRUZXh0QW5zd2VyUmV2ZWFsZWQiLCJ0ZXh0QW5zd2VyUmV2ZWFsUm91bmQiLCJzZXRUZXh0QW5zd2VyUmV2ZWFsUm91bmQiLCJ0ZXh0QW5zd2VyUm91bmQiLCJzZXRUZXh0QW5zd2VyUm91bmQiLCJ0ZXh0QW5zd2VySnVzdFJldmVhbGVkSWR4Iiwic2V0VGV4dEFuc3dlckp1c3RSZXZlYWxlZElkeCIsInRleHRBbnN3ZXJCbG9ja3MiLCJjIiwiYmxvY2tzIiwicXVlc3Rpb24iLCJhbnN3ZXJzIiwibWVkaWEiLCJzdWJtaXRUZXh0QW5zd2VyIiwiY2FzZVNlbnNpdGl2ZSIsIm5vcm1hbGl6ZSIsInRvTG93ZXJDYXNlIiwiY3VycmVudEluZGV4IiwiY3VycmVudCIsInVzZXJOb3JtIiwiY29ycmVjdE5vcm1zIiwic2V0VGltZW91dCIsImFkZCIsInNsaWNlIiwicmV2ZWFsQ3VycmVudFRleHRBbnN3ZXIiLCJpZHgiLCJhZHZhbmNlQWZ0ZXJSZXZlYWwiLCJzaXplIiwicmVtYWluaW5nIiwiciIsInVzZXJuYW1lIiwidXNlciIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiZWFybmVkU3RhciIsImNhdGNoIiwic3RvcmVkIiwiZSIsImhhbmRsZU5leHRRdWVzdGlvbiIsImN1cnJlbnRJZHgiLCJuZXdRdWV1ZSIsIm5ld01hc3RlcmVkIiwic2hpZnQiLCJoYW5kbGVSZXRyeSIsImtleSIsImlzTWFya2Rvd24iLCJtYXJrZG93biIsImlzVmlkZW8iLCJpc0x1ZWNrZW50ZXh0IiwiaXNPcmRlcmluZyIsImlzU25ha2UiLCJtYXJrVmlkZW9Db21wbGV0ZWQiLCJkaXYiLCJjbGFzc05hbWUiLCJwIiwiaDIiLCJidXR0b24iLCJvbkNsaWNrIiwicHVzaCIsInRvdGFsUXVlc3Rpb25zIiwicHJvZ3Jlc3MiLCJ1bmRlZmluZWQiLCJjb3JyZWN0TGlzdE5vcm1hbGl6ZWQiLCJpbmRleCIsImZpbmRJbmRleCIsInByZXZJZCIsInJlcGxhY2UiLCJoMSIsInRpdGxlIiwiY3VycmVudExlc3NvbklkIiwic2Vzc2lvblVzZXJuYW1lIiwiaXNNdWx0aXBsZSIsImlzTWF0Y2hpbmciLCJoYXNNZW1vcnlQYWlycyIsInBhaXJzIiwiZWZmZWN0aXZlVHlwZSIsImlzTWVtb3J5Iiwic3R5bGUiLCJ3aWR0aCIsIm9uQ29tcGxldGVkIiwibWVkaWFMaW5rIiwibWF0Y2giLCJpbWciLCJzcmMiLCJhbHQiLCJhdWRpbyIsImNvbnRyb2xzIiwic291cmNlIiwiaHJlZiIsInRhcmdldCIsInJlbCIsIm9uU29sdmVkIiwic3BhbiIsImFsbEFuc3dlcnMiLCJpc1NlbGVjdGVkIiwiaXNDb3JyZWN0QW5zIiwiYnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsImZyb21DaGFyQ29kZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/kurs/[courseId]/lektion/[lessonId]/page.tsx\n"));

/***/ })

});